<html><head><style type="text/css">
    svg.railroad {
        background-color: hsl(30, 20%, 95%);
        background-size: 15px 15px;
        background-image: linear-gradient(to right, rgba(30, 30, 30, .05) 1px, transparent 1px),
                          linear-gradient(to bottom, rgba(30, 30, 30, .05) 1px, transparent 1px);
    }

    svg.railroad path {
        stroke-width: 3px;
        stroke: black;
        fill: transparent;
    }

    svg.railroad .debug {
        stroke-width: 1px;
        stroke: red;
    }

    svg.railroad text {
        font: 14px monospace;
        text-anchor: middle;
    }

    svg.railroad .nonterminal text {
        font-weight: bold;
    }

    svg.railroad text.comment {
        font: italic 12px monospace;
    }

    svg.railroad rect {
        stroke-width: 3px;
        stroke: black;
        fill:hsl(-290, 70%, 90%);
    }

    svg.railroad g.labeledbox > rect {
        stroke-width: 1px;
        stroke: grey;
        stroke-dasharray: 5px;
        fill:rgba(90, 90, 150, .1);
    }
    svg.railroad .fragment_ty > rect {
        fill: red;
    }
    svg.railroad .fragment_ident > rect {
        fill: orange;
    }

    svg.railroad .fragment_path > rect {
        fill: green;
    }

    svg.railroad .fragment_expr > rect {
        fill: yellow;
    }

    svg.railroad .fragment_pat > rect {
        fill: blue;
    }

    svg.railroad .fragment_stmt > rect {
        fill: aqua;
    }

    svg.railroad .fragment_block > rect {
        fill: aquamarine;
    }

    svg.railroad .fragment_item > rect {
        fill: thistle;
    }

    svg.railroad .fragment_meta > rect {
        fill: violet;
    }

    svg.railroad .fragment_tt > rect {
        fill: turquoise;
    }

    svg.railroad .fragment_lifetime > rect {
        fill: teal;
    }

    svg.railroad .legend {
        transform: scale(0.85);
        transform-origin: bottom left;
        /*transform-box: fill-box;*/
    }

    svg.railroad .legend > rect {
        stroke: black;
        stroke-width: 0.5px;
        stroke-dasharray: 2px;
        fill: rgba(90, 90, 90, .1)
    }

    svg.railroad .legend .comment:first-child {
        text-decoration: underline;
    }

svg.railroad {
    border: 1px solid;
}

div.examples {
    margin: 20px;
    padding: 0px 10px;
}

div.example {
    border: 1px solid;
    border-style: dashed;
    border-radius: 5px;
    padding: 15px;
    margin: 25px;
    height: fit-content;
}

div.dia {
    max-width: 100%;
    max-height: 100%;
}

div.dia.unoptimized {
    display: block;
}
div.dia.optimized {
    display: none;
}
input[type=checkbox]:checked ~ div.dia.unoptimized {
    display: none;
}
input[type=checkbox]:checked ~ div.dia.optimized {
    display: block;
}

pre.rust {
	background-color: darkslategray;
	color: moccasin;
	padding: 10px;
}</style></head><body><h1>Examples from nom-4.0.0</h1><div><div class="examples"><div class="example" id="add&#x5F;return&#x5F;error"><a href="#add&#x5F;return&#x5F;error"><h3>Macro <i>`add_return_error`</i></h3></a><pre class="rust">macro_rules! add_return_error {
    ($i:expr, $code:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $code:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 626; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 626 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 508 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 532 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 204 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
</g>
</g>
<path d=" M 601 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 591 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="191"/>
<text x="42" y="207">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="191"/>
<text x="94" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="191"/>
<text x="134" y="207">
i</text>
</g>
<text class="comment" x="221" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 626; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 626 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
f</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 601 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 591 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="190"/>
<text x="42" y="206">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="190"/>
<text x="94" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="190"/>
<text x="134" y="206">
i</text>
</g>
<text class="comment" x="221" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="alt"><a href="#alt"><h3>Macro <i>`alt`</i></h3></a><pre class="rust">macro_rules! alt {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $($rest:tt)* ) =&gt; { ... };
    (__impl $i:expr, $e:path, $($rest:tt)* ) =&gt; { ... };
    (__impl $i:expr, $e:path | $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $subrule:ident!( $($args:tt)*) | $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $subrule:ident!( $($args:tt)* ) =&gt; { $gen:expr } | $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $e:path =&gt; { $gen:expr } | $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, __end) =&gt; { ... };
    ($i:expr, $($rest:tt)*) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1006; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1006 677" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 658 0 h 254 m -124 0 l -5 -5 m 0 10 l 5 -5 m 124 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="optional">
<path d=" M 593 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 617 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="629" y="31"/>
<text x="655" y="47">
rest</text>
</g>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 912 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 96 v 46 m 912 0 v -46"/>
<path d=" M 47 154 v 46 m 912 0 v -46"/>
<path d=" M 47 220 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 912 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 294 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 912 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 360 v 46 m 912 0 v -46"/>
<path d=" M 47 406 v 33 m 912 0 v -33"/>
<path d=" M 47 84 v 12 a 12 12 0 0 0 12 12 m 354 0 h 534 m -264 0 l -5 -5 m 0 10 l 5 -5 m 264 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="97"/>
<text x="93" y="113">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="97"/>
<text x="151" y="113">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="97"/>
<text x="189" y="113">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="213" y="97"/>
<text x="227" y="113">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="97"/>
<text x="265" y="113">
,</text>
</g>
<g class="optional">
<path d=" M 289 108 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 313 108 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="325" y="97"/>
<text x="351" y="113">
rest</text>
</g>
</g>
</g>
<path d=" M 127 108 h 10"/>
<path d=" M 165 108 h 10"/>
<path d=" M 203 108 h 10"/>
<path d=" M 241 108 h 10"/>
<path d=" M 279 108 h 10"/>
</g>
<path d=" M 47 142 v 12 a 12 12 0 0 0 12 12 m 354 0 h 534 m -264 0 l -5 -5 m 0 10 l 5 -5 m 264 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="155"/>
<text x="93" y="171">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="155"/>
<text x="151" y="171">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="155"/>
<text x="189" y="171">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="213" y="155"/>
<text x="227" y="171">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="155"/>
<text x="265" y="171">
|</text>
</g>
<g class="optional">
<path d=" M 289 166 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 313 166 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="325" y="155"/>
<text x="351" y="171">
rest</text>
</g>
</g>
</g>
<path d=" M 127 166 h 10"/>
<path d=" M 165 166 h 10"/>
<path d=" M 203 166 h 10"/>
<path d=" M 241 166 h 10"/>
<path d=" M 279 166 h 10"/>
</g>
<path d=" M 47 200 v 20 a 12 12 0 0 0 12 12 m 666 0 h 222 m -108 0 l -5 -5 m 0 10 l 5 -5 m 108 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="221"/>
<text x="93" y="237">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="221"/>
<text x="151" y="237">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="221"/>
<text x="189" y="237">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="213" y="221"/>
<text x="251" y="237">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="221"/>
<text x="313" y="237">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="337" y="200"/>
<path d=" M 337 232 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="221"/>
<text x="359" y="237">
(</text>
</g>
<g class="optional">
<path d=" M 383 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 407 232 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="419" y="221"/>
<text x="445" y="237">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="517" y="221"/>
<text x="531" y="237">
)</text>
</g>
<path d=" M 373 232 h 10"/>
<path d=" M 507 232 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="563" y="221"/>
<text x="577" y="237">
|</text>
</g>
<g class="optional">
<path d=" M 601 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 625 232 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="637" y="221"/>
<text x="663" y="237">
rest</text>
</g>
</g>
</g>
<path d=" M 127 232 h 10"/>
<path d=" M 165 232 h 10"/>
<path d=" M 203 232 h 10"/>
<path d=" M 289 232 h 10"/>
<path d=" M 327 232 h 10"/>
<path d=" M 553 232 h 10"/>
<path d=" M 591 232 h 10"/>
</g>
<path d=" M 47 274 v 20 a 12 12 0 0 0 12 12 m 888 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="295"/>
<text x="93" y="311">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="295"/>
<text x="151" y="311">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="295"/>
<text x="189" y="311">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="213" y="295"/>
<text x="251" y="311">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="295"/>
<text x="313" y="311">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="337" y="274"/>
<path d=" M 337 306 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="295"/>
<text x="359" y="311">
(</text>
</g>
<g class="optional">
<path d=" M 383 306 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 407 306 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="419" y="295"/>
<text x="445" y="311">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="517" y="295"/>
<text x="531" y="311">
)</text>
</g>
<path d=" M 373 306 h 10"/>
<path d=" M 507 306 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="563" y="295"/>
<text x="577" y="311">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="295"/>
<text x="615" y="311">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="639" y="287"/>
<path d=" M 639 306 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="295"/>
<text x="661" y="311">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="685" y="295"/>
<text x="707" y="311">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="739" y="295"/>
<text x="753" y="311">
}</text>
</g>
<path d=" M 675 306 h 10"/>
<path d=" M 729 306 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="785" y="295"/>
<text x="799" y="311">
|</text>
</g>
<g class="optional">
<path d=" M 823 306 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 847 306 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="859" y="295"/>
<text x="885" y="311">
rest</text>
</g>
</g>
</g>
<path d=" M 127 306 h 10"/>
<path d=" M 165 306 h 10"/>
<path d=" M 203 306 h 10"/>
<path d=" M 289 306 h 10"/>
<path d=" M 327 306 h 10"/>
<path d=" M 553 306 h 10"/>
<path d=" M 591 306 h 10"/>
<path d=" M 629 306 h 10"/>
<path d=" M 775 306 h 10"/>
<path d=" M 813 306 h 10"/>
</g>
<path d=" M 47 348 v 12 a 12 12 0 0 0 12 12 m 576 0 h 312 m -153 0 l -5 -5 m 0 10 l 5 -5 m 153 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="361"/>
<text x="93" y="377">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="361"/>
<text x="151" y="377">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="361"/>
<text x="189" y="377">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="213" y="361"/>
<text x="227" y="377">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="361"/>
<text x="265" y="377">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="361"/>
<text x="303" y="377">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="327" y="353"/>
<path d=" M 327 372 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="361"/>
<text x="349" y="377">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="373" y="361"/>
<text x="395" y="377">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="427" y="361"/>
<text x="441" y="377">
}</text>
</g>
<path d=" M 363 372 h 10"/>
<path d=" M 417 372 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="473" y="361"/>
<text x="487" y="377">
|</text>
</g>
<g class="optional">
<path d=" M 511 372 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 535 372 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="547" y="361"/>
<text x="573" y="377">
rest</text>
</g>
</g>
</g>
<path d=" M 127 372 h 10"/>
<path d=" M 165 372 h 10"/>
<path d=" M 203 372 h 10"/>
<path d=" M 241 372 h 10"/>
<path d=" M 279 372 h 10"/>
<path d=" M 317 372 h 10"/>
<path d=" M 463 372 h 10"/>
<path d=" M 501 372 h 10"/>
</g>
<path d=" M 47 406 v 0 a 12 12 0 0 0 12 12 m 214 0 h 674 m -334 0 l -5 -5 m 0 10 l 5 -5 m 334 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="407"/>
<text x="93" y="423">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="407"/>
<text x="151" y="423">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="407"/>
<text x="189" y="423">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="213" y="407"/>
<text x="243" y="423">
__end</text>
</g>
<path d=" M 127 418 h 10"/>
<path d=" M 165 418 h 10"/>
<path d=" M 203 418 h 10"/>
</g>
<path d=" M 47 439 v 12 a 12 12 0 0 0 12 12 m 200 0 h 688 m -341 0 l -5 -5 m 0 10 l 5 -5 m 341 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="452"/>
<text x="73" y="468">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="452"/>
<text x="111" y="468">
,</text>
</g>
<g class="optional">
<path d=" M 135 463 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 159 463 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="171" y="452"/>
<text x="197" y="468">
rest</text>
</g>
</g>
</g>
<path d=" M 87 463 h 10"/>
<path d=" M 125 463 h 10"/>
</g>
</g>
<path d=" M 981 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 971 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="499"/>
<g class="verticalgrid">
<text class="comment" x="164" y="520">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="537"/>
<text x="50" y="553">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="537"/>
<text x="134" y="553">
subrule</text>
</g>
<text class="comment" x="245" y="552">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="16" y="571"/>
<text x="30" y="587">
e</text>
</g>
<text class="comment" x="96" y="586">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="605"/>
<text x="38" y="621">
gen</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="72" y="605"/>
<text x="86" y="621">
i</text>
</g>
<text class="comment" x="173" y="620">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="639"/>
<text x="42" y="655">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="639"/>
<text x="106" y="655">
rest</text>
</g>
<text class="comment" x="205" y="654">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 329; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 329 212" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 34 h 24 m 200 0 h 30"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="23"/>
<text x="73" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="23"/>
<text x="111" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 135 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 159 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="171" y="23"/>
<text x="197" y="39">
rest</text>
</g>
</g>
</g>
<path d=" M 87 34 h 10"/>
<path d=" M 125 34 h 10"/>
</g>
<path d=" M 35 34 a 12 12 0 0 1 12 12 v 22 m 230 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 68 v 0 a 12 12 0 0 0 12 12 m 206 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<text class="comment" x="162" y="85">
Macro-internal rules omitted</text>
</g>
<path d=" M 299 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 289 34 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="102"/>
<g class="verticalgrid">
<text class="comment" x="164" y="123">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="140"/>
<text x="30" y="156">
i</text>
</g>
<text class="comment" x="124" y="155">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="174"/>
<text x="42" y="190">
rest</text>
</g>
<text class="comment" x="141" y="189">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="alt&#x5F;complete"><a href="#alt&#x5F;complete"><h3>Macro <i>`alt_complete`</i></h3></a><pre class="rust">macro_rules! alt_complete {
    ($i:expr, $e:path | $($rest:tt)*) =&gt; { ... };
    ($i:expr, $subrule:ident!( $($args:tt)*) | $($rest:tt)*) =&gt; { ... };
    ($i:expr, $subrule:ident!( $($args:tt)* ) =&gt; { $gen:expr } | $($rest:tt)+) =&gt; { ... };
    ($i:expr, $e:path =&gt; { $gen:expr } | $($rest:tt)*) =&gt; { ... };
    ($i:expr, $e:path =&gt; { $gen:expr }) =&gt; { ... };
    ($i:expr, $subrule:ident!( $($args:tt)* ) =&gt; { $gen:expr }) =&gt; { ... };
    ($i:expr, $e:path) =&gt; { ... };
    ($i:expr, $subrule:ident!( $($args:tt)*)) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 880; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 880 683" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 34 h 24 m 276 0 h 510 m -252 0 l -5 -5 m 0 10 l 5 -5 m 252 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="23"/>
<text x="73" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="23"/>
<text x="111" y="39">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="23"/>
<text x="149" y="39">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="23"/>
<text x="187" y="39">
|</text>
</g>
<g class="optional">
<path d=" M 211 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 235 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="247" y="23"/>
<text x="273" y="39">
rest</text>
</g>
</g>
</g>
<path d=" M 87 34 h 10"/>
<path d=" M 125 34 h 10"/>
<path d=" M 163 34 h 10"/>
<path d=" M 201 34 h 10"/>
</g>
<path d=" M 35 34 a 12 12 0 0 1 12 12 v 22 m 786 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 88 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 786 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 162 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 786 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 228 v 46 m 786 0 v -46"/>
<path d=" M 47 281 v 41 m 786 0 v -41"/>
<path d=" M 47 342 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 786 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 396 v 33 m 786 0 v -33"/>
<path d=" M 47 68 v 20 a 12 12 0 0 0 12 12 m 588 0 h 174 m -84 0 l -5 -5 m 0 10 l 5 -5 m 84 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="89"/>
<text x="73" y="105">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="89"/>
<text x="111" y="105">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="89"/>
<text x="173" y="105">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="89"/>
<text x="235" y="105">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="68"/>
<path d=" M 259 100 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="89"/>
<text x="281" y="105">
(</text>
</g>
<g class="optional">
<path d=" M 305 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 100 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="89"/>
<text x="367" y="105">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="89"/>
<text x="453" y="105">
)</text>
</g>
<path d=" M 295 100 h 10"/>
<path d=" M 429 100 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="89"/>
<text x="499" y="105">
|</text>
</g>
<g class="optional">
<path d=" M 523 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 547 100 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="559" y="89"/>
<text x="585" y="105">
rest</text>
</g>
</g>
</g>
<path d=" M 87 100 h 10"/>
<path d=" M 125 100 h 10"/>
<path d=" M 211 100 h 10"/>
<path d=" M 249 100 h 10"/>
<path d=" M 475 100 h 10"/>
<path d=" M 513 100 h 10"/>
</g>
<path d=" M 47 142 v 20 a 12 12 0 0 0 12 12 m 762 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="163"/>
<text x="73" y="179">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="163"/>
<text x="111" y="179">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="163"/>
<text x="173" y="179">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="163"/>
<text x="235" y="179">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="142"/>
<path d=" M 259 174 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="163"/>
<text x="281" y="179">
(</text>
</g>
<g class="optional">
<path d=" M 305 174 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 174 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="163"/>
<text x="367" y="179">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="163"/>
<text x="453" y="179">
)</text>
</g>
<path d=" M 295 174 h 10"/>
<path d=" M 429 174 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="163"/>
<text x="499" y="179">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="163"/>
<text x="537" y="179">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="561" y="155"/>
<path d=" M 561 174 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="163"/>
<text x="583" y="179">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="607" y="163"/>
<text x="629" y="179">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="661" y="163"/>
<text x="675" y="179">
}</text>
</g>
<path d=" M 597 174 h 10"/>
<path d=" M 651 174 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="707" y="163"/>
<text x="721" y="179">
|</text>
</g>
<g class="repeat">
<path d=" M 745 174 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="757" y="163"/>
<text x="783" y="179">
rest</text>
</g>
</g>
<path d=" M 87 174 h 10"/>
<path d=" M 125 174 h 10"/>
<path d=" M 211 174 h 10"/>
<path d=" M 249 174 h 10"/>
<path d=" M 475 174 h 10"/>
<path d=" M 513 174 h 10"/>
<path d=" M 551 174 h 10"/>
<path d=" M 697 174 h 10"/>
<path d=" M 735 174 h 10"/>
</g>
<path d=" M 47 216 v 12 a 12 12 0 0 0 12 12 m 498 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="229"/>
<text x="73" y="245">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="229"/>
<text x="111" y="245">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="229"/>
<text x="149" y="245">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="229"/>
<text x="187" y="245">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="211" y="229"/>
<text x="225" y="245">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="249" y="221"/>
<path d=" M 249 240 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="257" y="229"/>
<text x="271" y="245">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="295" y="229"/>
<text x="317" y="245">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="229"/>
<text x="363" y="245">
}</text>
</g>
<path d=" M 285 240 h 10"/>
<path d=" M 339 240 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="395" y="229"/>
<text x="409" y="245">
|</text>
</g>
<g class="optional">
<path d=" M 433 240 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 457 240 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="469" y="229"/>
<text x="495" y="245">
rest</text>
</g>
</g>
</g>
<path d=" M 87 240 h 10"/>
<path d=" M 125 240 h 10"/>
<path d=" M 163 240 h 10"/>
<path d=" M 201 240 h 10"/>
<path d=" M 239 240 h 10"/>
<path d=" M 385 240 h 10"/>
<path d=" M 423 240 h 10"/>
</g>
<path d=" M 47 274 v 7 a 12 12 0 0 0 12 12 m 326 0 h 436 m -215 0 l -5 -5 m 0 10 l 5 -5 m 215 0 a 12 12 0 0 0 12 -12 v -7"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="282"/>
<text x="73" y="298">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="282"/>
<text x="111" y="298">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="282"/>
<text x="149" y="298">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="282"/>
<text x="187" y="298">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="211" y="282"/>
<text x="225" y="298">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="249" y="274"/>
<path d=" M 249 293 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="257" y="282"/>
<text x="271" y="298">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="295" y="282"/>
<text x="317" y="298">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="282"/>
<text x="363" y="298">
}</text>
</g>
<path d=" M 285 293 h 10"/>
<path d=" M 339 293 h 10"/>
</g>
</g>
<path d=" M 87 293 h 10"/>
<path d=" M 125 293 h 10"/>
<path d=" M 163 293 h 10"/>
<path d=" M 201 293 h 10"/>
<path d=" M 239 293 h 10"/>
</g>
<path d=" M 47 322 v 20 a 12 12 0 0 0 12 12 m 638 0 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="343"/>
<text x="73" y="359">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="343"/>
<text x="111" y="359">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="343"/>
<text x="173" y="359">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="343"/>
<text x="235" y="359">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="322"/>
<path d=" M 259 354 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="343"/>
<text x="281" y="359">
(</text>
</g>
<g class="optional">
<path d=" M 305 354 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 354 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="343"/>
<text x="367" y="359">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="343"/>
<text x="453" y="359">
)</text>
</g>
<path d=" M 295 354 h 10"/>
<path d=" M 429 354 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="343"/>
<text x="499" y="359">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="343"/>
<text x="537" y="359">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="561" y="335"/>
<path d=" M 561 354 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="343"/>
<text x="583" y="359">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="607" y="343"/>
<text x="629" y="359">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="661" y="343"/>
<text x="675" y="359">
}</text>
</g>
<path d=" M 597 354 h 10"/>
<path d=" M 651 354 h 10"/>
</g>
</g>
<path d=" M 87 354 h 10"/>
<path d=" M 125 354 h 10"/>
<path d=" M 211 354 h 10"/>
<path d=" M 249 354 h 10"/>
<path d=" M 475 354 h 10"/>
<path d=" M 513 354 h 10"/>
<path d=" M 551 354 h 10"/>
</g>
<path d=" M 47 396 v 0 a 12 12 0 0 0 12 12 m 104 0 h 658 m -326 0 l -5 -5 m 0 10 l 5 -5 m 326 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="397"/>
<text x="73" y="413">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="397"/>
<text x="111" y="413">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="397"/>
<text x="149" y="413">
e</text>
</g>
<path d=" M 87 408 h 10"/>
<path d=" M 125 408 h 10"/>
</g>
<path d=" M 47 429 v 20 a 12 12 0 0 0 12 12 m 416 0 h 346 m -170 0 l -5 -5 m 0 10 l 5 -5 m 170 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="450"/>
<text x="73" y="466">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="450"/>
<text x="111" y="466">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="450"/>
<text x="173" y="466">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="450"/>
<text x="235" y="466">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="429"/>
<path d=" M 259 461 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="450"/>
<text x="281" y="466">
(</text>
</g>
<g class="optional">
<path d=" M 305 461 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 461 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="450"/>
<text x="367" y="466">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="450"/>
<text x="453" y="466">
)</text>
</g>
<path d=" M 295 461 h 10"/>
<path d=" M 429 461 h 10"/>
</g>
</g>
<path d=" M 87 461 h 10"/>
<path d=" M 125 461 h 10"/>
<path d=" M 211 461 h 10"/>
<path d=" M 249 461 h 10"/>
</g>
</g>
<path d=" M 855 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 845 34 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="505"/>
<g class="verticalgrid">
<text class="comment" x="164" y="526">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="16" y="543"/>
<text x="54" y="559">
subrule</text>
</g>
<text class="comment" x="168" y="558">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="16" y="577"/>
<text x="30" y="593">
e</text>
</g>
<text class="comment" x="96" y="592">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="611"/>
<text x="38" y="627">
gen</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="72" y="611"/>
<text x="86" y="627">
i</text>
</g>
<text class="comment" x="173" y="626">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="645"/>
<text x="42" y="661">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="645"/>
<text x="106" y="661">
rest</text>
</g>
<text class="comment" x="205" y="660">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1024; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1024 458" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 58 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="47"/>
<text x="49" y="63">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="47"/>
<text x="87" y="63">
,</text>
</g>
<g class="choice">
<path d=" M 111 58 h 24 m 566 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0"/>
<g class="sequence">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="47"/>
<text x="149" y="63">
e</text>
</g>
<g class="optional">
<path d=" M 173 58 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -24 a 12 12 0 0 1 12 -12 h 480 m -237 0 l -5 -5 m 0 10 l 5 -5 m 237 0 a 12 12 0 0 1 12 12 v 24 a 12 12 0 0 0 12 12 h -24"/>
<g class="choice">
<path d=" M 197 58 h 24 m 432 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="47"/>
<text x="235" y="63">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="47"/>
<text x="273" y="63">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="297" y="39"/>
<path d=" M 297 58 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="47"/>
<text x="319" y="63">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="343" y="47"/>
<text x="365" y="63">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="47"/>
<text x="411" y="63">
}</text>
</g>
<path d=" M 333 58 h 10"/>
<path d=" M 387 58 h 10"/>
</g>
</g>
<g class="optional">
<path d=" M 443 58 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 162 m -78 0 l -5 -5 m 0 10 l 5 -5 m 78 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="467" y="47"/>
<text x="481" y="63">
|</text>
</g>
<g class="optional">
<path d=" M 505 58 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 529 58 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="541" y="47"/>
<text x="567" y="63">
rest</text>
</g>
</g>
</g>
<path d=" M 495 58 h 10"/>
</g>
</g>
<path d=" M 249 58 h 10"/>
<path d=" M 287 58 h 10"/>
<path d=" M 433 58 h 10"/>
</g>
<path d=" M 197 58 a 12 12 0 0 1 12 12 v 22 m 456 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 209 92 v 12 a 12 12 0 0 0 12 12 m 162 0 h 270 m -132 0 l -5 -5 m 0 10 l 5 -5 m 132 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="105"/>
<text x="235" y="121">
|</text>
</g>
<g class="optional">
<path d=" M 259 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 283 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="295" y="105"/>
<text x="321" y="121">
rest</text>
</g>
</g>
</g>
<path d=" M 249 116 h 10"/>
</g>
</g>
</g>
<path d=" M 163 58 h 10"/>
</g>
<path d=" M 111 58 a 12 12 0 0 1 12 12 v 80 m 0 -37 l -5 -5 m 10 0 l -5 5 m 0 37 m 854 0 v -80 m 0 43 l -5 5 m 10 0 l -5 -5 m 0 -43 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 150 v 24 a 12 12 0 0 0 12 12 m 830 0 h 0 a 12 12 0 0 0 12 -12 v -24"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="175"/>
<text x="173" y="191">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="175"/>
<text x="235" y="191">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="154"/>
<path d=" M 259 186 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="175"/>
<text x="281" y="191">
(</text>
</g>
<g class="optional">
<path d=" M 305 186 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 186 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="175"/>
<text x="367" y="191">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="175"/>
<text x="453" y="191">
)</text>
</g>
<path d=" M 295 186 h 10"/>
<path d=" M 429 186 h 10"/>
</g>
</g>
<g class="optional">
<path d=" M 485 186 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 432 m -213 0 l -5 -5 m 0 10 l 5 -5 m 213 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="choice">
<path d=" M 509 186 h 24 m 384 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="175"/>
<text x="547" y="191">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="175"/>
<text x="585" y="191">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="136" x="609" y="167"/>
<path d=" M 609 186 h 8 m 120 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="175"/>
<text x="631" y="191">
{</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="655" y="175"/>
<text x="677" y="191">
gen</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="709" y="175"/>
<text x="723" y="191">
}</text>
</g>
<path d=" M 645 186 h 10"/>
<path d=" M 699 186 h 10"/>
</g>
</g>
<g class="optional">
<path d=" M 755 186 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 114 m -54 0 l -5 -5 m 0 10 l 5 -5 m 54 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="779" y="175"/>
<text x="793" y="191">
|</text>
</g>
<g class="repeat">
<path d=" M 817 186 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="829" y="175"/>
<text x="855" y="191">
rest</text>
</g>
</g>
<path d=" M 807 186 h 10"/>
</g>
</g>
<path d=" M 561 186 h 10"/>
<path d=" M 599 186 h 10"/>
<path d=" M 745 186 h 10"/>
</g>
<path d=" M 509 186 a 12 12 0 0 1 12 12 v 22 m 408 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 521 220 v 12 a 12 12 0 0 0 12 12 m 162 0 h 222 m -108 0 l -5 -5 m 0 10 l 5 -5 m 108 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="233"/>
<text x="547" y="249">
|</text>
</g>
<g class="optional">
<path d=" M 571 244 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 595 244 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="607" y="233"/>
<text x="633" y="249">
rest</text>
</g>
</g>
</g>
<path d=" M 561 244 h 10"/>
</g>
</g>
</g>
<path d=" M 211 186 h 10"/>
<path d=" M 249 186 h 10"/>
<path d=" M 475 186 h 10"/>
</g>
</g>
<path d=" M 63 58 h 10"/>
<path d=" M 101 58 h 10"/>
</g>
<path d=" M 999 58 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 58 h 10"/>
<path d=" M 989 58 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="280"/>
<g class="verticalgrid">
<text class="comment" x="164" y="301">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="16" y="318"/>
<text x="54" y="334">
subrule</text>
</g>
<text class="comment" x="168" y="333">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="16" y="352"/>
<text x="30" y="368">
e</text>
</g>
<text class="comment" x="96" y="367">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="386"/>
<text x="38" y="402">
gen</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="72" y="386"/>
<text x="86" y="402">
i</text>
</g>
<text class="comment" x="173" y="401">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="420"/>
<text x="42" y="436">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="420"/>
<text x="106" y="436">
rest</text>
</g>
<text class="comment" x="205" y="435">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="apply"><a href="#apply"><h3>Macro <i>`apply`</i></h3></a><pre class="rust">macro_rules! apply {
    ($i:expr, $fun:expr, $($args:expr),* ) =&gt; { ... };
}</pre><br><div style="width: 362; height: auto" class="dia"><svg class="railroad" viewBox="0 0 362 165" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="23"/>
<text x="133" y="39">
fun</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="165" y="23"/>
<text x="179" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 203 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 227 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="263" y="55"/>
<text x="277" y="71">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="239" y="23"/>
<text x="265" y="39">
args</text>
</g>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
<path d=" M 155 34 h 10"/>
<path d=" M 193 34 h 10"/>
</g>
<path d=" M 337 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 327 34 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="89"/>
<g class="verticalgrid">
<text class="comment" x="164" y="110">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="127"/>
<text x="42" y="143">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="80" y="127"/>
<text x="102" y="143">
fun</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="127"/>
<text x="150" y="143">
i</text>
</g>
<text class="comment" x="237" y="142">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="apply&#x5F;m"><a href="#apply&#x5F;m"><h3>Macro <i>`apply_m`</i></h3></a><pre class="rust">macro_rules! apply_m {
    ($i:expr, $self_:ident.$method:ident, $($args:expr),* ) =&gt; { ... };
}</pre><br><div style="width: 494; height: auto" class="dia"><svg class="railroad" viewBox="0 0 494 199" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="111" y="23"/>
<text x="141" y="39">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="181" y="23"/>
<text x="195" y="39">
.</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="219" y="23"/>
<text x="253" y="39">
method</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="23"/>
<text x="311" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 335 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 359 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="395" y="55"/>
<text x="409" y="71">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="371" y="23"/>
<text x="397" y="39">
args</text>
</g>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
<path d=" M 171 34 h 10"/>
<path d=" M 209 34 h 10"/>
<path d=" M 287 34 h 10"/>
<path d=" M 325 34 h 10"/>
</g>
<path d=" M 469 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 459 34 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="89"/>
<g class="verticalgrid">
<text class="comment" x="164" y="110">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="127"/>
<text x="50" y="143">
method</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="96" y="127"/>
<text x="126" y="143">
self_</text>
</g>
<text class="comment" x="229" y="142">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="161"/>
<text x="42" y="177">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="161"/>
<text x="94" y="177">
i</text>
</g>
<text class="comment" x="181" y="176">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="bits"><a href="#bits"><h3>Macro <i>`bits`</i></h3></a><pre class="rust">macro_rules! bits {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="bytes"><a href="#bytes"><h3>Macro <i>`bytes`</i></h3></a><pre class="rust">macro_rules! bytes {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="call"><a href="#call"><h3>Macro <i>`call`</i></h3></a><pre class="rust">macro_rules! call {
    ($i:expr, $fun:expr) =&gt; { ... };
    ($i:expr, $fun:expr, $($args:expr),* ) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 410; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 410 197" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 21 h 24 m 120 0 h 196 m -95 0 l -5 -5 m 0 10 l 5 -5 m 95 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="10"/>
<text x="73" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="10"/>
<text x="111" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="135" y="10"/>
<text x="157" y="26">
fun</text>
</g>
<path d=" M 87 21 h 10"/>
<path d=" M 125 21 h 10"/>
</g>
<path d=" M 35 21 a 12 12 0 0 1 12 12 v 9 m 316 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 42 v 12 a 12 12 0 0 0 12 12 m 292 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="55"/>
<text x="73" y="71">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="55"/>
<text x="111" y="71">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="135" y="55"/>
<text x="157" y="71">
fun</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="55"/>
<text x="203" y="71">
,</text>
</g>
<g class="optional">
<path d=" M 227 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 251 66 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="87"/>
<text x="301" y="103">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="263" y="55"/>
<text x="289" y="71">
args</text>
</g>
</g>
</g>
<path d=" M 87 66 h 10"/>
<path d=" M 125 66 h 10"/>
<path d=" M 179 66 h 10"/>
<path d=" M 217 66 h 10"/>
</g>
</g>
<path d=" M 385 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 375 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="121"/>
<g class="verticalgrid">
<text class="comment" x="164" y="142">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="159"/>
<text x="42" y="175">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="80" y="159"/>
<text x="102" y="175">
fun</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="159"/>
<text x="150" y="175">
i</text>
</g>
<text class="comment" x="237" y="174">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 410; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 410 177" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 46 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="35"/>
<text x="49" y="51">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="35"/>
<text x="87" y="51">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="35"/>
<text x="133" y="51">
fun</text>
</g>
<g class="optional">
<path d=" M 165 46 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 162 m -78 0 l -5 -5 m 0 10 l 5 -5 m 78 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="35"/>
<text x="203" y="51">
,</text>
</g>
<g class="optional">
<path d=" M 227 46 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 251 46 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="287" y="67"/>
<text x="301" y="83">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="263" y="35"/>
<text x="289" y="51">
args</text>
</g>
</g>
</g>
<path d=" M 217 46 h 10"/>
</g>
</g>
<path d=" M 63 46 h 10"/>
<path d=" M 101 46 h 10"/>
<path d=" M 155 46 h 10"/>
</g>
<path d=" M 385 46 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 46 h 10"/>
<path d=" M 375 46 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="101"/>
<g class="verticalgrid">
<text class="comment" x="164" y="122">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="139"/>
<text x="42" y="155">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="80" y="139"/>
<text x="102" y="155">
fun</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="139"/>
<text x="150" y="155">
i</text>
</g>
<text class="comment" x="237" y="154">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="call&#x5F;m"><a href="#call&#x5F;m"><h3>Macro <i>`call_m`</i></h3></a><pre class="rust">macro_rules! call_m {
    ($i:expr, $self_:ident.$method:ident) =&gt; { ... };
    ($i:expr, $self_:ident.$method:ident, $($args:expr),* ) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 542; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 542 231" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 21 h 24 m 252 0 h 196 m -95 0 l -5 -5 m 0 10 l 5 -5 m 95 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="10"/>
<text x="73" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="10"/>
<text x="111" y="26">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="135" y="10"/>
<text x="165" y="26">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="10"/>
<text x="219" y="26">
.</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="243" y="10"/>
<text x="277" y="26">
method</text>
</g>
<path d=" M 87 21 h 10"/>
<path d=" M 125 21 h 10"/>
<path d=" M 195 21 h 10"/>
<path d=" M 233 21 h 10"/>
</g>
<path d=" M 35 21 a 12 12 0 0 1 12 12 v 9 m 448 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 42 v 12 a 12 12 0 0 0 12 12 m 424 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="55"/>
<text x="73" y="71">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="55"/>
<text x="111" y="71">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="135" y="55"/>
<text x="165" y="71">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="55"/>
<text x="219" y="71">
.</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="243" y="55"/>
<text x="277" y="71">
method</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="321" y="55"/>
<text x="335" y="71">
,</text>
</g>
<g class="optional">
<path d=" M 359 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 383 66 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="87"/>
<text x="433" y="103">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="395" y="55"/>
<text x="421" y="71">
args</text>
</g>
</g>
</g>
<path d=" M 87 66 h 10"/>
<path d=" M 125 66 h 10"/>
<path d=" M 195 66 h 10"/>
<path d=" M 233 66 h 10"/>
<path d=" M 311 66 h 10"/>
<path d=" M 349 66 h 10"/>
</g>
</g>
<path d=" M 517 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 507 21 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="121"/>
<g class="verticalgrid">
<text class="comment" x="164" y="142">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="159"/>
<text x="50" y="175">
method</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="96" y="159"/>
<text x="126" y="175">
self_</text>
</g>
<text class="comment" x="229" y="174">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="193"/>
<text x="42" y="209">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="193"/>
<text x="94" y="209">
i</text>
</g>
<text class="comment" x="181" y="208">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 542; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 542 211" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 46 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="35"/>
<text x="49" y="51">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="35"/>
<text x="87" y="51">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="111" y="35"/>
<text x="141" y="51">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="181" y="35"/>
<text x="195" y="51">
.</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="219" y="35"/>
<text x="253" y="51">
method</text>
</g>
<g class="optional">
<path d=" M 297 46 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 162 m -78 0 l -5 -5 m 0 10 l 5 -5 m 78 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="321" y="35"/>
<text x="335" y="51">
,</text>
</g>
<g class="optional">
<path d=" M 359 46 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 383 46 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="67"/>
<text x="433" y="83">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="395" y="35"/>
<text x="421" y="51">
args</text>
</g>
</g>
</g>
<path d=" M 349 46 h 10"/>
</g>
</g>
<path d=" M 63 46 h 10"/>
<path d=" M 101 46 h 10"/>
<path d=" M 171 46 h 10"/>
<path d=" M 209 46 h 10"/>
<path d=" M 287 46 h 10"/>
</g>
<path d=" M 517 46 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 46 h 10"/>
<path d=" M 507 46 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="101"/>
<g class="verticalgrid">
<text class="comment" x="164" y="122">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="139"/>
<text x="50" y="155">
method</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="96" y="139"/>
<text x="126" y="155">
self_</text>
</g>
<text class="comment" x="229" y="154">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="173"/>
<text x="42" y="189">
args</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="173"/>
<text x="94" y="189">
i</text>
</g>
<text class="comment" x="181" y="188">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="char"><a href="#char"><h3>Macro <i>`char`</i></h3></a><pre class="rust">macro_rules! char {
    ($i:expr, $c: expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
c</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
c</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="closure"><a href="#closure"><h3>Macro <i>`closure`</i></h3></a><pre class="rust">macro_rules! closure {
    ($ty:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 534; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 534 304" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 416 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="36" x="59" y="31"/>
<text x="77" y="47">
ty</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="31"/>
<text x="119" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="143" y="31"/>
<text x="177" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="31"/>
<text x="235" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="259" y="10"/>
<path d=" M 259 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="31"/>
<text x="281" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 305 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="341" y="31"/>
<text x="367" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="31"/>
<text x="453" y="47">
)</text>
</g>
<path d=" M 295 42 h 10"/>
<path d=" M 429 42 h 10"/>
</g>
</g>
<path d=" M 95 42 h 10"/>
<path d=" M 133 42 h 10"/>
<path d=" M 211 42 h 10"/>
<path d=" M 249 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 440 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 332 0 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="59" y="105"/>
<text x="93" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="137" y="105"/>
<text x="151" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="175" y="84"/>
<path d=" M 175 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="183" y="105"/>
<text x="197" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 221 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 245 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="257" y="105"/>
<text x="283" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="355" y="105"/>
<text x="369" y="121">
)</text>
</g>
<path d=" M 211 116 h 10"/>
<path d=" M 345 116 h 10"/>
</g>
</g>
<path d=" M 127 116 h 10"/>
<path d=" M 165 116 h 10"/>
</g>
</g>
<path d=" M 509 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="160"/>
<g class="verticalgrid">
<text class="comment" x="164" y="181">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="198"/>
<text x="50" y="214">
submac</text>
</g>
<text class="comment" x="160" y="213">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="36" x="16" y="232"/>
<text x="34" y="248">
ty</text>
</g>
<text class="comment" x="104" y="247">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="266"/>
<text x="42" y="282">
args</text>
</g>
<text class="comment" x="141" y="281">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 534; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 534 230" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 74 m -34 0 l -5 -5 m 0 10 l 5 -5 m 34 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="36" x="59" y="31"/>
<text x="77" y="47">
ty</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="31"/>
<text x="119" y="47">
,</text>
</g>
<path d=" M 95 42 h 10"/>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="31"/>
<text x="201" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="31"/>
<text x="259" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="10"/>
<path d=" M 283 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 329 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="31"/>
<text x="391" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="31"/>
<text x="477" y="47">
)</text>
</g>
<path d=" M 319 42 h 10"/>
<path d=" M 453 42 h 10"/>
</g>
</g>
<path d=" M 157 42 h 10"/>
<path d=" M 235 42 h 10"/>
<path d=" M 273 42 h 10"/>
</g>
<path d=" M 509 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="86"/>
<g class="verticalgrid">
<text class="comment" x="164" y="107">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="124"/>
<text x="50" y="140">
submac</text>
</g>
<text class="comment" x="160" y="139">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="36" x="16" y="158"/>
<text x="34" y="174">
ty</text>
</g>
<text class="comment" x="104" y="173">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="192"/>
<text x="42" y="208">
args</text>
</g>
<text class="comment" x="141" y="207">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="complete"><a href="#complete"><h3>Macro <i>`complete`</i></h3></a><pre class="rust">macro_rules! complete {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="cond"><a href="#cond"><h3>Macro <i>`cond`</i></h3></a><pre class="rust">macro_rules! cond {
    ($i:expr, $cond:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $cond:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 626; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 626 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 508 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 532 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 204 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
</g>
</g>
<path d=" M 601 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 591 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="191"/>
<text x="42" y="207">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="191"/>
<text x="94" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="191"/>
<text x="134" y="207">
i</text>
</g>
<text class="comment" x="221" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 626; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 626 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
f</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 601 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 591 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="190"/>
<text x="42" y="206">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="190"/>
<text x="94" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="190"/>
<text x="134" y="206">
i</text>
</g>
<text class="comment" x="221" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="cond&#x5F;reduce"><a href="#cond&#x5F;reduce"><h3>Macro <i>`cond_reduce`</i></h3></a><pre class="rust">macro_rules! cond_reduce {
    ($i:expr, $cond:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $cond:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 626; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 626 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 508 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 532 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 204 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
</g>
</g>
<path d=" M 601 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 591 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="191"/>
<text x="42" y="207">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="191"/>
<text x="94" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="191"/>
<text x="134" y="207">
i</text>
</g>
<text class="comment" x="221" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 626; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 626 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
f</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 601 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 591 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="190"/>
<text x="42" y="206">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="190"/>
<text x="94" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="190"/>
<text x="134" y="206">
i</text>
</g>
<text class="comment" x="221" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="cond&#x5F;with&#x5F;error"><a href="#cond&#x5F;with&#x5F;error"><h3>Macro <i>`cond_with_error`</i></h3></a><pre class="rust">macro_rules! cond_with_error {
    ($i:expr, $cond:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $cond:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 626; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 626 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 508 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 532 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 204 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
</g>
</g>
<path d=" M 601 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 591 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="191"/>
<text x="42" y="207">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="191"/>
<text x="94" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="191"/>
<text x="134" y="207">
i</text>
</g>
<text class="comment" x="221" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 626; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 626 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
cond</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
f</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 601 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 591 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="190"/>
<text x="42" y="206">
cond</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="190"/>
<text x="94" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="190"/>
<text x="134" y="206">
i</text>
</g>
<text class="comment" x="221" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="count"><a href="#count"><h3>Macro <i>`count`</i></h3></a><pre class="rust">macro_rules! count {
    ($i:expr, $submac:ident!( $($args:tt)* ), $count: expr) =&gt; { ... };
    ($i:expr, $f:expr, $count: expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 634; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 634 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 516 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="515" y="31"/>
<text x="545" y="47">
count</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 540 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 212 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="211" y="85"/>
<text x="241" y="101">
count</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
</g>
</g>
<path d=" M 609 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 599 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="191"/>
<text x="46" y="207">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="191"/>
<text x="102" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="191"/>
<text x="142" y="207">
i</text>
</g>
<text class="comment" x="229" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 634; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 634 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="10"/>
<text x="515" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="539" y="10"/>
<text x="569" y="26">
count</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 491 21 h 10"/>
<path d=" M 529 21 h 10"/>
</g>
<path d=" M 609 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 599 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="190"/>
<text x="46" y="206">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="190"/>
<text x="102" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="190"/>
<text x="142" y="206">
i</text>
</g>
<text class="comment" x="229" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="count&#x5F;fixed"><a href="#count&#x5F;fixed"><h3>Macro <i>`count_fixed`</i></h3></a><pre class="rust">macro_rules! count_fixed {
    ($i:expr, $typ:ty, $submac:ident!( $($args:tt)* ), $count: expr) =&gt; { ... };
    ($i:expr, $typ: ty, $f:expr, $count: expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 726; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 726 297" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 608 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
typ</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="227" y="31"/>
<text x="261" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="31"/>
<text x="319" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="343" y="10"/>
<path d=" M 343 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="31"/>
<text x="365" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 389 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 413 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="425" y="31"/>
<text x="451" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="31"/>
<text x="537" y="47">
)</text>
</g>
<path d=" M 379 42 h 10"/>
<path d=" M 513 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="31"/>
<text x="583" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="607" y="31"/>
<text x="637" y="47">
count</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 295 42 h 10"/>
<path d=" M 333 42 h 10"/>
<path d=" M 559 42 h 10"/>
<path d=" M 597 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 632 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 304 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="135" y="85"/>
<text x="157" y="101">
typ</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="85"/>
<text x="203" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="227" y="85"/>
<text x="241" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="265" y="85"/>
<text x="279" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="303" y="85"/>
<text x="333" y="101">
count</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 179 96 h 10"/>
<path d=" M 217 96 h 10"/>
<path d=" M 255 96 h 10"/>
<path d=" M 293 96 h 10"/>
</g>
</g>
<path d=" M 701 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 691 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="191"/>
<text x="46" y="207">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="191"/>
<text x="102" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="191"/>
<text x="142" y="207">
i</text>
</g>
<text class="comment" x="229" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="16" y="225"/>
<text x="38" y="241">
typ</text>
</g>
<text class="comment" x="112" y="240">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="259"/>
<text x="42" y="275">
args</text>
</g>
<text class="comment" x="141" y="274">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 726; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 726 296" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
typ</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="165" y="10"/>
<text x="179" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 203 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="227" y="10"/>
<text x="241" y="26">
f</text>
</g>
<path d=" M 203 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 215 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="227" y="63"/>
<text x="261" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="63"/>
<text x="319" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="343" y="42"/>
<path d=" M 343 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="63"/>
<text x="365" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 389 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 413 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="425" y="63"/>
<text x="451" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="63"/>
<text x="537" y="79">
)</text>
</g>
<path d=" M 379 74 h 10"/>
<path d=" M 513 74 h 10"/>
</g>
</g>
<path d=" M 295 74 h 10"/>
<path d=" M 333 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="593" y="10"/>
<text x="607" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="631" y="10"/>
<text x="661" y="26">
count</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 155 21 h 10"/>
<path d=" M 193 21 h 10"/>
<path d=" M 583 21 h 10"/>
<path d=" M 621 21 h 10"/>
</g>
<path d=" M 701 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 691 21 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="190"/>
<text x="46" y="206">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="190"/>
<text x="102" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="190"/>
<text x="142" y="206">
i</text>
</g>
<text class="comment" x="229" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="16" y="224"/>
<text x="38" y="240">
typ</text>
</g>
<text class="comment" x="112" y="239">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="258"/>
<text x="42" y="274">
args</text>
</g>
<text class="comment" x="141" y="273">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="dbg"><a href="#dbg"><h3>Macro <i>`dbg`</i></h3></a><pre class="rust">macro_rules! dbg {
    ($i: expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:ident) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="157"/>
<text x="30" y="173">
f</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="56" y="157"/>
<text x="90" y="173">
submac</text>
</g>
<text class="comment" x="197" y="172">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
i</text>
</g>
<text class="comment" x="124" y="206">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="156"/>
<text x="30" y="172">
f</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="56" y="156"/>
<text x="90" y="172">
submac</text>
</g>
<text class="comment" x="197" y="171">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
i</text>
</g>
<text class="comment" x="124" y="205">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="dbg&#x5F;dmp"><a href="#dbg&#x5F;dmp"><h3>Macro <i>`dbg_dmp`</i></h3></a><pre class="rust">macro_rules! dbg_dmp {
    ($i: expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:ident) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="157"/>
<text x="30" y="173">
f</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="56" y="157"/>
<text x="90" y="173">
submac</text>
</g>
<text class="comment" x="197" y="172">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
i</text>
</g>
<text class="comment" x="124" y="206">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="156"/>
<text x="30" y="172">
f</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="56" y="156"/>
<text x="90" y="172">
submac</text>
</g>
<text class="comment" x="197" y="171">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
i</text>
</g>
<text class="comment" x="124" y="205">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="delimited"><a href="#delimited"><h3>Macro <i>`delimited`</i></h3></a><pre class="rust">macro_rules! delimited {
    ($i:expr, $submac:ident!( $($args:tt)* ), $($rest:tt)+) =&gt; { ... };
    ($i:expr, $f:expr, $($rest:tt)+) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 650; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 650 276" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 532 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="repeat">
<path d=" M 515 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="527" y="31"/>
<text x="553" y="47">
rest</text>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 556 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 228 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="repeat">
<path d=" M 211 96 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="223" y="85"/>
<text x="249" y="101">
rest</text>
</g>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
</g>
</g>
<path d=" M 625 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 615 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="132"/>
<g class="verticalgrid">
<text class="comment" x="164" y="153">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="170"/>
<text x="50" y="186">
submac</text>
</g>
<text class="comment" x="160" y="185">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="204"/>
<text x="30" y="220">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="204"/>
<text x="70" y="220">
i</text>
</g>
<text class="comment" x="157" y="219">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="238"/>
<text x="42" y="254">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="238"/>
<text x="106" y="254">
rest</text>
</g>
<text class="comment" x="205" y="253">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 650; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 650 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="10"/>
<text x="515" y="26">
,</text>
</g>
<g class="repeat">
<path d=" M 539 21 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="551" y="10"/>
<text x="577" y="26">
rest</text>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 491 21 h 10"/>
<path d=" M 529 21 h 10"/>
</g>
<path d=" M 625 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 615 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="224"/>
<text x="106" y="240">
rest</text>
</g>
<text class="comment" x="205" y="239">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="do&#x5F;parse"><a href="#do&#x5F;parse"><h3>Macro <i>`do_parse`</i></h3></a><pre class="rust">macro_rules! do_parse {
    (__impl $i:expr, ( $($rest:expr),* )) =&gt; { ... };
    (__impl $i:expr, $field:ident : $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    (__impl $i:expr, $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    (__impl $i:expr, $field:ident : $submac:ident!( $($args:tt)* ) ~ $($rest:tt)* ) =&gt; { ... };
    (__impl $i:expr, $submac:ident!( $($args:tt)* ) ~ $($rest:tt)* ) =&gt; { ... };
    (__impl $i:expr, $field:ident : $e:ident ~ $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $e:ident ~ $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $e:ident &gt;&gt; $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $submac:ident!( $($args:tt)* ) &gt;&gt; $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $field:ident : $e:ident &gt;&gt; $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $field:ident : $submac:ident!( $($args:tt)* ) &gt;&gt; $($rest:tt)*) =&gt; { ... };
    (__impl $i:expr, $e:ident &gt;&gt; ( $($rest:tt)* )) =&gt; { ... };
    (__impl $i:expr, $submac:ident!( $($args:tt)* ) &gt;&gt; ( $($rest:tt)* )) =&gt; { ... };
    (__impl $i:expr, $field:ident : $e:ident &gt;&gt; ( $($rest:tt)* )) =&gt; { ... };
    (__impl $i:expr, $field:ident : $submac:ident!( $($args:tt)* ) &gt;&gt; ( $($rest:tt)* )) =&gt; { ... };
    (__finalize $i:expr, ( $o: expr )) =&gt; { ... };
    (__finalize $i:expr, ( $($rest:tt)* )) =&gt; { ... };
    ($i:expr, $($rest:tt)*) =&gt; { ... };
    ($submac:ident!( $($args:tt)* ) &gt;&gt; $($rest:tt)* ) =&gt; { ... };
    ($e:ident! &gt;&gt; $($rest:tt)* ) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1014; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1014 1533" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 370 0 h 550 m -272 0 l -5 -5 m 0 10 l 5 -5 m 272 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="labeledbox">
<rect height="83" width="216" x="213" y="10"/>
<path d=" M 213 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="31"/>
<text x="235" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 259 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 283 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -24 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="319" y="63"/>
<text x="333" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="295" y="31"/>
<text x="321" y="47">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="393" y="31"/>
<text x="407" y="47">
)</text>
</g>
<path d=" M 249 42 h 10"/>
<path d=" M 383 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 49 m 920 0 v -49 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 123 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 197 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 271 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 345 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 411 v 46 m 920 0 v -46"/>
<path d=" M 47 469 v 46 m 920 0 v -46"/>
<path d=" M 47 527 v 46 m 920 0 v -46"/>
<path d=" M 47 593 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 659 v 46 m 920 0 v -46"/>
<path d=" M 47 725 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 799 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 873 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 947 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1021 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1082 v 41 m 920 0 v -41"/>
<path d=" M 47 1143 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1209 v 46 m 920 0 v -46"/>
<path d=" M 47 1275 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 920 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 103 v 20 a 12 12 0 0 0 12 12 m 594 0 h 302 m -148 0 l -5 -5 m 0 10 l 5 -5 m 148 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="124"/>
<text x="93" y="140">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="124"/>
<text x="151" y="140">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="124"/>
<text x="189" y="140">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="124"/>
<text x="243" y="140">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="124"/>
<text x="297" y="140">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="321" y="124"/>
<text x="355" y="140">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="124"/>
<text x="413" y="140">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="437" y="103"/>
<path d=" M 437 135 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="124"/>
<text x="459" y="140">
(</text>
</g>
<g class="optional">
<path d=" M 483 135 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 507 135 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="519" y="124"/>
<text x="545" y="140">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="124"/>
<text x="631" y="140">
)</text>
</g>
<path d=" M 473 135 h 10"/>
<path d=" M 607 135 h 10"/>
</g>
</g>
<path d=" M 127 135 h 10"/>
<path d=" M 165 135 h 10"/>
<path d=" M 203 135 h 10"/>
<path d=" M 273 135 h 10"/>
<path d=" M 311 135 h 10"/>
<path d=" M 389 135 h 10"/>
<path d=" M 427 135 h 10"/>
</g>
<path d=" M 47 177 v 20 a 12 12 0 0 0 12 12 m 486 0 h 410 m -202 0 l -5 -5 m 0 10 l 5 -5 m 202 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="198"/>
<text x="93" y="214">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="198"/>
<text x="151" y="214">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="198"/>
<text x="189" y="214">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="198"/>
<text x="247" y="214">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="198"/>
<text x="305" y="214">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="177"/>
<path d=" M 329 209 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="198"/>
<text x="351" y="214">
(</text>
</g>
<g class="optional">
<path d=" M 375 209 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 209 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="198"/>
<text x="437" y="214">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="198"/>
<text x="523" y="214">
)</text>
</g>
<path d=" M 365 209 h 10"/>
<path d=" M 499 209 h 10"/>
</g>
</g>
<path d=" M 127 209 h 10"/>
<path d=" M 165 209 h 10"/>
<path d=" M 203 209 h 10"/>
<path d=" M 281 209 h 10"/>
<path d=" M 319 209 h 10"/>
</g>
<path d=" M 47 251 v 20 a 12 12 0 0 0 12 12 m 766 0 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="272"/>
<text x="93" y="288">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="272"/>
<text x="151" y="288">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="272"/>
<text x="189" y="288">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="272"/>
<text x="243" y="288">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="272"/>
<text x="297" y="288">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="321" y="272"/>
<text x="355" y="288">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="272"/>
<text x="413" y="288">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="437" y="251"/>
<path d=" M 437 283 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="272"/>
<text x="459" y="288">
(</text>
</g>
<g class="optional">
<path d=" M 483 283 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 507 283 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="519" y="272"/>
<text x="545" y="288">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="272"/>
<text x="631" y="288">
)</text>
</g>
<path d=" M 473 283 h 10"/>
<path d=" M 607 283 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="663" y="272"/>
<text x="677" y="288">
~</text>
</g>
<g class="optional">
<path d=" M 701 283 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 725 283 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="737" y="272"/>
<text x="763" y="288">
rest</text>
</g>
</g>
</g>
<path d=" M 127 283 h 10"/>
<path d=" M 165 283 h 10"/>
<path d=" M 203 283 h 10"/>
<path d=" M 273 283 h 10"/>
<path d=" M 311 283 h 10"/>
<path d=" M 389 283 h 10"/>
<path d=" M 427 283 h 10"/>
<path d=" M 653 283 h 10"/>
<path d=" M 691 283 h 10"/>
</g>
<path d=" M 47 325 v 20 a 12 12 0 0 0 12 12 m 658 0 h 238 m -116 0 l -5 -5 m 0 10 l 5 -5 m 116 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="346"/>
<text x="93" y="362">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="346"/>
<text x="151" y="362">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="346"/>
<text x="189" y="362">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="346"/>
<text x="247" y="362">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="346"/>
<text x="305" y="362">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="325"/>
<path d=" M 329 357 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="346"/>
<text x="351" y="362">
(</text>
</g>
<g class="optional">
<path d=" M 375 357 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 357 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="346"/>
<text x="437" y="362">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="346"/>
<text x="523" y="362">
)</text>
</g>
<path d=" M 365 357 h 10"/>
<path d=" M 499 357 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="346"/>
<text x="569" y="362">
~</text>
</g>
<g class="optional">
<path d=" M 593 357 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 617 357 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="629" y="346"/>
<text x="655" y="362">
rest</text>
</g>
</g>
</g>
<path d=" M 127 357 h 10"/>
<path d=" M 165 357 h 10"/>
<path d=" M 203 357 h 10"/>
<path d=" M 281 357 h 10"/>
<path d=" M 319 357 h 10"/>
<path d=" M 545 357 h 10"/>
<path d=" M 583 357 h 10"/>
</g>
<path d=" M 47 399 v 12 a 12 12 0 0 0 12 12 m 462 0 h 434 m -214 0 l -5 -5 m 0 10 l 5 -5 m 214 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="412"/>
<text x="93" y="428">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="412"/>
<text x="151" y="428">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="412"/>
<text x="189" y="428">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="412"/>
<text x="243" y="428">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="412"/>
<text x="297" y="428">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="321" y="412"/>
<text x="335" y="428">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="412"/>
<text x="373" y="428">
~</text>
</g>
<g class="optional">
<path d=" M 397 423 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 423 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="412"/>
<text x="459" y="428">
rest</text>
</g>
</g>
</g>
<path d=" M 127 423 h 10"/>
<path d=" M 165 423 h 10"/>
<path d=" M 203 423 h 10"/>
<path d=" M 273 423 h 10"/>
<path d=" M 311 423 h 10"/>
<path d=" M 349 423 h 10"/>
<path d=" M 387 423 h 10"/>
</g>
<path d=" M 47 457 v 12 a 12 12 0 0 0 12 12 m 354 0 h 542 m -268 0 l -5 -5 m 0 10 l 5 -5 m 268 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="470"/>
<text x="93" y="486">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="470"/>
<text x="151" y="486">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="470"/>
<text x="189" y="486">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="213" y="470"/>
<text x="227" y="486">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="470"/>
<text x="265" y="486">
~</text>
</g>
<g class="optional">
<path d=" M 289 481 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 313 481 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="325" y="470"/>
<text x="351" y="486">
rest</text>
</g>
</g>
</g>
<path d=" M 127 481 h 10"/>
<path d=" M 165 481 h 10"/>
<path d=" M 203 481 h 10"/>
<path d=" M 241 481 h 10"/>
<path d=" M 279 481 h 10"/>
</g>
<path d=" M 47 515 v 12 a 12 12 0 0 0 12 12 m 392 0 h 504 m -249 0 l -5 -5 m 0 10 l 5 -5 m 249 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="528"/>
<text x="93" y="544">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="528"/>
<text x="151" y="544">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="528"/>
<text x="189" y="544">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="213" y="528"/>
<text x="227" y="544">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="528"/>
<text x="265" y="544">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="528"/>
<text x="303" y="544">
></text>
</g>
<g class="optional">
<path d=" M 327 539 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 351 539 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="363" y="528"/>
<text x="389" y="544">
rest</text>
</g>
</g>
</g>
<path d=" M 127 539 h 10"/>
<path d=" M 165 539 h 10"/>
<path d=" M 203 539 h 10"/>
<path d=" M 241 539 h 10"/>
<path d=" M 279 539 h 10"/>
<path d=" M 317 539 h 10"/>
</g>
<path d=" M 47 573 v 20 a 12 12 0 0 0 12 12 m 696 0 h 200 m -97 0 l -5 -5 m 0 10 l 5 -5 m 97 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="594"/>
<text x="93" y="610">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="594"/>
<text x="151" y="610">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="594"/>
<text x="189" y="610">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="594"/>
<text x="247" y="610">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="594"/>
<text x="305" y="610">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="573"/>
<path d=" M 329 605 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="594"/>
<text x="351" y="610">
(</text>
</g>
<g class="optional">
<path d=" M 375 605 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 605 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="594"/>
<text x="437" y="610">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="594"/>
<text x="523" y="610">
)</text>
</g>
<path d=" M 365 605 h 10"/>
<path d=" M 499 605 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="594"/>
<text x="569" y="610">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="593" y="594"/>
<text x="607" y="610">
></text>
</g>
<g class="optional">
<path d=" M 631 605 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 655 605 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="667" y="594"/>
<text x="693" y="610">
rest</text>
</g>
</g>
</g>
<path d=" M 127 605 h 10"/>
<path d=" M 165 605 h 10"/>
<path d=" M 203 605 h 10"/>
<path d=" M 281 605 h 10"/>
<path d=" M 319 605 h 10"/>
<path d=" M 545 605 h 10"/>
<path d=" M 583 605 h 10"/>
<path d=" M 621 605 h 10"/>
</g>
<path d=" M 47 647 v 12 a 12 12 0 0 0 12 12 m 500 0 h 396 m -195 0 l -5 -5 m 0 10 l 5 -5 m 195 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="660"/>
<text x="93" y="676">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="660"/>
<text x="151" y="676">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="660"/>
<text x="189" y="676">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="660"/>
<text x="243" y="676">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="660"/>
<text x="297" y="676">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="321" y="660"/>
<text x="335" y="676">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="660"/>
<text x="373" y="676">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="660"/>
<text x="411" y="676">
></text>
</g>
<g class="optional">
<path d=" M 435 671 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 459 671 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="471" y="660"/>
<text x="497" y="676">
rest</text>
</g>
</g>
</g>
<path d=" M 127 671 h 10"/>
<path d=" M 165 671 h 10"/>
<path d=" M 203 671 h 10"/>
<path d=" M 273 671 h 10"/>
<path d=" M 311 671 h 10"/>
<path d=" M 349 671 h 10"/>
<path d=" M 387 671 h 10"/>
<path d=" M 425 671 h 10"/>
</g>
<path d=" M 47 705 v 20 a 12 12 0 0 0 12 12 m 804 0 h 92 m -43 0 l -5 -5 m 0 10 l 5 -5 m 43 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="726"/>
<text x="93" y="742">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="726"/>
<text x="151" y="742">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="726"/>
<text x="189" y="742">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="726"/>
<text x="243" y="742">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="726"/>
<text x="297" y="742">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="321" y="726"/>
<text x="355" y="742">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="726"/>
<text x="413" y="742">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="437" y="705"/>
<path d=" M 437 737 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="726"/>
<text x="459" y="742">
(</text>
</g>
<g class="optional">
<path d=" M 483 737 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 507 737 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="519" y="726"/>
<text x="545" y="742">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="726"/>
<text x="631" y="742">
)</text>
</g>
<path d=" M 473 737 h 10"/>
<path d=" M 607 737 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="663" y="726"/>
<text x="677" y="742">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="701" y="726"/>
<text x="715" y="742">
></text>
</g>
<g class="optional">
<path d=" M 739 737 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 763 737 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="775" y="726"/>
<text x="801" y="742">
rest</text>
</g>
</g>
</g>
<path d=" M 127 737 h 10"/>
<path d=" M 165 737 h 10"/>
<path d=" M 203 737 h 10"/>
<path d=" M 273 737 h 10"/>
<path d=" M 311 737 h 10"/>
<path d=" M 389 737 h 10"/>
<path d=" M 427 737 h 10"/>
<path d=" M 653 737 h 10"/>
<path d=" M 691 737 h 10"/>
<path d=" M 729 737 h 10"/>
</g>
<path d=" M 47 779 v 20 a 12 12 0 0 0 12 12 m 484 0 h 412 m -203 0 l -5 -5 m 0 10 l 5 -5 m 203 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="800"/>
<text x="93" y="816">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="800"/>
<text x="151" y="816">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="800"/>
<text x="189" y="816">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="213" y="800"/>
<text x="227" y="816">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="800"/>
<text x="265" y="816">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="800"/>
<text x="303" y="816">
></text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="779"/>
<path d=" M 327 811 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="800"/>
<text x="349" y="816">
(</text>
</g>
<g class="optional">
<path d=" M 373 811 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 811 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="800"/>
<text x="435" y="816">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="800"/>
<text x="521" y="816">
)</text>
</g>
<path d=" M 363 811 h 10"/>
<path d=" M 497 811 h 10"/>
</g>
</g>
<path d=" M 127 811 h 10"/>
<path d=" M 165 811 h 10"/>
<path d=" M 203 811 h 10"/>
<path d=" M 241 811 h 10"/>
<path d=" M 279 811 h 10"/>
<path d=" M 317 811 h 10"/>
</g>
<path d=" M 47 853 v 20 a 12 12 0 0 0 12 12 m 788 0 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="874"/>
<text x="93" y="890">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="874"/>
<text x="151" y="890">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="874"/>
<text x="189" y="890">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="874"/>
<text x="247" y="890">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="874"/>
<text x="305" y="890">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="853"/>
<path d=" M 329 885 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="874"/>
<text x="351" y="890">
(</text>
</g>
<g class="optional">
<path d=" M 375 885 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 885 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="874"/>
<text x="437" y="890">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="874"/>
<text x="523" y="890">
)</text>
</g>
<path d=" M 365 885 h 10"/>
<path d=" M 499 885 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="874"/>
<text x="569" y="890">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="593" y="874"/>
<text x="607" y="890">
></text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="631" y="853"/>
<path d=" M 631 885 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="639" y="874"/>
<text x="653" y="890">
(</text>
</g>
<g class="optional">
<path d=" M 677 885 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 701 885 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="713" y="874"/>
<text x="739" y="890">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="811" y="874"/>
<text x="825" y="890">
)</text>
</g>
<path d=" M 667 885 h 10"/>
<path d=" M 801 885 h 10"/>
</g>
</g>
<path d=" M 127 885 h 10"/>
<path d=" M 165 885 h 10"/>
<path d=" M 203 885 h 10"/>
<path d=" M 281 885 h 10"/>
<path d=" M 319 885 h 10"/>
<path d=" M 545 885 h 10"/>
<path d=" M 583 885 h 10"/>
<path d=" M 621 885 h 10"/>
</g>
<path d=" M 47 927 v 20 a 12 12 0 0 0 12 12 m 592 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="948"/>
<text x="93" y="964">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="948"/>
<text x="151" y="964">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="948"/>
<text x="189" y="964">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="948"/>
<text x="243" y="964">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="948"/>
<text x="297" y="964">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="321" y="948"/>
<text x="335" y="964">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="948"/>
<text x="373" y="964">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="948"/>
<text x="411" y="964">
></text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="435" y="927"/>
<path d=" M 435 959 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="443" y="948"/>
<text x="457" y="964">
(</text>
</g>
<g class="optional">
<path d=" M 481 959 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 505 959 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="517" y="948"/>
<text x="543" y="964">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="948"/>
<text x="629" y="964">
)</text>
</g>
<path d=" M 471 959 h 10"/>
<path d=" M 605 959 h 10"/>
</g>
</g>
<path d=" M 127 959 h 10"/>
<path d=" M 165 959 h 10"/>
<path d=" M 203 959 h 10"/>
<path d=" M 273 959 h 10"/>
<path d=" M 311 959 h 10"/>
<path d=" M 349 959 h 10"/>
<path d=" M 387 959 h 10"/>
<path d=" M 425 959 h 10"/>
</g>
<path d=" M 47 1001 v 20 a 12 12 0 0 0 12 12 m 896 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="1022"/>
<text x="93" y="1038">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="1022"/>
<text x="151" y="1038">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1022"/>
<text x="189" y="1038">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="213" y="1022"/>
<text x="243" y="1038">
field</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="1022"/>
<text x="297" y="1038">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="321" y="1022"/>
<text x="355" y="1038">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="1022"/>
<text x="413" y="1038">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="437" y="1001"/>
<path d=" M 437 1033 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="1022"/>
<text x="459" y="1038">
(</text>
</g>
<g class="optional">
<path d=" M 483 1033 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 507 1033 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="519" y="1022"/>
<text x="545" y="1038">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="1022"/>
<text x="631" y="1038">
)</text>
</g>
<path d=" M 473 1033 h 10"/>
<path d=" M 607 1033 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="663" y="1022"/>
<text x="677" y="1038">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="701" y="1022"/>
<text x="715" y="1038">
></text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="739" y="1001"/>
<path d=" M 739 1033 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="747" y="1022"/>
<text x="761" y="1038">
(</text>
</g>
<g class="optional">
<path d=" M 785 1033 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 809 1033 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="821" y="1022"/>
<text x="847" y="1038">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="919" y="1022"/>
<text x="933" y="1038">
)</text>
</g>
<path d=" M 775 1033 h 10"/>
<path d=" M 909 1033 h 10"/>
</g>
</g>
<path d=" M 127 1033 h 10"/>
<path d=" M 165 1033 h 10"/>
<path d=" M 203 1033 h 10"/>
<path d=" M 273 1033 h 10"/>
<path d=" M 311 1033 h 10"/>
<path d=" M 389 1033 h 10"/>
<path d=" M 427 1033 h 10"/>
<path d=" M 653 1033 h 10"/>
<path d=" M 691 1033 h 10"/>
<path d=" M 729 1033 h 10"/>
</g>
<path d=" M 47 1075 v 7 a 12 12 0 0 0 12 12 m 306 0 h 590 m -292 0 l -5 -5 m 0 10 l 5 -5 m 292 0 a 12 12 0 0 0 12 -12 v -7"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="59" y="1083"/>
<text x="109" y="1099">
__finalize</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="169" y="1083"/>
<text x="183" y="1099">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="1083"/>
<text x="221" y="1099">
,</text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="245" y="1075"/>
<path d=" M 245 1094 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="253" y="1083"/>
<text x="267" y="1099">
(</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="291" y="1083"/>
<text x="305" y="1099">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="329" y="1083"/>
<text x="343" y="1099">
)</text>
</g>
<path d=" M 281 1094 h 10"/>
<path d=" M 319 1094 h 10"/>
</g>
</g>
<path d=" M 159 1094 h 10"/>
<path d=" M 197 1094 h 10"/>
<path d=" M 235 1094 h 10"/>
</g>
<path d=" M 47 1123 v 20 a 12 12 0 0 0 12 12 m 402 0 h 494 m -244 0 l -5 -5 m 0 10 l 5 -5 m 244 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="59" y="1144"/>
<text x="109" y="1160">
__finalize</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="169" y="1144"/>
<text x="183" y="1160">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="207" y="1144"/>
<text x="221" y="1160">
,</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="245" y="1123"/>
<path d=" M 245 1155 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="253" y="1144"/>
<text x="267" y="1160">
(</text>
</g>
<g class="optional">
<path d=" M 291 1155 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 315 1155 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="327" y="1144"/>
<text x="353" y="1160">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="1144"/>
<text x="439" y="1160">
)</text>
</g>
<path d=" M 281 1155 h 10"/>
<path d=" M 415 1155 h 10"/>
</g>
</g>
<path d=" M 159 1155 h 10"/>
<path d=" M 197 1155 h 10"/>
<path d=" M 235 1155 h 10"/>
</g>
<path d=" M 47 1197 v 12 a 12 12 0 0 0 12 12 m 200 0 h 696 m -345 0 l -5 -5 m 0 10 l 5 -5 m 345 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="1210"/>
<text x="73" y="1226">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="1210"/>
<text x="111" y="1226">
,</text>
</g>
<g class="optional">
<path d=" M 135 1221 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 159 1221 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="171" y="1210"/>
<text x="197" y="1226">
rest</text>
</g>
</g>
</g>
<path d=" M 87 1221 h 10"/>
<path d=" M 125 1221 h 10"/>
</g>
<path d=" M 47 1255 v 20 a 12 12 0 0 0 12 12 m 542 0 h 354 m -174 0 l -5 -5 m 0 10 l 5 -5 m 174 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="59" y="1276"/>
<text x="93" y="1292">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="137" y="1276"/>
<text x="151" y="1292">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="175" y="1255"/>
<path d=" M 175 1287 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="183" y="1276"/>
<text x="197" y="1292">
(</text>
</g>
<g class="optional">
<path d=" M 221 1287 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 245 1287 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="257" y="1276"/>
<text x="283" y="1292">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="355" y="1276"/>
<text x="369" y="1292">
)</text>
</g>
<path d=" M 211 1287 h 10"/>
<path d=" M 345 1287 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="401" y="1276"/>
<text x="415" y="1292">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="1276"/>
<text x="453" y="1292">
></text>
</g>
<g class="optional">
<path d=" M 477 1287 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 501 1287 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="513" y="1276"/>
<text x="539" y="1292">
rest</text>
</g>
</g>
</g>
<path d=" M 127 1287 h 10"/>
<path d=" M 165 1287 h 10"/>
<path d=" M 391 1287 h 10"/>
<path d=" M 429 1287 h 10"/>
<path d=" M 467 1287 h 10"/>
</g>
<path d=" M 47 1329 v 12 a 12 12 0 0 0 12 12 m 276 0 h 620 m -307 0 l -5 -5 m 0 10 l 5 -5 m 307 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="59" y="1342"/>
<text x="73" y="1358">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="1342"/>
<text x="111" y="1358">
!</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="135" y="1342"/>
<text x="149" y="1358">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="1342"/>
<text x="187" y="1358">
></text>
</g>
<g class="optional">
<path d=" M 211 1353 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 235 1353 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="247" y="1342"/>
<text x="273" y="1358">
rest</text>
</g>
</g>
</g>
<path d=" M 87 1353 h 10"/>
<path d=" M 125 1353 h 10"/>
<path d=" M 163 1353 h 10"/>
<path d=" M 201 1353 h 10"/>
</g>
</g>
<path d=" M 989 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 979 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="326" x="10" y="1389"/>
<g class="verticalgrid">
<text class="comment" x="164" y="1410">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="1427"/>
<text x="30" y="1443">
e</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="56" y="1427"/>
<text x="86" y="1443">
field</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="128" y="1427"/>
<text x="162" y="1443">
submac</text>
</g>
<text class="comment" x="269" y="1442">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="1461"/>
<text x="30" y="1477">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="1461"/>
<text x="70" y="1477">
o</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="96" y="1461"/>
<text x="122" y="1477">
rest</text>
</g>
<text class="comment" x="221" y="1476">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="1495"/>
<text x="42" y="1511">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="1495"/>
<text x="106" y="1511">
rest</text>
</g>
<text class="comment" x="205" y="1510">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 756; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 756 338" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 456 m -225 0 l -5 -5 m 0 10 l 5 -5 m 225 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 662 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 12 a 12 12 0 0 0 12 12 m 638 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="choice">
<path d=" M 59 64 h 24 m 456 0 h 24"/>
<g class="sequence">
<g class="choice">
<path d=" M 83 64 h 24 m 66 0 h 290 m -142 0 l -5 -5 m 0 10 l 5 -5 m 142 0"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="107" y="53"/>
<text x="121" y="69">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="145" y="53"/>
<text x="159" y="69">
!</text>
</g>
<path d=" M 135 64 h 10"/>
</g>
<path d=" M 83 64 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 95 85 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="107" y="106"/>
<text x="141" y="122">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="185" y="106"/>
<text x="199" y="122">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="223" y="85"/>
<path d=" M 223 117 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="231" y="106"/>
<text x="245" y="122">
(</text>
</g>
<g class="optional">
<path d=" M 269 117 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 293 117 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="305" y="106"/>
<text x="331" y="122">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="106"/>
<text x="417" y="122">
)</text>
</g>
<path d=" M 259 117 h 10"/>
<path d=" M 393 117 h 10"/>
</g>
</g>
<path d=" M 175 117 h 10"/>
<path d=" M 213 117 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="473" y="53"/>
<text x="487" y="69">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="511" y="53"/>
<text x="525" y="69">
></text>
</g>
<path d=" M 463 64 h 10"/>
<path d=" M 501 64 h 10"/>
</g>
<path d=" M 59 64 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 480 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 71 159 v 0 a 12 12 0 0 0 12 12 m 66 0 h 390 m -192 0 l -5 -5 m 0 10 l 5 -5 m 192 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="83" y="160"/>
<text x="97" y="176">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="160"/>
<text x="135" y="176">
,</text>
</g>
<path d=" M 111 171 h 10"/>
</g>
</g>
<g class="optional">
<path d=" M 573 64 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 597 64 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="609" y="53"/>
<text x="635" y="69">
rest</text>
</g>
</g>
</g>
<path d=" M 563 64 h 10"/>
</g>
</g>
<path d=" M 731 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 721 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="194"/>
<g class="verticalgrid">
<text class="comment" x="164" y="215">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="28" x="16" y="232"/>
<text x="30" y="248">
e</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="56" y="232"/>
<text x="90" y="248">
submac</text>
</g>
<text class="comment" x="197" y="247">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="266"/>
<text x="30" y="282">
i</text>
</g>
<text class="comment" x="124" y="281">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="300"/>
<text x="42" y="316">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="300"/>
<text x="106" y="316">
rest</text>
</g>
<text class="comment" x="205" y="315">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="eat&#x5F;separator"><a href="#eat&#x5F;separator"><h3>Macro <i>`eat_separator`</i></h3></a><pre class="rust">macro_rules! eat_separator {
    ($i:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
arr</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 165 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 155 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="72" y="82"/>
<text x="86" y="98">
i</text>
</g>
<text class="comment" x="173" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="eof"><a href="#eof"><h3>Macro <i>`eof`</i></h3></a><pre class="rust">macro_rules! eof {
    ($i:expr,) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<path d=" M 63 21 h 10"/>
</g>
<path d=" M 111 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<text class="comment" x="124" y="97">
is an expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="error&#x5F;node&#x5F;position"><a href="#error&#x5F;node&#x5F;position"><h3>Macro <i>`error_node_position`</i></h3></a><pre class="rust">macro_rules! error_node_position {
    ($input:expr, $code:expr, $next:expr) =&gt; { ... };
}</pre><br><div style="width: 354; height: auto" class="dia"><svg class="railroad" viewBox="0 0 354 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="143" y="10"/>
<text x="169" y="26">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="10"/>
<text x="219" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="243" y="10"/>
<text x="269" y="26">
next</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
<path d=" M 195 21 h 10"/>
<path d=" M 233 21 h 10"/>
</g>
<path d=" M 305 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 295 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="334" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="82"/>
<text x="42" y="98">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="80" y="82"/>
<text x="110" y="98">
input</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="152" y="82"/>
<text x="178" y="98">
next</text>
</g>
<text class="comment" x="277" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="error&#x5F;position"><a href="#error&#x5F;position"><h3>Macro <i>`error_position`</i></h3></a><pre class="rust">macro_rules! error_position {
    ($input:expr, $code:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="143" y="10"/>
<text x="169" y="26">
code</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 205 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 195 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="82"/>
<text x="42" y="98">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="80" y="82"/>
<text x="110" y="98">
input</text>
</g>
<text class="comment" x="213" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="escaped"><a href="#escaped"><h3>Macro <i>`escaped`</i></h3></a><pre class="rust">macro_rules! escaped {
    (__impl $i: expr, $normal:ident!(  $($args:tt)* ), $control_char: expr, $escapable:ident!(  $($args2:tt)* )) =&gt; { ... };
    (__impl_1 $i:expr, $submac1:ident!( $($args:tt)* ), $control_char: expr, $submac2:ident!( $($args2:tt)*) ) =&gt; { ... };
    (__impl_1 $i:expr, $submac1:ident!( $($args:tt)* ), $control_char: expr, $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $control_char: expr, $($rest:tt)+) =&gt; { ... };
    ($i:expr, $f:expr, $control_char: expr, $($rest:tt)+) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1188; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1188 498" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 1062 0 h 32"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
normal</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="593" y="31"/>
<text x="651" y="47">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="719" y="31"/>
<text x="733" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="757" y="31"/>
<text x="803" y="47">
escapable</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="859" y="31"/>
<text x="873" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="897" y="10"/>
<path d=" M 897 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="31"/>
<text x="919" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 943 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 967 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="979" y="31"/>
<text x="1009" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1085" y="31"/>
<text x="1099" y="47">
)</text>
</g>
<path d=" M 933 42 h 10"/>
<path d=" M 1075 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
<path d=" M 709 42 h 10"/>
<path d=" M 747 42 h 10"/>
<path d=" M 849 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 1094 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 1070 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="105"/>
<text x="101" y="121">
__impl_1</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="153" y="105"/>
<text x="167" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="191" y="105"/>
<text x="205" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="229" y="105"/>
<text x="267" y="121">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="315" y="105"/>
<text x="329" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="353" y="84"/>
<path d=" M 353 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="361" y="105"/>
<text x="375" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 399 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 423 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="435" y="105"/>
<text x="461" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="105"/>
<text x="547" y="121">
)</text>
</g>
<path d=" M 389 116 h 10"/>
<path d=" M 523 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="579" y="105"/>
<text x="593" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="617" y="105"/>
<text x="675" y="121">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="743" y="105"/>
<text x="757" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="781" y="105"/>
<text x="819" y="121">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="867" y="105"/>
<text x="881" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="905" y="84"/>
<path d=" M 905 116 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="913" y="105"/>
<text x="927" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 951 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 975 116 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="987" y="105"/>
<text x="1017" y="121">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1093" y="105"/>
<text x="1107" y="121">
)</text>
</g>
<path d=" M 941 116 h 10"/>
<path d=" M 1083 116 h 10"/>
</g>
</g>
<path d=" M 143 116 h 10"/>
<path d=" M 181 116 h 10"/>
<path d=" M 219 116 h 10"/>
<path d=" M 305 116 h 10"/>
<path d=" M 343 116 h 10"/>
<path d=" M 569 116 h 10"/>
<path d=" M 607 116 h 10"/>
<path d=" M 733 116 h 10"/>
<path d=" M 771 116 h 10"/>
<path d=" M 857 116 h 10"/>
<path d=" M 895 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 750 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="179"/>
<text x="101" y="195">
__impl_1</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="153" y="179"/>
<text x="167" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="191" y="179"/>
<text x="205" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="229" y="179"/>
<text x="267" y="195">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="315" y="179"/>
<text x="329" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="353" y="158"/>
<path d=" M 353 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="361" y="179"/>
<text x="375" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 399 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 423 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="435" y="179"/>
<text x="461" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="179"/>
<text x="547" y="195">
)</text>
</g>
<path d=" M 389 190 h 10"/>
<path d=" M 523 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="579" y="179"/>
<text x="593" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="617" y="179"/>
<text x="675" y="195">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="743" y="179"/>
<text x="757" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="781" y="179"/>
<text x="795" y="195">
g</text>
</g>
<path d=" M 143 190 h 10"/>
<path d=" M 181 190 h 10"/>
<path d=" M 219 190 h 10"/>
<path d=" M 305 190 h 10"/>
<path d=" M 343 190 h 10"/>
<path d=" M 569 190 h 10"/>
<path d=" M 607 190 h 10"/>
<path d=" M 733 190 h 10"/>
<path d=" M 771 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 696 0 h 374 m -184 0 l -5 -5 m 0 10 l 5 -5 m 184 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="253"/>
<text x="73" y="269">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="253"/>
<text x="111" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="253"/>
<text x="169" y="269">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="253"/>
<text x="227" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="232"/>
<path d=" M 251 264 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="253"/>
<text x="273" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 297 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="253"/>
<text x="359" y="269">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="253"/>
<text x="445" y="269">
)</text>
</g>
<path d=" M 287 264 h 10"/>
<path d=" M 421 264 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="253"/>
<text x="491" y="269">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="515" y="253"/>
<text x="573" y="269">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="641" y="253"/>
<text x="655" y="269">
,</text>
</g>
<g class="repeat">
<path d=" M 679 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="691" y="253"/>
<text x="717" y="269">
rest</text>
</g>
</g>
<path d=" M 87 264 h 10"/>
<path d=" M 125 264 h 10"/>
<path d=" M 203 264 h 10"/>
<path d=" M 241 264 h 10"/>
<path d=" M 467 264 h 10"/>
<path d=" M 505 264 h 10"/>
<path d=" M 631 264 h 10"/>
<path d=" M 669 264 h 10"/>
</g>
<path d=" M 47 306 v 0 a 12 12 0 0 0 12 12 m 392 0 h 678 m -336 0 l -5 -5 m 0 10 l 5 -5 m 336 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="307"/>
<text x="73" y="323">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="307"/>
<text x="111" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="307"/>
<text x="149" y="323">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="307"/>
<text x="187" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="211" y="307"/>
<text x="269" y="323">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="307"/>
<text x="351" y="323">
,</text>
</g>
<g class="repeat">
<path d=" M 375 318 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="387" y="307"/>
<text x="413" y="323">
rest</text>
</g>
</g>
<path d=" M 87 318 h 10"/>
<path d=" M 125 318 h 10"/>
<path d=" M 163 318 h 10"/>
<path d=" M 201 318 h 10"/>
<path d=" M 327 318 h 10"/>
<path d=" M 365 318 h 10"/>
</g>
</g>
<path d=" M 1163 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1153 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="574" x="10" y="354"/>
<g class="verticalgrid">
<text class="comment" x="164" y="375">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="16" y="392"/>
<text x="62" y="408">
escapable</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="120" y="392"/>
<text x="154" y="408">
normal</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="200" y="392"/>
<text x="234" y="408">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="280" y="392"/>
<text x="318" y="408">
submac1</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="368" y="392"/>
<text x="406" y="408">
submac2</text>
</g>
<text class="comment" x="517" y="407">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="16" y="426"/>
<text x="74" y="442">
control_char</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="144" y="426"/>
<text x="158" y="442">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="184" y="426"/>
<text x="198" y="442">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="224" y="426"/>
<text x="238" y="442">
i</text>
</g>
<text class="comment" x="325" y="441">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="460"/>
<text x="42" y="476">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="460"/>
<text x="110" y="476">
args2</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="152" y="460"/>
<text x="178" y="476">
rest</text>
</g>
<text class="comment" x="277" y="475">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 862; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 862 293" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 562 m -278 0 l -5 -5 m 0 10 l 5 -5 m 278 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 768 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 744 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="94"/>
<text x="193" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="94"/>
<text x="251" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="73"/>
<path d=" M 275 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="94"/>
<text x="297" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 321 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="94"/>
<text x="383" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="94"/>
<text x="469" y="110">
)</text>
</g>
<path d=" M 311 105 h 10"/>
<path d=" M 445 105 h 10"/>
</g>
</g>
<path d=" M 227 105 h 10"/>
<path d=" M 265 105 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="41"/>
<text x="539" y="57">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="563" y="41"/>
<text x="621" y="57">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="689" y="41"/>
<text x="703" y="57">
,</text>
</g>
<g class="repeat">
<path d=" M 727 52 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="739" y="41"/>
<text x="765" y="57">
rest</text>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
<path d=" M 515 52 h 10"/>
<path d=" M 553 52 h 10"/>
<path d=" M 679 52 h 10"/>
<path d=" M 717 52 h 10"/>
</g>
</g>
<path d=" M 837 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 827 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="342" x="10" y="149"/>
<g class="verticalgrid">
<text class="comment" x="164" y="170">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="187"/>
<text x="50" y="203">
submac</text>
</g>
<text class="comment" x="160" y="202">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="16" y="221"/>
<text x="74" y="237">
control_char</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="144" y="221"/>
<text x="158" y="237">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="184" y="221"/>
<text x="198" y="237">
i</text>
</g>
<text class="comment" x="285" y="236">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="255"/>
<text x="42" y="271">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="255"/>
<text x="106" y="271">
rest</text>
</g>
<text class="comment" x="205" y="270">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="escaped&#x5F;transform"><a href="#escaped&#x5F;transform"><h3>Macro <i>`escaped_transform`</i></h3></a><pre class="rust">macro_rules! escaped_transform {
    (__impl $i: expr, $normal:ident!(  $($args:tt)* ), $control_char: expr, $transform:ident!(  $($args2:tt)* )) =&gt; { ... };
    (__impl_1 $i:expr, $submac1:ident!( $($args:tt)* ), $control_char: expr, $submac2:ident!( $($args2:tt)*) ) =&gt; { ... };
    (__impl_1 $i:expr, $submac1:ident!( $($args:tt)* ), $control_char: expr, $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $control_char: expr, $($rest:tt)+) =&gt; { ... };
    ($i:expr, $f:expr, $control_char: expr, $($rest:tt)+) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1188; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1188 498" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 1062 0 h 32"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
normal</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="593" y="31"/>
<text x="651" y="47">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="719" y="31"/>
<text x="733" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="757" y="31"/>
<text x="803" y="47">
transform</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="859" y="31"/>
<text x="873" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="897" y="10"/>
<path d=" M 897 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="31"/>
<text x="919" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 943 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 967 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="979" y="31"/>
<text x="1009" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1085" y="31"/>
<text x="1099" y="47">
)</text>
</g>
<path d=" M 933 42 h 10"/>
<path d=" M 1075 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
<path d=" M 709 42 h 10"/>
<path d=" M 747 42 h 10"/>
<path d=" M 849 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 1094 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1094 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 1070 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="105"/>
<text x="101" y="121">
__impl_1</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="153" y="105"/>
<text x="167" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="191" y="105"/>
<text x="205" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="229" y="105"/>
<text x="267" y="121">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="315" y="105"/>
<text x="329" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="353" y="84"/>
<path d=" M 353 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="361" y="105"/>
<text x="375" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 399 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 423 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="435" y="105"/>
<text x="461" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="105"/>
<text x="547" y="121">
)</text>
</g>
<path d=" M 389 116 h 10"/>
<path d=" M 523 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="579" y="105"/>
<text x="593" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="617" y="105"/>
<text x="675" y="121">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="743" y="105"/>
<text x="757" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="781" y="105"/>
<text x="819" y="121">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="867" y="105"/>
<text x="881" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="905" y="84"/>
<path d=" M 905 116 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="913" y="105"/>
<text x="927" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 951 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 975 116 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="987" y="105"/>
<text x="1017" y="121">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1093" y="105"/>
<text x="1107" y="121">
)</text>
</g>
<path d=" M 941 116 h 10"/>
<path d=" M 1083 116 h 10"/>
</g>
</g>
<path d=" M 143 116 h 10"/>
<path d=" M 181 116 h 10"/>
<path d=" M 219 116 h 10"/>
<path d=" M 305 116 h 10"/>
<path d=" M 343 116 h 10"/>
<path d=" M 569 116 h 10"/>
<path d=" M 607 116 h 10"/>
<path d=" M 733 116 h 10"/>
<path d=" M 771 116 h 10"/>
<path d=" M 857 116 h 10"/>
<path d=" M 895 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 750 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="179"/>
<text x="101" y="195">
__impl_1</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="153" y="179"/>
<text x="167" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="191" y="179"/>
<text x="205" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="229" y="179"/>
<text x="267" y="195">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="315" y="179"/>
<text x="329" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="353" y="158"/>
<path d=" M 353 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="361" y="179"/>
<text x="375" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 399 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 423 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="435" y="179"/>
<text x="461" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="179"/>
<text x="547" y="195">
)</text>
</g>
<path d=" M 389 190 h 10"/>
<path d=" M 523 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="579" y="179"/>
<text x="593" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="617" y="179"/>
<text x="675" y="195">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="743" y="179"/>
<text x="757" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="781" y="179"/>
<text x="795" y="195">
g</text>
</g>
<path d=" M 143 190 h 10"/>
<path d=" M 181 190 h 10"/>
<path d=" M 219 190 h 10"/>
<path d=" M 305 190 h 10"/>
<path d=" M 343 190 h 10"/>
<path d=" M 569 190 h 10"/>
<path d=" M 607 190 h 10"/>
<path d=" M 733 190 h 10"/>
<path d=" M 771 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 696 0 h 374 m -184 0 l -5 -5 m 0 10 l 5 -5 m 184 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="253"/>
<text x="73" y="269">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="253"/>
<text x="111" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="253"/>
<text x="169" y="269">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="253"/>
<text x="227" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="232"/>
<path d=" M 251 264 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="253"/>
<text x="273" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 297 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="253"/>
<text x="359" y="269">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="253"/>
<text x="445" y="269">
)</text>
</g>
<path d=" M 287 264 h 10"/>
<path d=" M 421 264 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="253"/>
<text x="491" y="269">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="515" y="253"/>
<text x="573" y="269">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="641" y="253"/>
<text x="655" y="269">
,</text>
</g>
<g class="repeat">
<path d=" M 679 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="691" y="253"/>
<text x="717" y="269">
rest</text>
</g>
</g>
<path d=" M 87 264 h 10"/>
<path d=" M 125 264 h 10"/>
<path d=" M 203 264 h 10"/>
<path d=" M 241 264 h 10"/>
<path d=" M 467 264 h 10"/>
<path d=" M 505 264 h 10"/>
<path d=" M 631 264 h 10"/>
<path d=" M 669 264 h 10"/>
</g>
<path d=" M 47 306 v 0 a 12 12 0 0 0 12 12 m 392 0 h 678 m -336 0 l -5 -5 m 0 10 l 5 -5 m 336 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="307"/>
<text x="73" y="323">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="307"/>
<text x="111" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="307"/>
<text x="149" y="323">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="307"/>
<text x="187" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="211" y="307"/>
<text x="269" y="323">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="307"/>
<text x="351" y="323">
,</text>
</g>
<g class="repeat">
<path d=" M 375 318 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="387" y="307"/>
<text x="413" y="323">
rest</text>
</g>
</g>
<path d=" M 87 318 h 10"/>
<path d=" M 125 318 h 10"/>
<path d=" M 163 318 h 10"/>
<path d=" M 201 318 h 10"/>
<path d=" M 327 318 h 10"/>
<path d=" M 365 318 h 10"/>
</g>
</g>
<path d=" M 1163 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1153 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="574" x="10" y="354"/>
<g class="verticalgrid">
<text class="comment" x="164" y="375">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="392"/>
<text x="50" y="408">
normal</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="96" y="392"/>
<text x="130" y="408">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="176" y="392"/>
<text x="214" y="408">
submac1</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="264" y="392"/>
<text x="302" y="408">
submac2</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="352" y="392"/>
<text x="398" y="408">
transform</text>
</g>
<text class="comment" x="517" y="407">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="16" y="426"/>
<text x="74" y="442">
control_char</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="144" y="426"/>
<text x="158" y="442">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="184" y="426"/>
<text x="198" y="442">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="224" y="426"/>
<text x="238" y="442">
i</text>
</g>
<text class="comment" x="325" y="441">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="460"/>
<text x="42" y="476">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="460"/>
<text x="110" y="476">
args2</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="152" y="460"/>
<text x="178" y="476">
rest</text>
</g>
<text class="comment" x="277" y="475">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 862; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 862 293" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 562 m -278 0 l -5 -5 m 0 10 l 5 -5 m 278 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 768 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 744 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="94"/>
<text x="193" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="94"/>
<text x="251" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="73"/>
<path d=" M 275 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="94"/>
<text x="297" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 321 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="94"/>
<text x="383" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="94"/>
<text x="469" y="110">
)</text>
</g>
<path d=" M 311 105 h 10"/>
<path d=" M 445 105 h 10"/>
</g>
</g>
<path d=" M 227 105 h 10"/>
<path d=" M 265 105 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="41"/>
<text x="539" y="57">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="563" y="41"/>
<text x="621" y="57">
control_char</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="689" y="41"/>
<text x="703" y="57">
,</text>
</g>
<g class="repeat">
<path d=" M 727 52 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="739" y="41"/>
<text x="765" y="57">
rest</text>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
<path d=" M 515 52 h 10"/>
<path d=" M 553 52 h 10"/>
<path d=" M 679 52 h 10"/>
<path d=" M 717 52 h 10"/>
</g>
</g>
<path d=" M 837 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 827 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="342" x="10" y="149"/>
<g class="verticalgrid">
<text class="comment" x="164" y="170">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="187"/>
<text x="50" y="203">
submac</text>
</g>
<text class="comment" x="160" y="202">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="116" x="16" y="221"/>
<text x="74" y="237">
control_char</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="144" y="221"/>
<text x="158" y="237">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="184" y="221"/>
<text x="198" y="237">
i</text>
</g>
<text class="comment" x="285" y="236">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="255"/>
<text x="42" y="271">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="255"/>
<text x="106" y="271">
rest</text>
</g>
<text class="comment" x="205" y="270">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="exact"><a href="#exact"><h3>Macro <i>`exact`</i></h3></a><pre class="rust">macro_rules! exact {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="expr&#x5F;opt"><a href="#expr&#x5F;opt"><h3>Macro <i>`expr_opt`</i></h3></a><pre class="rust">macro_rules! expr_opt {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="expr&#x5F;res"><a href="#expr&#x5F;res"><h3>Macro <i>`expr_res`</i></h3></a><pre class="rust">macro_rules! expr_res {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="fix&#x5F;error"><a href="#fix&#x5F;error"><h3>Macro <i>`fix_error`</i></h3></a><pre class="rust">macro_rules! fix_error {
    ($i:expr, $t:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $t:ty, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 602; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 602 297" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 484 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="135" y="31"/>
<text x="149" y="47">
t</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="31"/>
<text x="187" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="31"/>
<text x="245" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="31"/>
<text x="303" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="10"/>
<path d=" M 327 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="31"/>
<text x="349" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 373 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="31"/>
<text x="435" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="31"/>
<text x="521" y="47">
)</text>
</g>
<path d=" M 363 42 h 10"/>
<path d=" M 497 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 163 42 h 10"/>
<path d=" M 201 42 h 10"/>
<path d=" M 279 42 h 10"/>
<path d=" M 317 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 508 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 180 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
t</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="85"/>
<text x="225" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
</g>
</g>
<path d=" M 577 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 567 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="225"/>
<text x="30" y="241">
t</text>
</g>
<text class="comment" x="96" y="240">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="259"/>
<text x="42" y="275">
args</text>
</g>
<text class="comment" x="141" y="274">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 602; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 602 296" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
t</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="149" y="10"/>
<text x="163" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 187 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="10"/>
<text x="225" y="26">
f</text>
</g>
<path d=" M 187 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 199 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="63"/>
<text x="245" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="63"/>
<text x="303" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="42"/>
<path d=" M 327 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="63"/>
<text x="349" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 373 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="63"/>
<text x="435" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="63"/>
<text x="521" y="79">
)</text>
</g>
<path d=" M 363 74 h 10"/>
<path d=" M 497 74 h 10"/>
</g>
</g>
<path d=" M 279 74 h 10"/>
<path d=" M 317 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 139 21 h 10"/>
<path d=" M 177 21 h 10"/>
</g>
<path d=" M 577 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 567 21 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="224"/>
<text x="30" y="240">
t</text>
</g>
<text class="comment" x="96" y="239">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="258"/>
<text x="42" y="274">
args</text>
</g>
<text class="comment" x="141" y="273">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="flat&#x5F;map"><a href="#flat&#x5F;map"><h3>Macro <i>`flat_map`</i></h3></a><pre class="rust">macro_rules! flat_map {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1000; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1000 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 102 m -48 0 l -5 -5 m 0 10 l 5 -5 m 48 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 906 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 232 v 33 m 906 0 v -33"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 702 m -348 0 l -5 -5 m 0 10 l 5 -5 m 348 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
<path d=" M 47 265 v 20 a 12 12 0 0 0 12 12 m 882 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="286"/>
<text x="93" y="302">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="286"/>
<text x="151" y="302">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="286"/>
<text x="189" y="302">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="286"/>
<text x="247" y="302">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="286"/>
<text x="305" y="302">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="265"/>
<path d=" M 329 297 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="286"/>
<text x="351" y="302">
(</text>
</g>
<g class="optional">
<path d=" M 375 297 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 297 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="286"/>
<text x="437" y="302">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="286"/>
<text x="523" y="302">
)</text>
</g>
<path d=" M 365 297 h 10"/>
<path d=" M 499 297 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="286"/>
<text x="569" y="302">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="593" y="286"/>
<text x="631" y="302">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="286"/>
<text x="693" y="302">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="717" y="265"/>
<path d=" M 717 297 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="725" y="286"/>
<text x="739" y="302">
(</text>
</g>
<g class="optional">
<path d=" M 763 297 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 787 297 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="799" y="286"/>
<text x="829" y="302">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="286"/>
<text x="919" y="302">
)</text>
</g>
<path d=" M 753 297 h 10"/>
<path d=" M 895 297 h 10"/>
</g>
</g>
<path d=" M 127 297 h 10"/>
<path d=" M 165 297 h 10"/>
<path d=" M 203 297 h 10"/>
<path d=" M 281 297 h 10"/>
<path d=" M 319 297 h 10"/>
<path d=" M 545 297 h 10"/>
<path d=" M 583 297 h 10"/>
<path d=" M 669 297 h 10"/>
<path d=" M 707 297 h 10"/>
</g>
</g>
<path d=" M 975 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 965 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="341"/>
<g class="verticalgrid">
<text class="comment" x="164" y="362">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="379"/>
<text x="50" y="395">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="379"/>
<text x="134" y="395">
submac2</text>
</g>
<text class="comment" x="245" y="394">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="413"/>
<text x="70" y="429">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="413"/>
<text x="110" y="429">
i</text>
</g>
<text class="comment" x="197" y="428">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="447"/>
<text x="42" y="463">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="447"/>
<text x="110" y="463">
args2</text>
</g>
<text class="comment" x="213" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1018; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1018 420" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 718 m -356 0 l -5 -5 m 0 10 l 5 -5 m 356 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 924 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 900 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="41"/>
<text x="211" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 235 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="259" y="41"/>
<text x="273" y="57">
g</text>
</g>
<path d=" M 235 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 247 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="259" y="94"/>
<text x="293" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="94"/>
<text x="351" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="73"/>
<path d=" M 375 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="94"/>
<text x="397" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 421 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="94"/>
<text x="483" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="94"/>
<text x="569" y="110">
)</text>
</g>
<path d=" M 411 105 h 10"/>
<path d=" M 545 105 h 10"/>
</g>
</g>
<path d=" M 327 105 h 10"/>
<path d=" M 365 105 h 10"/>
</g>
</g>
<path d=" M 187 52 h 10"/>
<path d=" M 225 52 h 10"/>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 147 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="168"/>
<text x="193" y="184">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="168"/>
<text x="251" y="184">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="147"/>
<path d=" M 275 179 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="168"/>
<text x="297" y="184">
(</text>
</g>
<g class="optional">
<path d=" M 321 179 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 179 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="168"/>
<text x="383" y="184">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="168"/>
<text x="469" y="184">
)</text>
</g>
<path d=" M 311 179 h 10"/>
<path d=" M 445 179 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="168"/>
<text x="515" y="184">
,</text>
</g>
<g class="choice">
<path d=" M 539 179 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="563" y="168"/>
<text x="577" y="184">
g</text>
</g>
<path d=" M 539 179 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 551 200 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="563" y="221"/>
<text x="601" y="237">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="221"/>
<text x="663" y="237">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="687" y="200"/>
<path d=" M 687 232 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="221"/>
<text x="709" y="237">
(</text>
</g>
<g class="optional">
<path d=" M 733 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 757 232 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="769" y="221"/>
<text x="799" y="237">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="875" y="221"/>
<text x="889" y="237">
)</text>
</g>
<path d=" M 723 232 h 10"/>
<path d=" M 865 232 h 10"/>
</g>
</g>
<path d=" M 639 232 h 10"/>
<path d=" M 677 232 h 10"/>
</g>
</g>
<path d=" M 227 179 h 10"/>
<path d=" M 265 179 h 10"/>
<path d=" M 491 179 h 10"/>
<path d=" M 529 179 h 10"/>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
</g>
</g>
<path d=" M 993 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 983 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="276"/>
<g class="verticalgrid">
<text class="comment" x="164" y="297">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="314"/>
<text x="50" y="330">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="314"/>
<text x="134" y="330">
submac2</text>
</g>
<text class="comment" x="245" y="329">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="348"/>
<text x="30" y="364">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="348"/>
<text x="70" y="364">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="348"/>
<text x="110" y="364">
i</text>
</g>
<text class="comment" x="197" y="363">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="382"/>
<text x="42" y="398">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="382"/>
<text x="110" y="398">
args2</text>
</g>
<text class="comment" x="213" y="397">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="fold&#x5F;many0"><a href="#fold&#x5F;many0"><h3>Macro <i>`fold_many0`</i></h3></a><pre class="rust">macro_rules! fold_many0 {
    ($i:expr, $submac:ident!( $($args:tt)* ), $init:expr, $f:expr) =&gt; { ... };
    ($i:expr, $f:expr, $init:expr, $fold_f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 702; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 702 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 584 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="515" y="31"/>
<text x="541" y="47">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="31"/>
<text x="591" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="615" y="31"/>
<text x="629" y="47">
f</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 567 42 h 10"/>
<path d=" M 605 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 608 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 320 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="211" y="85"/>
<text x="237" y="101">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="85"/>
<text x="287" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="311" y="85"/>
<text x="345" y="101">
fold_f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
<path d=" M 263 96 h 10"/>
<path d=" M 301 96 h 10"/>
</g>
</g>
<path d=" M 677 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 667 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="358" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="191"/>
<text x="90" y="207">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="191"/>
<text x="150" y="207">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="191"/>
<text x="202" y="207">
init</text>
</g>
<text class="comment" x="301" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 702; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 702 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 244 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="211" y="10"/>
<text x="237" y="26">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="10"/>
<text x="287" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="311" y="10"/>
<text x="345" y="26">
fold_f</text>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
<path d=" M 263 21 h 10"/>
<path d=" M 301 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 532 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 508 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="63"/>
<text x="491" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="515" y="63"/>
<text x="541" y="79">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="63"/>
<text x="591" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="615" y="63"/>
<text x="629" y="79">
f</text>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
<path d=" M 467 74 h 10"/>
<path d=" M 505 74 h 10"/>
<path d=" M 567 74 h 10"/>
<path d=" M 605 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 677 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 667 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="358" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="190"/>
<text x="90" y="206">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="190"/>
<text x="150" y="206">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="190"/>
<text x="202" y="206">
init</text>
</g>
<text class="comment" x="301" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="fold&#x5F;many1"><a href="#fold&#x5F;many1"><h3>Macro <i>`fold_many1`</i></h3></a><pre class="rust">macro_rules! fold_many1 {
    ($i:expr, $submac:ident!( $($args:tt)* ), $init:expr, $f:expr) =&gt; { ... };
    ($i:expr, $f:expr, $init:expr, $fold_f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 702; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 702 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 584 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="515" y="31"/>
<text x="541" y="47">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="31"/>
<text x="591" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="615" y="31"/>
<text x="629" y="47">
f</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 567 42 h 10"/>
<path d=" M 605 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 608 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 320 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="211" y="85"/>
<text x="237" y="101">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="85"/>
<text x="287" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="311" y="85"/>
<text x="345" y="101">
fold_f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
<path d=" M 263 96 h 10"/>
<path d=" M 301 96 h 10"/>
</g>
</g>
<path d=" M 677 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 667 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="358" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="191"/>
<text x="90" y="207">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="191"/>
<text x="150" y="207">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="191"/>
<text x="202" y="207">
init</text>
</g>
<text class="comment" x="301" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 702; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 702 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 244 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="211" y="10"/>
<text x="237" y="26">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="10"/>
<text x="287" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="311" y="10"/>
<text x="345" y="26">
fold_f</text>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
<path d=" M 263 21 h 10"/>
<path d=" M 301 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 532 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 508 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="63"/>
<text x="491" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="515" y="63"/>
<text x="541" y="79">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="63"/>
<text x="591" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="615" y="63"/>
<text x="629" y="79">
f</text>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
<path d=" M 467 74 h 10"/>
<path d=" M 505 74 h 10"/>
<path d=" M 567 74 h 10"/>
<path d=" M 605 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 677 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 667 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="358" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="190"/>
<text x="90" y="206">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="190"/>
<text x="150" y="206">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="190"/>
<text x="202" y="206">
init</text>
</g>
<text class="comment" x="301" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="fold&#x5F;many&#x5F;m&#x5F;n"><a href="#fold&#x5F;many&#x5F;m&#x5F;n"><h3>Macro <i>`fold_many_m_n`</i></h3></a><pre class="rust">macro_rules! fold_many_m_n {
    ($i:expr, $m:expr, $n: expr, $submac:ident!( $($args:tt)* ), $init:expr, $f:expr) =&gt; { ... };
    ($i:expr, $m:expr, $n: expr, $f:expr, $init:expr, $fold_f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 854; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 854 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 736 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="31"/>
<text x="149" y="47">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="31"/>
<text x="187" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="31"/>
<text x="225" y="47">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="31"/>
<text x="263" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="287" y="31"/>
<text x="321" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="31"/>
<text x="379" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="403" y="10"/>
<path d=" M 403 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="411" y="31"/>
<text x="425" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 449 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 473 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="485" y="31"/>
<text x="511" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="583" y="31"/>
<text x="597" y="47">
)</text>
</g>
<path d=" M 439 42 h 10"/>
<path d=" M 573 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="31"/>
<text x="643" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="667" y="31"/>
<text x="693" y="47">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="729" y="31"/>
<text x="743" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="767" y="31"/>
<text x="781" y="47">
f</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 163 42 h 10"/>
<path d=" M 201 42 h 10"/>
<path d=" M 239 42 h 10"/>
<path d=" M 277 42 h 10"/>
<path d=" M 355 42 h 10"/>
<path d=" M 393 42 h 10"/>
<path d=" M 619 42 h 10"/>
<path d=" M 657 42 h 10"/>
<path d=" M 719 42 h 10"/>
<path d=" M 757 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 760 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 472 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="85"/>
<text x="225" y="101">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="85"/>
<text x="263" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="287" y="85"/>
<text x="301" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="325" y="85"/>
<text x="339" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="363" y="85"/>
<text x="389" y="101">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="85"/>
<text x="439" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="463" y="85"/>
<text x="497" y="101">
fold_f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
<path d=" M 239 96 h 10"/>
<path d=" M 277 96 h 10"/>
<path d=" M 315 96 h 10"/>
<path d=" M 353 96 h 10"/>
<path d=" M 415 96 h 10"/>
<path d=" M 453 96 h 10"/>
</g>
</g>
<path d=" M 829 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 819 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="438" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="191"/>
<text x="90" y="207">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="191"/>
<text x="150" y="207">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="191"/>
<text x="202" y="207">
init</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="240" y="191"/>
<text x="254" y="207">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="280" y="191"/>
<text x="294" y="207">
n</text>
</g>
<text class="comment" x="381" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 854; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 854 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="149" y="10"/>
<text x="163" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="187" y="10"/>
<text x="201" y="26">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="225" y="10"/>
<text x="239" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 263 21 h 24 m 244 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="287" y="10"/>
<text x="301" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="325" y="10"/>
<text x="339" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="363" y="10"/>
<text x="389" y="26">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="10"/>
<text x="439" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="463" y="10"/>
<text x="497" y="26">
fold_f</text>
</g>
<path d=" M 315 21 h 10"/>
<path d=" M 353 21 h 10"/>
<path d=" M 415 21 h 10"/>
<path d=" M 453 21 h 10"/>
</g>
<path d=" M 263 21 a 12 12 0 0 1 12 12 v 9 m 532 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 275 42 v 20 a 12 12 0 0 0 12 12 m 508 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="287" y="63"/>
<text x="321" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="63"/>
<text x="379" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="403" y="42"/>
<path d=" M 403 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="411" y="63"/>
<text x="425" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 449 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 473 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="485" y="63"/>
<text x="511" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="583" y="63"/>
<text x="597" y="79">
)</text>
</g>
<path d=" M 439 74 h 10"/>
<path d=" M 573 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="63"/>
<text x="643" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="667" y="63"/>
<text x="693" y="79">
init</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="729" y="63"/>
<text x="743" y="79">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="767" y="63"/>
<text x="781" y="79">
f</text>
</g>
<path d=" M 355 74 h 10"/>
<path d=" M 393 74 h 10"/>
<path d=" M 619 74 h 10"/>
<path d=" M 657 74 h 10"/>
<path d=" M 719 74 h 10"/>
<path d=" M 757 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 139 21 h 10"/>
<path d=" M 177 21 h 10"/>
<path d=" M 215 21 h 10"/>
<path d=" M 253 21 h 10"/>
</g>
<path d=" M 829 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 819 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="438" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="190"/>
<text x="90" y="206">
fold_f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="190"/>
<text x="150" y="206">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="176" y="190"/>
<text x="202" y="206">
init</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="240" y="190"/>
<text x="254" y="206">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="280" y="190"/>
<text x="294" y="206">
n</text>
</g>
<text class="comment" x="381" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="i16"><a href="#i16"><h3>Macro <i>`i16`</i></h3></a><pre class="rust">macro_rules! i16 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="i32"><a href="#i32"><h3>Macro <i>`i32`</i></h3></a><pre class="rust">macro_rules! i32 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="i64"><a href="#i64"><h3>Macro <i>`i64`</i></h3></a><pre class="rust">macro_rules! i64 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="is&#x5F;a"><a href="#is&#x5F;a"><h3>Macro <i>`is_a`</i></h3></a><pre class="rust">macro_rules! is_a {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="is&#x5F;not"><a href="#is&#x5F;not"><h3>Macro <i>`is_not`</i></h3></a><pre class="rust">macro_rules! is_not {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="length&#x5F;bytes"><a href="#length&#x5F;bytes"><h3>Macro <i>`length_bytes`</i></h3></a><pre class="rust">macro_rules! length_bytes {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="length&#x5F;count"><a href="#length&#x5F;count"><h3>Macro <i>`length_count`</i></h3></a><pre class="rust">macro_rules! length_count {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 922; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 922 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 828 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 624 m -309 0 l -5 -5 m 0 10 l 5 -5 m 309 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 897 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="305"/>
<text x="50" y="321">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="305"/>
<text x="134" y="321">
submac2</text>
</g>
<text class="comment" x="245" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 970; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 970 389" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="137"/>
<text x="169" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="137"/>
<text x="227" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="116"/>
<path d=" M 251 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="137"/>
<text x="273" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 297 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="137"/>
<text x="359" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="137"/>
<text x="445" y="153">
)</text>
</g>
<path d=" M 287 148 h 10"/>
<path d=" M 421 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="137"/>
<text x="491" y="153">
,</text>
</g>
<g class="choice">
<path d=" M 515 148 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="539" y="137"/>
<text x="553" y="153">
g</text>
</g>
<path d=" M 515 148 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 527 169 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="539" y="190"/>
<text x="577" y="206">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="190"/>
<text x="639" y="206">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="663" y="169"/>
<path d=" M 663 201 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="671" y="190"/>
<text x="685" y="206">
(</text>
</g>
<g class="optional">
<path d=" M 709 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 733 201 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="745" y="190"/>
<text x="775" y="206">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="190"/>
<text x="865" y="206">
)</text>
</g>
<path d=" M 699 201 h 10"/>
<path d=" M 841 201 h 10"/>
</g>
</g>
<path d=" M 615 201 h 10"/>
<path d=" M 653 201 h 10"/>
</g>
</g>
<path d=" M 203 148 h 10"/>
<path d=" M 241 148 h 10"/>
<path d=" M 467 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 945 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 935 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="245"/>
<g class="verticalgrid">
<text class="comment" x="164" y="266">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="283"/>
<text x="50" y="299">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="283"/>
<text x="134" y="299">
submac2</text>
</g>
<text class="comment" x="245" y="298">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="317"/>
<text x="30" y="333">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="317"/>
<text x="70" y="333">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="317"/>
<text x="110" y="333">
i</text>
</g>
<text class="comment" x="197" y="332">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="351"/>
<text x="42" y="367">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="351"/>
<text x="110" y="367">
args2</text>
</g>
<text class="comment" x="213" y="366">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="length&#x5F;data"><a href="#length&#x5F;data"><h3>Macro <i>`length_data`</i></h3></a><pre class="rust">macro_rules! length_data {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="length&#x5F;value"><a href="#length&#x5F;value"><h3>Macro <i>`length_value`</i></h3></a><pre class="rust">macro_rules! length_value {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 922; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 922 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 828 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 624 m -309 0 l -5 -5 m 0 10 l 5 -5 m 309 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 897 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="305"/>
<text x="50" y="321">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="305"/>
<text x="134" y="321">
submac2</text>
</g>
<text class="comment" x="245" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 970; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 970 389" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="137"/>
<text x="169" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="137"/>
<text x="227" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="116"/>
<path d=" M 251 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="137"/>
<text x="273" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 297 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="137"/>
<text x="359" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="137"/>
<text x="445" y="153">
)</text>
</g>
<path d=" M 287 148 h 10"/>
<path d=" M 421 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="137"/>
<text x="491" y="153">
,</text>
</g>
<g class="choice">
<path d=" M 515 148 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="539" y="137"/>
<text x="553" y="153">
g</text>
</g>
<path d=" M 515 148 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 527 169 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="539" y="190"/>
<text x="577" y="206">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="190"/>
<text x="639" y="206">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="663" y="169"/>
<path d=" M 663 201 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="671" y="190"/>
<text x="685" y="206">
(</text>
</g>
<g class="optional">
<path d=" M 709 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 733 201 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="745" y="190"/>
<text x="775" y="206">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="190"/>
<text x="865" y="206">
)</text>
</g>
<path d=" M 699 201 h 10"/>
<path d=" M 841 201 h 10"/>
</g>
</g>
<path d=" M 615 201 h 10"/>
<path d=" M 653 201 h 10"/>
</g>
</g>
<path d=" M 203 148 h 10"/>
<path d=" M 241 148 h 10"/>
<path d=" M 467 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 945 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 935 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="245"/>
<g class="verticalgrid">
<text class="comment" x="164" y="266">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="283"/>
<text x="50" y="299">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="283"/>
<text x="134" y="299">
submac2</text>
</g>
<text class="comment" x="245" y="298">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="317"/>
<text x="30" y="333">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="317"/>
<text x="70" y="333">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="317"/>
<text x="110" y="333">
i</text>
</g>
<text class="comment" x="197" y="332">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="351"/>
<text x="42" y="367">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="351"/>
<text x="110" y="367">
args2</text>
</g>
<text class="comment" x="213" y="366">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="many0"><a href="#many0"><h3>Macro <i>`many0`</i></h3></a><pre class="rust">macro_rules! many0 {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="many1"><a href="#many1"><h3>Macro <i>`many1`</i></h3></a><pre class="rust">macro_rules! many1 {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="many&#x5F;m&#x5F;n"><a href="#many&#x5F;m&#x5F;n"><h3>Macro <i>`many_m_n`</i></h3></a><pre class="rust">macro_rules! many_m_n {
    ($i:expr, $m:expr, $n: expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $m:expr, $n: expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 678; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 678 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 560 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="31"/>
<text x="149" y="47">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="31"/>
<text x="187" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="31"/>
<text x="225" y="47">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="31"/>
<text x="263" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="287" y="31"/>
<text x="321" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="31"/>
<text x="379" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="403" y="10"/>
<path d=" M 403 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="411" y="31"/>
<text x="425" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 449 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 473 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="485" y="31"/>
<text x="511" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="583" y="31"/>
<text x="597" y="47">
)</text>
</g>
<path d=" M 439 42 h 10"/>
<path d=" M 573 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 163 42 h 10"/>
<path d=" M 201 42 h 10"/>
<path d=" M 239 42 h 10"/>
<path d=" M 277 42 h 10"/>
<path d=" M 355 42 h 10"/>
<path d=" M 393 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 584 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 256 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="85"/>
<text x="225" y="101">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="249" y="85"/>
<text x="263" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="287" y="85"/>
<text x="301" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
<path d=" M 239 96 h 10"/>
<path d=" M 277 96 h 10"/>
</g>
</g>
<path d=" M 653 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 643 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="191"/>
<text x="110" y="207">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="191"/>
<text x="150" y="207">
n</text>
</g>
<text class="comment" x="237" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 678; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 678 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="149" y="10"/>
<text x="163" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="187" y="10"/>
<text x="201" y="26">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="225" y="10"/>
<text x="239" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 263 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="287" y="10"/>
<text x="301" y="26">
f</text>
</g>
<path d=" M 263 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 275 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="287" y="63"/>
<text x="321" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="63"/>
<text x="379" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="403" y="42"/>
<path d=" M 403 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="411" y="63"/>
<text x="425" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 449 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 473 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="485" y="63"/>
<text x="511" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="583" y="63"/>
<text x="597" y="79">
)</text>
</g>
<path d=" M 439 74 h 10"/>
<path d=" M 573 74 h 10"/>
</g>
</g>
<path d=" M 355 74 h 10"/>
<path d=" M 393 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 139 21 h 10"/>
<path d=" M 177 21 h 10"/>
<path d=" M 215 21 h 10"/>
<path d=" M 253 21 h 10"/>
</g>
<path d=" M 653 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 643 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="190"/>
<text x="110" y="206">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="136" y="190"/>
<text x="150" y="206">
n</text>
</g>
<text class="comment" x="237" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="many&#x5F;till"><a href="#many&#x5F;till"><h3>Macro <i>`many_till`</i></h3></a><pre class="rust">macro_rules! many_till {
    (__impl $i:expr, $submac1:ident!( $($args1:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac1:ident!( $($args1:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac1:ident!( $($args1:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g: expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1016; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1016 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 898 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="213" y="31"/>
<text x="251" y="47">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="31"/>
<text x="313" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="337" y="10"/>
<path d=" M 337 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="31"/>
<text x="359" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 383 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 407 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="419" y="31"/>
<text x="449" y="47">
args1</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="31"/>
<text x="539" y="47">
)</text>
</g>
<path d=" M 373 42 h 10"/>
<path d=" M 515 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="31"/>
<text x="585" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="609" y="31"/>
<text x="647" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="31"/>
<text x="709" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="733" y="10"/>
<path d=" M 733 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="741" y="31"/>
<text x="755" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 779 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 803 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="815" y="31"/>
<text x="845" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="921" y="31"/>
<text x="935" y="47">
)</text>
</g>
<path d=" M 769 42 h 10"/>
<path d=" M 911 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 289 42 h 10"/>
<path d=" M 327 42 h 10"/>
<path d=" M 561 42 h 10"/>
<path d=" M 599 42 h 10"/>
<path d=" M 685 42 h 10"/>
<path d=" M 723 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 922 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 922 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 922 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 922 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 820 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="105"/>
<text x="173" y="121">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="105"/>
<text x="235" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="259" y="84"/>
<path d=" M 259 116 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="105"/>
<text x="281" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 305 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 116 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="341" y="105"/>
<text x="371" y="121">
args1</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="447" y="105"/>
<text x="461" y="121">
)</text>
</g>
<path d=" M 295 116 h 10"/>
<path d=" M 437 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="493" y="105"/>
<text x="507" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="531" y="105"/>
<text x="569" y="121">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="617" y="105"/>
<text x="631" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="655" y="84"/>
<path d=" M 655 116 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="663" y="105"/>
<text x="677" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 701 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 725 116 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="737" y="105"/>
<text x="767" y="121">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="843" y="105"/>
<text x="857" y="121">
)</text>
</g>
<path d=" M 691 116 h 10"/>
<path d=" M 833 116 h 10"/>
</g>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 211 116 h 10"/>
<path d=" M 249 116 h 10"/>
<path d=" M 483 116 h 10"/>
<path d=" M 521 116 h 10"/>
<path d=" M 607 116 h 10"/>
<path d=" M 645 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 500 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="135" y="179"/>
<text x="173" y="195">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="221" y="179"/>
<text x="235" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="259" y="158"/>
<path d=" M 259 190 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="267" y="179"/>
<text x="281" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 305 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 329 190 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="341" y="179"/>
<text x="371" y="195">
args1</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="447" y="179"/>
<text x="461" y="195">
)</text>
</g>
<path d=" M 295 190 h 10"/>
<path d=" M 437 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="493" y="179"/>
<text x="507" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="531" y="179"/>
<text x="545" y="195">
g</text>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 211 190 h 10"/>
<path d=" M 249 190 h 10"/>
<path d=" M 483 190 h 10"/>
<path d=" M 521 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 500 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="253"/>
<text x="73" y="269">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="253"/>
<text x="111" y="269">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="253"/>
<text x="149" y="269">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="253"/>
<text x="187" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="211" y="253"/>
<text x="249" y="269">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="253"/>
<text x="311" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="335" y="232"/>
<path d=" M 335 264 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="343" y="253"/>
<text x="357" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 381 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 405 264 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="417" y="253"/>
<text x="447" y="269">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="253"/>
<text x="537" y="269">
)</text>
</g>
<path d=" M 371 264 h 10"/>
<path d=" M 513 264 h 10"/>
</g>
</g>
<path d=" M 87 264 h 10"/>
<path d=" M 125 264 h 10"/>
<path d=" M 163 264 h 10"/>
<path d=" M 201 264 h 10"/>
<path d=" M 287 264 h 10"/>
<path d=" M 325 264 h 10"/>
</g>
<path d=" M 47 306 v 0 a 12 12 0 0 0 12 12 m 180 0 h 718 m -356 0 l -5 -5 m 0 10 l 5 -5 m 356 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="307"/>
<text x="73" y="323">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="307"/>
<text x="111" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="307"/>
<text x="149" y="323">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="307"/>
<text x="187" y="323">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="307"/>
<text x="225" y="323">
g</text>
</g>
<path d=" M 87 318 h 10"/>
<path d=" M 125 318 h 10"/>
<path d=" M 163 318 h 10"/>
<path d=" M 201 318 h 10"/>
</g>
</g>
<path d=" M 991 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 981 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="310" x="10" y="341"/>
<g class="verticalgrid">
<text class="comment" x="164" y="362">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="16" y="379"/>
<text x="54" y="395">
submac1</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="104" y="379"/>
<text x="142" y="395">
submac2</text>
</g>
<text class="comment" x="253" y="394">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="413"/>
<text x="70" y="429">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="413"/>
<text x="110" y="429">
i</text>
</g>
<text class="comment" x="197" y="428">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="16" y="447"/>
<text x="46" y="463">
args1</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="88" y="447"/>
<text x="118" y="463">
args2</text>
</g>
<text class="comment" x="221" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1034; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1034 293" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 734 m -364 0 l -5 -5 m 0 10 l 5 -5 m 364 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 940 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 916 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="sequence">
<g class="choice">
<path d=" M 135 52 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 73 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="159" y="94"/>
<text x="197" y="110">
submac1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="94"/>
<text x="259" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="283" y="73"/>
<path d=" M 283 105 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="94"/>
<text x="305" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 329 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 105 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="365" y="94"/>
<text x="395" y="110">
args1</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="471" y="94"/>
<text x="485" y="110">
)</text>
</g>
<path d=" M 319 105 h 10"/>
<path d=" M 461 105 h 10"/>
</g>
</g>
<path d=" M 235 105 h 10"/>
<path d=" M 273 105 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="541" y="41"/>
<text x="555" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 579 52 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="603" y="41"/>
<text x="617" y="57">
g</text>
</g>
<path d=" M 579 52 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 591 73 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="603" y="94"/>
<text x="641" y="110">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="689" y="94"/>
<text x="703" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="727" y="73"/>
<path d=" M 727 105 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="735" y="94"/>
<text x="749" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 773 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 797 105 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="809" y="94"/>
<text x="839" y="110">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="915" y="94"/>
<text x="929" y="110">
)</text>
</g>
<path d=" M 763 105 h 10"/>
<path d=" M 905 105 h 10"/>
</g>
</g>
<path d=" M 679 105 h 10"/>
<path d=" M 717 105 h 10"/>
</g>
</g>
<path d=" M 531 52 h 10"/>
<path d=" M 569 52 h 10"/>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
</g>
</g>
<path d=" M 1009 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 999 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="310" x="10" y="149"/>
<g class="verticalgrid">
<text class="comment" x="164" y="170">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="16" y="187"/>
<text x="54" y="203">
submac1</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="104" y="187"/>
<text x="142" y="203">
submac2</text>
</g>
<text class="comment" x="253" y="202">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="221"/>
<text x="30" y="237">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="221"/>
<text x="70" y="237">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="221"/>
<text x="110" y="237">
i</text>
</g>
<text class="comment" x="197" y="236">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="16" y="255"/>
<text x="46" y="271">
args1</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="88" y="255"/>
<text x="118" y="271">
args2</text>
</g>
<text class="comment" x="221" y="270">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="map"><a href="#map"><h3>Macro <i>`map`</i></h3></a><pre class="rust">macro_rules! map {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 680; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 680 337" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 562 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="593" y="31"/>
<text x="607" y="47">
g</text>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 586 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 586 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 0 a 12 12 0 0 0 12 12 m 180 0 h 382 m -188 0 l -5 -5 m 0 10 l 5 -5 m 188 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="159"/>
<text x="73" y="175">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="159"/>
<text x="111" y="175">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="159"/>
<text x="149" y="175">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="159"/>
<text x="187" y="175">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="159"/>
<text x="225" y="175">
g</text>
</g>
<path d=" M 87 170 h 10"/>
<path d=" M 125 170 h 10"/>
<path d=" M 163 170 h 10"/>
<path d=" M 201 170 h 10"/>
</g>
</g>
<path d=" M 655 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 645 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="193"/>
<g class="verticalgrid">
<text class="comment" x="164" y="214">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="231"/>
<text x="50" y="247">
submac</text>
</g>
<text class="comment" x="160" y="246">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="265"/>
<text x="30" y="281">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="265"/>
<text x="70" y="281">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="265"/>
<text x="110" y="281">
i</text>
</g>
<text class="comment" x="197" y="280">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="299"/>
<text x="42" y="315">
args</text>
</g>
<text class="comment" x="141" y="314">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 650; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 650 293" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 350 m -172 0 l -5 -5 m 0 10 l 5 -5 m 172 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 556 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 532 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="94"/>
<text x="193" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="94"/>
<text x="251" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="73"/>
<path d=" M 275 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="94"/>
<text x="297" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 321 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="94"/>
<text x="383" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="94"/>
<text x="469" y="110">
)</text>
</g>
<path d=" M 311 105 h 10"/>
<path d=" M 445 105 h 10"/>
</g>
</g>
<path d=" M 227 105 h 10"/>
<path d=" M 265 105 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="41"/>
<text x="539" y="57">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="563" y="41"/>
<text x="577" y="57">
g</text>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
<path d=" M 515 52 h 10"/>
<path d=" M 553 52 h 10"/>
</g>
</g>
<path d=" M 625 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 615 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="149"/>
<g class="verticalgrid">
<text class="comment" x="164" y="170">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="187"/>
<text x="50" y="203">
submac</text>
</g>
<text class="comment" x="160" y="202">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="221"/>
<text x="30" y="237">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="221"/>
<text x="70" y="237">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="221"/>
<text x="110" y="237">
i</text>
</g>
<text class="comment" x="197" y="236">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="255"/>
<text x="42" y="271">
args</text>
</g>
<text class="comment" x="141" y="270">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="map&#x5F;opt"><a href="#map&#x5F;opt"><h3>Macro <i>`map_opt`</i></h3></a><pre class="rust">macro_rules! map_opt {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1000; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1000 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 882 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="593" y="31"/>
<text x="631" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="31"/>
<text x="693" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="717" y="10"/>
<path d=" M 717 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="725" y="31"/>
<text x="739" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 763 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 787 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="799" y="31"/>
<text x="829" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="31"/>
<text x="919" y="47">
)</text>
</g>
<path d=" M 753 42 h 10"/>
<path d=" M 895 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
<path d=" M 669 42 h 10"/>
<path d=" M 707 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 906 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 232 v 33 m 906 0 v -33"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 804 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="179"/>
<text x="169" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="179"/>
<text x="227" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="158"/>
<path d=" M 251 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="179"/>
<text x="273" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 297 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="179"/>
<text x="359" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="179"/>
<text x="445" y="195">
)</text>
</g>
<path d=" M 287 190 h 10"/>
<path d=" M 421 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="179"/>
<text x="491" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="179"/>
<text x="553" y="195">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="179"/>
<text x="615" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="158"/>
<path d=" M 639 190 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="179"/>
<text x="661" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 685 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 190 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="179"/>
<text x="751" y="195">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="179"/>
<text x="841" y="195">
)</text>
</g>
<path d=" M 675 190 h 10"/>
<path d=" M 817 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 203 190 h 10"/>
<path d=" M 241 190 h 10"/>
<path d=" M 467 190 h 10"/>
<path d=" M 505 190 h 10"/>
<path d=" M 591 190 h 10"/>
<path d=" M 629 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 702 m -348 0 l -5 -5 m 0 10 l 5 -5 m 348 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
<path d=" M 47 265 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="286"/>
<text x="73" y="302">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="286"/>
<text x="111" y="302">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="286"/>
<text x="149" y="302">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="286"/>
<text x="187" y="302">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="286"/>
<text x="245" y="302">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="286"/>
<text x="303" y="302">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="265"/>
<path d=" M 327 297 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="286"/>
<text x="349" y="302">
(</text>
</g>
<g class="optional">
<path d=" M 373 297 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 297 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="286"/>
<text x="435" y="302">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="286"/>
<text x="521" y="302">
)</text>
</g>
<path d=" M 363 297 h 10"/>
<path d=" M 497 297 h 10"/>
</g>
</g>
<path d=" M 87 297 h 10"/>
<path d=" M 125 297 h 10"/>
<path d=" M 163 297 h 10"/>
<path d=" M 201 297 h 10"/>
<path d=" M 279 297 h 10"/>
<path d=" M 317 297 h 10"/>
</g>
</g>
<path d=" M 975 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 965 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="341"/>
<g class="verticalgrid">
<text class="comment" x="164" y="362">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="379"/>
<text x="50" y="395">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="379"/>
<text x="134" y="395">
submac2</text>
</g>
<text class="comment" x="245" y="394">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="413"/>
<text x="70" y="429">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="413"/>
<text x="110" y="429">
i</text>
</g>
<text class="comment" x="197" y="428">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="447"/>
<text x="42" y="463">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="447"/>
<text x="110" y="463">
args2</text>
</g>
<text class="comment" x="213" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1018; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1018 420" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 718 m -356 0 l -5 -5 m 0 10 l 5 -5 m 356 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 924 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 900 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="41"/>
<text x="211" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 235 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="259" y="41"/>
<text x="273" y="57">
g</text>
</g>
<path d=" M 235 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 247 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="259" y="94"/>
<text x="293" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="94"/>
<text x="351" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="73"/>
<path d=" M 375 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="94"/>
<text x="397" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 421 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="94"/>
<text x="483" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="94"/>
<text x="569" y="110">
)</text>
</g>
<path d=" M 411 105 h 10"/>
<path d=" M 545 105 h 10"/>
</g>
</g>
<path d=" M 327 105 h 10"/>
<path d=" M 365 105 h 10"/>
</g>
</g>
<path d=" M 187 52 h 10"/>
<path d=" M 225 52 h 10"/>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 147 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="168"/>
<text x="193" y="184">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="168"/>
<text x="251" y="184">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="147"/>
<path d=" M 275 179 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="168"/>
<text x="297" y="184">
(</text>
</g>
<g class="optional">
<path d=" M 321 179 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 179 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="168"/>
<text x="383" y="184">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="168"/>
<text x="469" y="184">
)</text>
</g>
<path d=" M 311 179 h 10"/>
<path d=" M 445 179 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="168"/>
<text x="515" y="184">
,</text>
</g>
<g class="choice">
<path d=" M 539 179 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="563" y="168"/>
<text x="577" y="184">
g</text>
</g>
<path d=" M 539 179 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 551 200 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="563" y="221"/>
<text x="601" y="237">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="221"/>
<text x="663" y="237">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="687" y="200"/>
<path d=" M 687 232 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="221"/>
<text x="709" y="237">
(</text>
</g>
<g class="optional">
<path d=" M 733 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 757 232 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="769" y="221"/>
<text x="799" y="237">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="875" y="221"/>
<text x="889" y="237">
)</text>
</g>
<path d=" M 723 232 h 10"/>
<path d=" M 865 232 h 10"/>
</g>
</g>
<path d=" M 639 232 h 10"/>
<path d=" M 677 232 h 10"/>
</g>
</g>
<path d=" M 227 179 h 10"/>
<path d=" M 265 179 h 10"/>
<path d=" M 491 179 h 10"/>
<path d=" M 529 179 h 10"/>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
</g>
</g>
<path d=" M 993 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 983 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="276"/>
<g class="verticalgrid">
<text class="comment" x="164" y="297">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="314"/>
<text x="50" y="330">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="314"/>
<text x="134" y="330">
submac2</text>
</g>
<text class="comment" x="245" y="329">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="348"/>
<text x="30" y="364">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="348"/>
<text x="70" y="364">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="348"/>
<text x="110" y="364">
i</text>
</g>
<text class="comment" x="197" y="363">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="382"/>
<text x="42" y="398">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="382"/>
<text x="110" y="398">
args2</text>
</g>
<text class="comment" x="213" y="397">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="map&#x5F;res"><a href="#map&#x5F;res"><h3>Macro <i>`map_res`</i></h3></a><pre class="rust">macro_rules! map_res {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1000; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1000 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 882 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="593" y="31"/>
<text x="631" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="31"/>
<text x="693" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="717" y="10"/>
<path d=" M 717 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="725" y="31"/>
<text x="739" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 763 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 787 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="799" y="31"/>
<text x="829" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="31"/>
<text x="919" y="47">
)</text>
</g>
<path d=" M 753 42 h 10"/>
<path d=" M 895 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
<path d=" M 669 42 h 10"/>
<path d=" M 707 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 906 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 232 v 33 m 906 0 v -33"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 804 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="179"/>
<text x="169" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="179"/>
<text x="227" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="158"/>
<path d=" M 251 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="179"/>
<text x="273" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 297 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="179"/>
<text x="359" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="179"/>
<text x="445" y="195">
)</text>
</g>
<path d=" M 287 190 h 10"/>
<path d=" M 421 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="179"/>
<text x="491" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="179"/>
<text x="553" y="195">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="179"/>
<text x="615" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="158"/>
<path d=" M 639 190 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="179"/>
<text x="661" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 685 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 190 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="179"/>
<text x="751" y="195">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="179"/>
<text x="841" y="195">
)</text>
</g>
<path d=" M 675 190 h 10"/>
<path d=" M 817 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 203 190 h 10"/>
<path d=" M 241 190 h 10"/>
<path d=" M 467 190 h 10"/>
<path d=" M 505 190 h 10"/>
<path d=" M 591 190 h 10"/>
<path d=" M 629 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 702 m -348 0 l -5 -5 m 0 10 l 5 -5 m 348 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
<path d=" M 47 265 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="286"/>
<text x="73" y="302">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="286"/>
<text x="111" y="302">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="286"/>
<text x="149" y="302">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="286"/>
<text x="187" y="302">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="286"/>
<text x="245" y="302">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="286"/>
<text x="303" y="302">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="265"/>
<path d=" M 327 297 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="286"/>
<text x="349" y="302">
(</text>
</g>
<g class="optional">
<path d=" M 373 297 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 297 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="286"/>
<text x="435" y="302">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="286"/>
<text x="521" y="302">
)</text>
</g>
<path d=" M 363 297 h 10"/>
<path d=" M 497 297 h 10"/>
</g>
</g>
<path d=" M 87 297 h 10"/>
<path d=" M 125 297 h 10"/>
<path d=" M 163 297 h 10"/>
<path d=" M 201 297 h 10"/>
<path d=" M 279 297 h 10"/>
<path d=" M 317 297 h 10"/>
</g>
</g>
<path d=" M 975 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 965 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="341"/>
<g class="verticalgrid">
<text class="comment" x="164" y="362">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="379"/>
<text x="50" y="395">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="379"/>
<text x="134" y="395">
submac2</text>
</g>
<text class="comment" x="245" y="394">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="413"/>
<text x="70" y="429">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="413"/>
<text x="110" y="429">
i</text>
</g>
<text class="comment" x="197" y="428">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="447"/>
<text x="42" y="463">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="447"/>
<text x="110" y="463">
args2</text>
</g>
<text class="comment" x="213" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1018; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1018 420" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 718 m -356 0 l -5 -5 m 0 10 l 5 -5 m 356 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 924 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 900 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="41"/>
<text x="211" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 235 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="259" y="41"/>
<text x="273" y="57">
g</text>
</g>
<path d=" M 235 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 247 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="259" y="94"/>
<text x="293" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="94"/>
<text x="351" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="73"/>
<path d=" M 375 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="94"/>
<text x="397" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 421 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="94"/>
<text x="483" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="94"/>
<text x="569" y="110">
)</text>
</g>
<path d=" M 411 105 h 10"/>
<path d=" M 545 105 h 10"/>
</g>
</g>
<path d=" M 327 105 h 10"/>
<path d=" M 365 105 h 10"/>
</g>
</g>
<path d=" M 187 52 h 10"/>
<path d=" M 225 52 h 10"/>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 147 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="168"/>
<text x="193" y="184">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="168"/>
<text x="251" y="184">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="147"/>
<path d=" M 275 179 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="168"/>
<text x="297" y="184">
(</text>
</g>
<g class="optional">
<path d=" M 321 179 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 179 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="168"/>
<text x="383" y="184">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="168"/>
<text x="469" y="184">
)</text>
</g>
<path d=" M 311 179 h 10"/>
<path d=" M 445 179 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="168"/>
<text x="515" y="184">
,</text>
</g>
<g class="choice">
<path d=" M 539 179 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="563" y="168"/>
<text x="577" y="184">
g</text>
</g>
<path d=" M 539 179 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 551 200 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="563" y="221"/>
<text x="601" y="237">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="221"/>
<text x="663" y="237">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="687" y="200"/>
<path d=" M 687 232 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="221"/>
<text x="709" y="237">
(</text>
</g>
<g class="optional">
<path d=" M 733 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 757 232 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="769" y="221"/>
<text x="799" y="237">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="875" y="221"/>
<text x="889" y="237">
)</text>
</g>
<path d=" M 723 232 h 10"/>
<path d=" M 865 232 h 10"/>
</g>
</g>
<path d=" M 639 232 h 10"/>
<path d=" M 677 232 h 10"/>
</g>
</g>
<path d=" M 227 179 h 10"/>
<path d=" M 265 179 h 10"/>
<path d=" M 491 179 h 10"/>
<path d=" M 529 179 h 10"/>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
</g>
</g>
<path d=" M 993 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 983 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="276"/>
<g class="verticalgrid">
<text class="comment" x="164" y="297">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="314"/>
<text x="50" y="330">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="314"/>
<text x="134" y="330">
submac2</text>
</g>
<text class="comment" x="245" y="329">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="348"/>
<text x="30" y="364">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="348"/>
<text x="70" y="364">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="348"/>
<text x="110" y="364">
i</text>
</g>
<text class="comment" x="197" y="363">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="382"/>
<text x="42" y="398">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="382"/>
<text x="110" y="398">
args2</text>
</g>
<text class="comment" x="213" y="397">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="method"><a href="#method"><h3>Macro <i>`method`</i></h3></a><pre class="rust">macro_rules! method {
    ($name:ident&lt;$a:ty&gt;( $i:ty ) -&gt; $o:ty, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$i:ty,$o:ty,$e:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$i:ty,$o:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$o:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty&gt;( $i:ty ) -&gt; $o:ty, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$i:ty,$o:ty,$e:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$i:ty,$o:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$o:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty&gt;, $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty&gt;( $i:ty ) -&gt; $o:ty, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$i:ty,$o:ty,$e:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$i:ty,$o:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty,$o:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$a:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty&gt;( $i:ty ) -&gt; $o:ty, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$i:ty,$o:ty,$e:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$i:ty,$o:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty,$o:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$a:ty&gt;, mut $self_:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1124; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1124 1636" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 898 0 h 132 m -63 0 l -5 -5 m 0 10 l 5 -5 m 63 0"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="31"/>
<text x="85" y="47">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="31"/>
<text x="135" y="47">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="31"/>
<text x="173" y="47">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="235" y="23"/>
<path d=" M 235 42 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="243" y="31"/>
<text x="257" y="47">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="281" y="31"/>
<text x="295" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="319" y="31"/>
<text x="333" y="47">
)</text>
</g>
<path d=" M 271 42 h 10"/>
<path d=" M 309 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="31"/>
<text x="379" y="47">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="31"/>
<text x="417" y="47">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="441" y="31"/>
<text x="455" y="47">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="31"/>
<text x="493" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="517" y="31"/>
<text x="547" y="47">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="587" y="31"/>
<text x="601" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="625" y="31"/>
<text x="659" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="703" y="31"/>
<text x="717" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="741" y="10"/>
<path d=" M 741 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="749" y="31"/>
<text x="763" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 787 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 811 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="823" y="31"/>
<text x="849" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="921" y="31"/>
<text x="935" y="47">
)</text>
</g>
<path d=" M 777 42 h 10"/>
<path d=" M 911 42 h 10"/>
</g>
</g>
<path d=" M 111 42 h 10"/>
<path d=" M 149 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 355 42 h 10"/>
<path d=" M 393 42 h 10"/>
<path d=" M 431 42 h 10"/>
<path d=" M 469 42 h 10"/>
<path d=" M 507 42 h 10"/>
<path d=" M 577 42 h 10"/>
<path d=" M 615 42 h 10"/>
<path d=" M 693 42 h 10"/>
<path d=" M 731 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 1030 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 326 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 400 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 474 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 548 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 622 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 696 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 770 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 844 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 918 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 992 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1066 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1140 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1214 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1288 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1362 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1030 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 882 0 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="105"/>
<text x="85" y="121">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="105"/>
<text x="135" y="121">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="105"/>
<text x="173" y="121">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="105"/>
<text x="211" y="121">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="105"/>
<text x="249" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="105"/>
<text x="287" y="121">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="311" y="105"/>
<text x="325" y="121">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="105"/>
<text x="363" y="121">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="387" y="105"/>
<text x="401" y="121">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="105"/>
<text x="439" y="121">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="105"/>
<text x="477" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="501" y="105"/>
<text x="531" y="121">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="105"/>
<text x="585" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="609" y="105"/>
<text x="643" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="687" y="105"/>
<text x="701" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="725" y="84"/>
<path d=" M 725 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="733" y="105"/>
<text x="747" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 771 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 795 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="807" y="105"/>
<text x="833" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="105"/>
<text x="919" y="121">
)</text>
</g>
<path d=" M 761 116 h 10"/>
<path d=" M 895 116 h 10"/>
</g>
</g>
<path d=" M 111 116 h 10"/>
<path d=" M 149 116 h 10"/>
<path d=" M 187 116 h 10"/>
<path d=" M 225 116 h 10"/>
<path d=" M 263 116 h 10"/>
<path d=" M 301 116 h 10"/>
<path d=" M 339 116 h 10"/>
<path d=" M 377 116 h 10"/>
<path d=" M 415 116 h 10"/>
<path d=" M 453 116 h 10"/>
<path d=" M 491 116 h 10"/>
<path d=" M 561 116 h 10"/>
<path d=" M 599 116 h 10"/>
<path d=" M 677 116 h 10"/>
<path d=" M 715 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 806 0 h 200 m -97 0 l -5 -5 m 0 10 l 5 -5 m 97 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="179"/>
<text x="85" y="195">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="179"/>
<text x="135" y="195">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="179"/>
<text x="173" y="195">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="179"/>
<text x="211" y="195">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="179"/>
<text x="249" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="179"/>
<text x="287" y="195">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="311" y="179"/>
<text x="325" y="195">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="179"/>
<text x="363" y="195">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="387" y="179"/>
<text x="401" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="425" y="179"/>
<text x="455" y="195">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="495" y="179"/>
<text x="509" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="533" y="179"/>
<text x="567" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="611" y="179"/>
<text x="625" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="649" y="158"/>
<path d=" M 649 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="657" y="179"/>
<text x="671" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 695 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 719 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="731" y="179"/>
<text x="757" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="829" y="179"/>
<text x="843" y="195">
)</text>
</g>
<path d=" M 685 190 h 10"/>
<path d=" M 819 190 h 10"/>
</g>
</g>
<path d=" M 111 190 h 10"/>
<path d=" M 149 190 h 10"/>
<path d=" M 187 190 h 10"/>
<path d=" M 225 190 h 10"/>
<path d=" M 263 190 h 10"/>
<path d=" M 301 190 h 10"/>
<path d=" M 339 190 h 10"/>
<path d=" M 377 190 h 10"/>
<path d=" M 415 190 h 10"/>
<path d=" M 485 190 h 10"/>
<path d=" M 523 190 h 10"/>
<path d=" M 601 190 h 10"/>
<path d=" M 639 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 730 0 h 276 m -135 0 l -5 -5 m 0 10 l 5 -5 m 135 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="253"/>
<text x="85" y="269">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="253"/>
<text x="135" y="269">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="253"/>
<text x="173" y="269">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="253"/>
<text x="211" y="269">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="253"/>
<text x="249" y="269">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="253"/>
<text x="287" y="269">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="311" y="253"/>
<text x="325" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="349" y="253"/>
<text x="379" y="269">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="253"/>
<text x="433" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="457" y="253"/>
<text x="491" y="269">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="535" y="253"/>
<text x="549" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="573" y="232"/>
<path d=" M 573 264 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="581" y="253"/>
<text x="595" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 619 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 643 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="655" y="253"/>
<text x="681" y="269">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="753" y="253"/>
<text x="767" y="269">
)</text>
</g>
<path d=" M 609 264 h 10"/>
<path d=" M 743 264 h 10"/>
</g>
</g>
<path d=" M 111 264 h 10"/>
<path d=" M 149 264 h 10"/>
<path d=" M 187 264 h 10"/>
<path d=" M 225 264 h 10"/>
<path d=" M 263 264 h 10"/>
<path d=" M 301 264 h 10"/>
<path d=" M 339 264 h 10"/>
<path d=" M 409 264 h 10"/>
<path d=" M 447 264 h 10"/>
<path d=" M 525 264 h 10"/>
<path d=" M 563 264 h 10"/>
</g>
<path d=" M 47 306 v 20 a 12 12 0 0 0 12 12 m 654 0 h 352 m -173 0 l -5 -5 m 0 10 l 5 -5 m 173 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="327"/>
<text x="85" y="343">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="327"/>
<text x="135" y="343">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="327"/>
<text x="173" y="343">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="327"/>
<text x="211" y="343">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="327"/>
<text x="249" y="343">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="273" y="327"/>
<text x="303" y="343">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="343" y="327"/>
<text x="357" y="343">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="381" y="327"/>
<text x="415" y="343">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="459" y="327"/>
<text x="473" y="343">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="497" y="306"/>
<path d=" M 497 338 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="505" y="327"/>
<text x="519" y="343">
(</text>
</g>
<g class="optional">
<path d=" M 543 338 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 567 338 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="579" y="327"/>
<text x="605" y="343">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="677" y="327"/>
<text x="691" y="343">
)</text>
</g>
<path d=" M 533 338 h 10"/>
<path d=" M 667 338 h 10"/>
</g>
</g>
<path d=" M 111 338 h 10"/>
<path d=" M 149 338 h 10"/>
<path d=" M 187 338 h 10"/>
<path d=" M 225 338 h 10"/>
<path d=" M 263 338 h 10"/>
<path d=" M 333 338 h 10"/>
<path d=" M 371 338 h 10"/>
<path d=" M 449 338 h 10"/>
<path d=" M 487 338 h 10"/>
</g>
<path d=" M 47 380 v 20 a 12 12 0 0 0 12 12 m 952 0 h 54 m -24 0 l -5 -5 m 0 10 l 5 -5 m 24 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="401"/>
<text x="81" y="417">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="401"/>
<text x="139" y="417">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="401"/>
<text x="189" y="417">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="401"/>
<text x="227" y="417">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="401"/>
<text x="265" y="417">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="289" y="393"/>
<path d=" M 289 412 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="401"/>
<text x="311" y="417">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="335" y="401"/>
<text x="349" y="417">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="373" y="401"/>
<text x="387" y="417">
)</text>
</g>
<path d=" M 325 412 h 10"/>
<path d=" M 363 412 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="401"/>
<text x="433" y="417">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="457" y="401"/>
<text x="471" y="417">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="495" y="401"/>
<text x="509" y="417">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="401"/>
<text x="547" y="417">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="571" y="401"/>
<text x="601" y="417">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="641" y="401"/>
<text x="655" y="417">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="679" y="401"/>
<text x="713" y="417">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="757" y="401"/>
<text x="771" y="417">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="795" y="380"/>
<path d=" M 795 412 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="803" y="401"/>
<text x="817" y="417">
(</text>
</g>
<g class="optional">
<path d=" M 841 412 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 865 412 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="877" y="401"/>
<text x="903" y="417">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="975" y="401"/>
<text x="989" y="417">
)</text>
</g>
<path d=" M 831 412 h 10"/>
<path d=" M 965 412 h 10"/>
</g>
</g>
<path d=" M 103 412 h 10"/>
<path d=" M 165 412 h 10"/>
<path d=" M 203 412 h 10"/>
<path d=" M 241 412 h 10"/>
<path d=" M 279 412 h 10"/>
<path d=" M 409 412 h 10"/>
<path d=" M 447 412 h 10"/>
<path d=" M 485 412 h 10"/>
<path d=" M 523 412 h 10"/>
<path d=" M 561 412 h 10"/>
<path d=" M 631 412 h 10"/>
<path d=" M 669 412 h 10"/>
<path d=" M 747 412 h 10"/>
<path d=" M 785 412 h 10"/>
</g>
<path d=" M 47 454 v 20 a 12 12 0 0 0 12 12 m 936 0 h 70 m -32 0 l -5 -5 m 0 10 l 5 -5 m 32 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="475"/>
<text x="81" y="491">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="475"/>
<text x="139" y="491">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="475"/>
<text x="189" y="491">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="475"/>
<text x="227" y="491">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="475"/>
<text x="265" y="491">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="475"/>
<text x="303" y="491">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="475"/>
<text x="341" y="491">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="365" y="475"/>
<text x="379" y="491">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="475"/>
<text x="417" y="491">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="441" y="475"/>
<text x="455" y="491">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="475"/>
<text x="493" y="491">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="517" y="475"/>
<text x="531" y="491">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="555" y="475"/>
<text x="585" y="491">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="475"/>
<text x="639" y="491">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="663" y="475"/>
<text x="697" y="491">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="741" y="475"/>
<text x="755" y="491">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="779" y="454"/>
<path d=" M 779 486 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="787" y="475"/>
<text x="801" y="491">
(</text>
</g>
<g class="optional">
<path d=" M 825 486 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 849 486 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="861" y="475"/>
<text x="887" y="491">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="959" y="475"/>
<text x="973" y="491">
)</text>
</g>
<path d=" M 815 486 h 10"/>
<path d=" M 949 486 h 10"/>
</g>
</g>
<path d=" M 103 486 h 10"/>
<path d=" M 165 486 h 10"/>
<path d=" M 203 486 h 10"/>
<path d=" M 241 486 h 10"/>
<path d=" M 279 486 h 10"/>
<path d=" M 317 486 h 10"/>
<path d=" M 355 486 h 10"/>
<path d=" M 393 486 h 10"/>
<path d=" M 431 486 h 10"/>
<path d=" M 469 486 h 10"/>
<path d=" M 507 486 h 10"/>
<path d=" M 545 486 h 10"/>
<path d=" M 615 486 h 10"/>
<path d=" M 653 486 h 10"/>
<path d=" M 731 486 h 10"/>
<path d=" M 769 486 h 10"/>
</g>
<path d=" M 47 528 v 20 a 12 12 0 0 0 12 12 m 860 0 h 146 m -70 0 l -5 -5 m 0 10 l 5 -5 m 70 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="549"/>
<text x="81" y="565">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="549"/>
<text x="139" y="565">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="549"/>
<text x="189" y="565">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="549"/>
<text x="227" y="565">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="549"/>
<text x="265" y="565">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="549"/>
<text x="303" y="565">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="549"/>
<text x="341" y="565">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="365" y="549"/>
<text x="379" y="565">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="549"/>
<text x="417" y="565">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="441" y="549"/>
<text x="455" y="565">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="479" y="549"/>
<text x="509" y="565">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="549" y="549"/>
<text x="563" y="565">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="587" y="549"/>
<text x="621" y="565">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="665" y="549"/>
<text x="679" y="565">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="703" y="528"/>
<path d=" M 703 560 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="711" y="549"/>
<text x="725" y="565">
(</text>
</g>
<g class="optional">
<path d=" M 749 560 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 773 560 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="785" y="549"/>
<text x="811" y="565">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="883" y="549"/>
<text x="897" y="565">
)</text>
</g>
<path d=" M 739 560 h 10"/>
<path d=" M 873 560 h 10"/>
</g>
</g>
<path d=" M 103 560 h 10"/>
<path d=" M 165 560 h 10"/>
<path d=" M 203 560 h 10"/>
<path d=" M 241 560 h 10"/>
<path d=" M 279 560 h 10"/>
<path d=" M 317 560 h 10"/>
<path d=" M 355 560 h 10"/>
<path d=" M 393 560 h 10"/>
<path d=" M 431 560 h 10"/>
<path d=" M 469 560 h 10"/>
<path d=" M 539 560 h 10"/>
<path d=" M 577 560 h 10"/>
<path d=" M 655 560 h 10"/>
<path d=" M 693 560 h 10"/>
</g>
<path d=" M 47 602 v 20 a 12 12 0 0 0 12 12 m 784 0 h 222 m -108 0 l -5 -5 m 0 10 l 5 -5 m 108 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="623"/>
<text x="81" y="639">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="623"/>
<text x="139" y="639">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="623"/>
<text x="189" y="639">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="623"/>
<text x="227" y="639">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="623"/>
<text x="265" y="639">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="623"/>
<text x="303" y="639">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="623"/>
<text x="341" y="639">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="623"/>
<text x="379" y="639">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="403" y="623"/>
<text x="433" y="639">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="473" y="623"/>
<text x="487" y="639">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="511" y="623"/>
<text x="545" y="639">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="589" y="623"/>
<text x="603" y="639">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="627" y="602"/>
<path d=" M 627 634 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="635" y="623"/>
<text x="649" y="639">
(</text>
</g>
<g class="optional">
<path d=" M 673 634 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 697 634 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="709" y="623"/>
<text x="735" y="639">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="807" y="623"/>
<text x="821" y="639">
)</text>
</g>
<path d=" M 663 634 h 10"/>
<path d=" M 797 634 h 10"/>
</g>
</g>
<path d=" M 103 634 h 10"/>
<path d=" M 165 634 h 10"/>
<path d=" M 203 634 h 10"/>
<path d=" M 241 634 h 10"/>
<path d=" M 279 634 h 10"/>
<path d=" M 317 634 h 10"/>
<path d=" M 355 634 h 10"/>
<path d=" M 393 634 h 10"/>
<path d=" M 463 634 h 10"/>
<path d=" M 501 634 h 10"/>
<path d=" M 579 634 h 10"/>
<path d=" M 617 634 h 10"/>
</g>
<path d=" M 47 676 v 20 a 12 12 0 0 0 12 12 m 708 0 h 298 m -146 0 l -5 -5 m 0 10 l 5 -5 m 146 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="697"/>
<text x="81" y="713">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="697"/>
<text x="139" y="713">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="697"/>
<text x="189" y="713">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="697"/>
<text x="227" y="713">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="697"/>
<text x="265" y="713">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="697"/>
<text x="303" y="713">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="327" y="697"/>
<text x="357" y="713">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="697"/>
<text x="411" y="713">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="435" y="697"/>
<text x="469" y="713">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="513" y="697"/>
<text x="527" y="713">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="551" y="676"/>
<path d=" M 551 708 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="559" y="697"/>
<text x="573" y="713">
(</text>
</g>
<g class="optional">
<path d=" M 597 708 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 621 708 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="633" y="697"/>
<text x="659" y="713">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="731" y="697"/>
<text x="745" y="713">
)</text>
</g>
<path d=" M 587 708 h 10"/>
<path d=" M 721 708 h 10"/>
</g>
</g>
<path d=" M 103 708 h 10"/>
<path d=" M 165 708 h 10"/>
<path d=" M 203 708 h 10"/>
<path d=" M 241 708 h 10"/>
<path d=" M 279 708 h 10"/>
<path d=" M 317 708 h 10"/>
<path d=" M 387 708 h 10"/>
<path d=" M 425 708 h 10"/>
<path d=" M 503 708 h 10"/>
<path d=" M 541 708 h 10"/>
</g>
<path d=" M 47 750 v 20 a 12 12 0 0 0 12 12 m 952 0 h 54 m -24 0 l -5 -5 m 0 10 l 5 -5 m 24 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="771"/>
<text x="85" y="787">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="771"/>
<text x="135" y="787">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="771"/>
<text x="173" y="787">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="771"/>
<text x="211" y="787">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="235" y="763"/>
<path d=" M 235 782 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="243" y="771"/>
<text x="257" y="787">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="281" y="771"/>
<text x="295" y="787">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="319" y="771"/>
<text x="333" y="787">
)</text>
</g>
<path d=" M 271 782 h 10"/>
<path d=" M 309 782 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="771"/>
<text x="379" y="787">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="771"/>
<text x="417" y="787">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="441" y="771"/>
<text x="455" y="787">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="771"/>
<text x="493" y="787">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="517" y="771"/>
<text x="539" y="787">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="571" y="771"/>
<text x="601" y="787">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="641" y="771"/>
<text x="655" y="787">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="679" y="771"/>
<text x="713" y="787">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="757" y="771"/>
<text x="771" y="787">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="795" y="750"/>
<path d=" M 795 782 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="803" y="771"/>
<text x="817" y="787">
(</text>
</g>
<g class="optional">
<path d=" M 841 782 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 865 782 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="877" y="771"/>
<text x="903" y="787">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="975" y="771"/>
<text x="989" y="787">
)</text>
</g>
<path d=" M 831 782 h 10"/>
<path d=" M 965 782 h 10"/>
</g>
</g>
<path d=" M 111 782 h 10"/>
<path d=" M 149 782 h 10"/>
<path d=" M 187 782 h 10"/>
<path d=" M 225 782 h 10"/>
<path d=" M 355 782 h 10"/>
<path d=" M 393 782 h 10"/>
<path d=" M 431 782 h 10"/>
<path d=" M 469 782 h 10"/>
<path d=" M 507 782 h 10"/>
<path d=" M 561 782 h 10"/>
<path d=" M 631 782 h 10"/>
<path d=" M 669 782 h 10"/>
<path d=" M 747 782 h 10"/>
<path d=" M 785 782 h 10"/>
</g>
<path d=" M 47 824 v 20 a 12 12 0 0 0 12 12 m 936 0 h 70 m -32 0 l -5 -5 m 0 10 l 5 -5 m 32 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="845"/>
<text x="85" y="861">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="845"/>
<text x="135" y="861">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="845"/>
<text x="173" y="861">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="845"/>
<text x="211" y="861">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="845"/>
<text x="249" y="861">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="845"/>
<text x="287" y="861">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="311" y="845"/>
<text x="325" y="861">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="845"/>
<text x="363" y="861">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="387" y="845"/>
<text x="401" y="861">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="845"/>
<text x="439" y="861">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="845"/>
<text x="477" y="861">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="501" y="845"/>
<text x="523" y="861">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="555" y="845"/>
<text x="585" y="861">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="845"/>
<text x="639" y="861">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="663" y="845"/>
<text x="697" y="861">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="741" y="845"/>
<text x="755" y="861">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="779" y="824"/>
<path d=" M 779 856 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="787" y="845"/>
<text x="801" y="861">
(</text>
</g>
<g class="optional">
<path d=" M 825 856 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 849 856 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="861" y="845"/>
<text x="887" y="861">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="959" y="845"/>
<text x="973" y="861">
)</text>
</g>
<path d=" M 815 856 h 10"/>
<path d=" M 949 856 h 10"/>
</g>
</g>
<path d=" M 111 856 h 10"/>
<path d=" M 149 856 h 10"/>
<path d=" M 187 856 h 10"/>
<path d=" M 225 856 h 10"/>
<path d=" M 263 856 h 10"/>
<path d=" M 301 856 h 10"/>
<path d=" M 339 856 h 10"/>
<path d=" M 377 856 h 10"/>
<path d=" M 415 856 h 10"/>
<path d=" M 453 856 h 10"/>
<path d=" M 491 856 h 10"/>
<path d=" M 545 856 h 10"/>
<path d=" M 615 856 h 10"/>
<path d=" M 653 856 h 10"/>
<path d=" M 731 856 h 10"/>
<path d=" M 769 856 h 10"/>
</g>
<path d=" M 47 898 v 20 a 12 12 0 0 0 12 12 m 860 0 h 146 m -70 0 l -5 -5 m 0 10 l 5 -5 m 70 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="919"/>
<text x="85" y="935">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="919"/>
<text x="135" y="935">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="919"/>
<text x="173" y="935">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="919"/>
<text x="211" y="935">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="919"/>
<text x="249" y="935">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="919"/>
<text x="287" y="935">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="311" y="919"/>
<text x="325" y="935">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="919"/>
<text x="363" y="935">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="387" y="919"/>
<text x="401" y="935">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="425" y="919"/>
<text x="447" y="935">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="479" y="919"/>
<text x="509" y="935">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="549" y="919"/>
<text x="563" y="935">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="587" y="919"/>
<text x="621" y="935">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="665" y="919"/>
<text x="679" y="935">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="703" y="898"/>
<path d=" M 703 930 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="711" y="919"/>
<text x="725" y="935">
(</text>
</g>
<g class="optional">
<path d=" M 749 930 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 773 930 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="785" y="919"/>
<text x="811" y="935">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="883" y="919"/>
<text x="897" y="935">
)</text>
</g>
<path d=" M 739 930 h 10"/>
<path d=" M 873 930 h 10"/>
</g>
</g>
<path d=" M 111 930 h 10"/>
<path d=" M 149 930 h 10"/>
<path d=" M 187 930 h 10"/>
<path d=" M 225 930 h 10"/>
<path d=" M 263 930 h 10"/>
<path d=" M 301 930 h 10"/>
<path d=" M 339 930 h 10"/>
<path d=" M 377 930 h 10"/>
<path d=" M 415 930 h 10"/>
<path d=" M 469 930 h 10"/>
<path d=" M 539 930 h 10"/>
<path d=" M 577 930 h 10"/>
<path d=" M 655 930 h 10"/>
<path d=" M 693 930 h 10"/>
</g>
<path d=" M 47 972 v 20 a 12 12 0 0 0 12 12 m 784 0 h 222 m -108 0 l -5 -5 m 0 10 l 5 -5 m 108 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="993"/>
<text x="85" y="1009">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="993"/>
<text x="135" y="1009">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="993"/>
<text x="173" y="1009">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="993"/>
<text x="211" y="1009">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="993"/>
<text x="249" y="1009">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="993"/>
<text x="287" y="1009">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="311" y="993"/>
<text x="325" y="1009">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="349" y="993"/>
<text x="371" y="1009">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="403" y="993"/>
<text x="433" y="1009">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="473" y="993"/>
<text x="487" y="1009">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="511" y="993"/>
<text x="545" y="1009">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="589" y="993"/>
<text x="603" y="1009">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="627" y="972"/>
<path d=" M 627 1004 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="635" y="993"/>
<text x="649" y="1009">
(</text>
</g>
<g class="optional">
<path d=" M 673 1004 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 697 1004 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="709" y="993"/>
<text x="735" y="1009">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="807" y="993"/>
<text x="821" y="1009">
)</text>
</g>
<path d=" M 663 1004 h 10"/>
<path d=" M 797 1004 h 10"/>
</g>
</g>
<path d=" M 111 1004 h 10"/>
<path d=" M 149 1004 h 10"/>
<path d=" M 187 1004 h 10"/>
<path d=" M 225 1004 h 10"/>
<path d=" M 263 1004 h 10"/>
<path d=" M 301 1004 h 10"/>
<path d=" M 339 1004 h 10"/>
<path d=" M 393 1004 h 10"/>
<path d=" M 463 1004 h 10"/>
<path d=" M 501 1004 h 10"/>
<path d=" M 579 1004 h 10"/>
<path d=" M 617 1004 h 10"/>
</g>
<path d=" M 47 1046 v 20 a 12 12 0 0 0 12 12 m 708 0 h 298 m -146 0 l -5 -5 m 0 10 l 5 -5 m 146 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="1067"/>
<text x="85" y="1083">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="1067"/>
<text x="135" y="1083">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="1067"/>
<text x="173" y="1083">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="1067"/>
<text x="211" y="1083">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="1067"/>
<text x="249" y="1083">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="273" y="1067"/>
<text x="295" y="1083">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="327" y="1067"/>
<text x="357" y="1083">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="1067"/>
<text x="411" y="1083">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="435" y="1067"/>
<text x="469" y="1083">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="513" y="1067"/>
<text x="527" y="1083">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="551" y="1046"/>
<path d=" M 551 1078 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="559" y="1067"/>
<text x="573" y="1083">
(</text>
</g>
<g class="optional">
<path d=" M 597 1078 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 621 1078 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="633" y="1067"/>
<text x="659" y="1083">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="731" y="1067"/>
<text x="745" y="1083">
)</text>
</g>
<path d=" M 587 1078 h 10"/>
<path d=" M 721 1078 h 10"/>
</g>
</g>
<path d=" M 111 1078 h 10"/>
<path d=" M 149 1078 h 10"/>
<path d=" M 187 1078 h 10"/>
<path d=" M 225 1078 h 10"/>
<path d=" M 263 1078 h 10"/>
<path d=" M 317 1078 h 10"/>
<path d=" M 387 1078 h 10"/>
<path d=" M 425 1078 h 10"/>
<path d=" M 503 1078 h 10"/>
<path d=" M 541 1078 h 10"/>
</g>
<path d=" M 47 1120 v 20 a 12 12 0 0 0 12 12 m 1006 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1141"/>
<text x="81" y="1157">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="1141"/>
<text x="139" y="1157">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1141"/>
<text x="189" y="1157">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="1141"/>
<text x="227" y="1157">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="1141"/>
<text x="265" y="1157">
></text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="289" y="1133"/>
<path d=" M 289 1152 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="1141"/>
<text x="311" y="1157">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="335" y="1141"/>
<text x="349" y="1157">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="373" y="1141"/>
<text x="387" y="1157">
)</text>
</g>
<path d=" M 325 1152 h 10"/>
<path d=" M 363 1152 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="1141"/>
<text x="433" y="1157">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="457" y="1141"/>
<text x="471" y="1157">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="495" y="1141"/>
<text x="509" y="1157">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="533" y="1141"/>
<text x="547" y="1157">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="571" y="1141"/>
<text x="593" y="1157">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="625" y="1141"/>
<text x="655" y="1157">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="1141"/>
<text x="709" y="1157">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="733" y="1141"/>
<text x="767" y="1157">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="811" y="1141"/>
<text x="825" y="1157">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="849" y="1120"/>
<path d=" M 849 1152 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="857" y="1141"/>
<text x="871" y="1157">
(</text>
</g>
<g class="optional">
<path d=" M 895 1152 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 919 1152 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="931" y="1141"/>
<text x="957" y="1157">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1029" y="1141"/>
<text x="1043" y="1157">
)</text>
</g>
<path d=" M 885 1152 h 10"/>
<path d=" M 1019 1152 h 10"/>
</g>
</g>
<path d=" M 103 1152 h 10"/>
<path d=" M 165 1152 h 10"/>
<path d=" M 203 1152 h 10"/>
<path d=" M 241 1152 h 10"/>
<path d=" M 279 1152 h 10"/>
<path d=" M 409 1152 h 10"/>
<path d=" M 447 1152 h 10"/>
<path d=" M 485 1152 h 10"/>
<path d=" M 523 1152 h 10"/>
<path d=" M 561 1152 h 10"/>
<path d=" M 615 1152 h 10"/>
<path d=" M 685 1152 h 10"/>
<path d=" M 723 1152 h 10"/>
<path d=" M 801 1152 h 10"/>
<path d=" M 839 1152 h 10"/>
</g>
<path d=" M 47 1194 v 20 a 12 12 0 0 0 12 12 m 990 0 h 16 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1215"/>
<text x="81" y="1231">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="1215"/>
<text x="139" y="1231">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1215"/>
<text x="189" y="1231">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="1215"/>
<text x="227" y="1231">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="1215"/>
<text x="265" y="1231">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="1215"/>
<text x="303" y="1231">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="1215"/>
<text x="341" y="1231">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="365" y="1215"/>
<text x="379" y="1231">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="1215"/>
<text x="417" y="1231">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="441" y="1215"/>
<text x="455" y="1231">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="1215"/>
<text x="493" y="1231">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="517" y="1215"/>
<text x="531" y="1231">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="555" y="1215"/>
<text x="577" y="1231">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="609" y="1215"/>
<text x="639" y="1231">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="1215"/>
<text x="693" y="1231">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="717" y="1215"/>
<text x="751" y="1231">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="1215"/>
<text x="809" y="1231">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="833" y="1194"/>
<path d=" M 833 1226 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="841" y="1215"/>
<text x="855" y="1231">
(</text>
</g>
<g class="optional">
<path d=" M 879 1226 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 903 1226 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="915" y="1215"/>
<text x="941" y="1231">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1013" y="1215"/>
<text x="1027" y="1231">
)</text>
</g>
<path d=" M 869 1226 h 10"/>
<path d=" M 1003 1226 h 10"/>
</g>
</g>
<path d=" M 103 1226 h 10"/>
<path d=" M 165 1226 h 10"/>
<path d=" M 203 1226 h 10"/>
<path d=" M 241 1226 h 10"/>
<path d=" M 279 1226 h 10"/>
<path d=" M 317 1226 h 10"/>
<path d=" M 355 1226 h 10"/>
<path d=" M 393 1226 h 10"/>
<path d=" M 431 1226 h 10"/>
<path d=" M 469 1226 h 10"/>
<path d=" M 507 1226 h 10"/>
<path d=" M 545 1226 h 10"/>
<path d=" M 599 1226 h 10"/>
<path d=" M 669 1226 h 10"/>
<path d=" M 707 1226 h 10"/>
<path d=" M 785 1226 h 10"/>
<path d=" M 823 1226 h 10"/>
</g>
<path d=" M 47 1268 v 20 a 12 12 0 0 0 12 12 m 914 0 h 92 m -43 0 l -5 -5 m 0 10 l 5 -5 m 43 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1289"/>
<text x="81" y="1305">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="1289"/>
<text x="139" y="1305">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1289"/>
<text x="189" y="1305">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="1289"/>
<text x="227" y="1305">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="1289"/>
<text x="265" y="1305">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="1289"/>
<text x="303" y="1305">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="1289"/>
<text x="341" y="1305">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="365" y="1289"/>
<text x="379" y="1305">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="1289"/>
<text x="417" y="1305">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="441" y="1289"/>
<text x="455" y="1305">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="479" y="1289"/>
<text x="501" y="1305">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="533" y="1289"/>
<text x="563" y="1305">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="603" y="1289"/>
<text x="617" y="1305">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="641" y="1289"/>
<text x="675" y="1305">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="719" y="1289"/>
<text x="733" y="1305">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="757" y="1268"/>
<path d=" M 757 1300 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="765" y="1289"/>
<text x="779" y="1305">
(</text>
</g>
<g class="optional">
<path d=" M 803 1300 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 827 1300 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="839" y="1289"/>
<text x="865" y="1305">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="937" y="1289"/>
<text x="951" y="1305">
)</text>
</g>
<path d=" M 793 1300 h 10"/>
<path d=" M 927 1300 h 10"/>
</g>
</g>
<path d=" M 103 1300 h 10"/>
<path d=" M 165 1300 h 10"/>
<path d=" M 203 1300 h 10"/>
<path d=" M 241 1300 h 10"/>
<path d=" M 279 1300 h 10"/>
<path d=" M 317 1300 h 10"/>
<path d=" M 355 1300 h 10"/>
<path d=" M 393 1300 h 10"/>
<path d=" M 431 1300 h 10"/>
<path d=" M 469 1300 h 10"/>
<path d=" M 523 1300 h 10"/>
<path d=" M 593 1300 h 10"/>
<path d=" M 631 1300 h 10"/>
<path d=" M 709 1300 h 10"/>
<path d=" M 747 1300 h 10"/>
</g>
<path d=" M 47 1342 v 20 a 12 12 0 0 0 12 12 m 838 0 h 168 m -81 0 l -5 -5 m 0 10 l 5 -5 m 81 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1363"/>
<text x="81" y="1379">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="1363"/>
<text x="139" y="1379">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1363"/>
<text x="189" y="1379">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="1363"/>
<text x="227" y="1379">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="1363"/>
<text x="265" y="1379">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="1363"/>
<text x="303" y="1379">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="1363"/>
<text x="341" y="1379">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="1363"/>
<text x="379" y="1379">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="403" y="1363"/>
<text x="425" y="1379">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="457" y="1363"/>
<text x="487" y="1379">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="527" y="1363"/>
<text x="541" y="1379">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="565" y="1363"/>
<text x="599" y="1379">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="643" y="1363"/>
<text x="657" y="1379">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="681" y="1342"/>
<path d=" M 681 1374 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="689" y="1363"/>
<text x="703" y="1379">
(</text>
</g>
<g class="optional">
<path d=" M 727 1374 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 751 1374 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="763" y="1363"/>
<text x="789" y="1379">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="861" y="1363"/>
<text x="875" y="1379">
)</text>
</g>
<path d=" M 717 1374 h 10"/>
<path d=" M 851 1374 h 10"/>
</g>
</g>
<path d=" M 103 1374 h 10"/>
<path d=" M 165 1374 h 10"/>
<path d=" M 203 1374 h 10"/>
<path d=" M 241 1374 h 10"/>
<path d=" M 279 1374 h 10"/>
<path d=" M 317 1374 h 10"/>
<path d=" M 355 1374 h 10"/>
<path d=" M 393 1374 h 10"/>
<path d=" M 447 1374 h 10"/>
<path d=" M 517 1374 h 10"/>
<path d=" M 555 1374 h 10"/>
<path d=" M 633 1374 h 10"/>
<path d=" M 671 1374 h 10"/>
</g>
<path d=" M 47 1416 v 20 a 12 12 0 0 0 12 12 m 762 0 h 244 m -119 0 l -5 -5 m 0 10 l 5 -5 m 119 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="1437"/>
<text x="81" y="1453">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="1437"/>
<text x="139" y="1453">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="1437"/>
<text x="189" y="1453">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="1437"/>
<text x="227" y="1453">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="1437"/>
<text x="265" y="1453">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="1437"/>
<text x="303" y="1453">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="327" y="1437"/>
<text x="349" y="1453">
mut</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="381" y="1437"/>
<text x="411" y="1453">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="451" y="1437"/>
<text x="465" y="1453">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="489" y="1437"/>
<text x="523" y="1453">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="567" y="1437"/>
<text x="581" y="1453">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="605" y="1416"/>
<path d=" M 605 1448 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="613" y="1437"/>
<text x="627" y="1453">
(</text>
</g>
<g class="optional">
<path d=" M 651 1448 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 675 1448 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="687" y="1437"/>
<text x="713" y="1453">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="785" y="1437"/>
<text x="799" y="1453">
)</text>
</g>
<path d=" M 641 1448 h 10"/>
<path d=" M 775 1448 h 10"/>
</g>
</g>
<path d=" M 103 1448 h 10"/>
<path d=" M 165 1448 h 10"/>
<path d=" M 203 1448 h 10"/>
<path d=" M 241 1448 h 10"/>
<path d=" M 279 1448 h 10"/>
<path d=" M 317 1448 h 10"/>
<path d=" M 371 1448 h 10"/>
<path d=" M 441 1448 h 10"/>
<path d=" M 479 1448 h 10"/>
<path d=" M 557 1448 h 10"/>
<path d=" M 595 1448 h 10"/>
</g>
</g>
<path d=" M 1099 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1089 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="350" x="10" y="1492"/>
<g class="verticalgrid">
<text class="comment" x="164" y="1513">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="1530"/>
<text x="42" y="1546">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="80" y="1530"/>
<text x="110" y="1546">
self_</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="152" y="1530"/>
<text x="186" y="1546">
submac</text>
</g>
<text class="comment" x="293" y="1545">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="1564"/>
<text x="30" y="1580">
a</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="1564"/>
<text x="70" y="1580">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="1564"/>
<text x="110" y="1580">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="136" y="1564"/>
<text x="150" y="1580">
o</text>
</g>
<text class="comment" x="216" y="1579">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="1598"/>
<text x="42" y="1614">
args</text>
</g>
<text class="comment" x="141" y="1613">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1300; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1300 314" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="sequence">
<g class="optional">
<path d=" M 35 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="31"/>
<text x="81" y="47">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="137" y="31"/>
<text x="163" y="47">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="199" y="31"/>
<text x="213" y="47">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="237" y="31"/>
<text x="251" y="47">
a</text>
</g>
<g class="choice">
<path d=" M 275 42 h 24 m 492 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="31"/>
<text x="313" y="47">
,</text>
</g>
<g class="choice">
<path d=" M 337 42 h 24 m 406 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="361" y="31"/>
<text x="375" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="31"/>
<text x="413" y="47">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="437" y="31"/>
<text x="451" y="47">
o</text>
</g>
<g class="sequence">
<g class="optional">
<path d=" M 475 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 66 m -30 0 l -5 -5 m 0 10 l 5 -5 m 30 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="499" y="31"/>
<text x="513" y="47">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="537" y="31"/>
<text x="551" y="47">
e</text>
</g>
<path d=" M 527 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="599" y="31"/>
<text x="613" y="47">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="637" y="31"/>
<text x="651" y="47">
,</text>
</g>
<g class="optional">
<path d=" M 675 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="699" y="31"/>
<text x="721" y="47">
mut</text>
</g>
</g>
<path d=" M 589 42 h 10"/>
<path d=" M 627 42 h 10"/>
<path d=" M 665 42 h 10"/>
</g>
<path d=" M 389 42 h 10"/>
<path d=" M 427 42 h 10"/>
<path d=" M 465 42 h 10"/>
</g>
<path d=" M 337 42 a 12 12 0 0 1 12 12 v 9 m 430 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 349 63 v 12 a 12 12 0 0 0 12 12 m 206 0 h 200 m -97 0 l -5 -5 m 0 10 l 5 -5 m 97 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="361" y="76"/>
<text x="375" y="92">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="76"/>
<text x="413" y="92">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="437" y="76"/>
<text x="451" y="92">
,</text>
</g>
<g class="optional">
<path d=" M 475 87 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="499" y="76"/>
<text x="521" y="92">
mut</text>
</g>
</g>
<path d=" M 389 87 h 10"/>
<path d=" M 427 87 h 10"/>
<path d=" M 465 87 h 10"/>
</g>
</g>
<path d=" M 327 42 h 10"/>
</g>
<path d=" M 275 42 a 12 12 0 0 1 12 12 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 516 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 287 108 v 19 a 12 12 0 0 0 12 12 m 460 0 h 32 a 12 12 0 0 0 12 -12 v -19"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="128"/>
<text x="313" y="144">
></text>
</g>
<g class="sequence">
<g class="optional">
<path d=" M 337 139 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 234 m -114 0 l -5 -5 m 0 10 l 5 -5 m 114 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="labeledbox">
<rect height="38" width="120" x="361" y="120"/>
<path d=" M 361 139 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="369" y="128"/>
<text x="383" y="144">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="407" y="128"/>
<text x="421" y="144">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="445" y="128"/>
<text x="459" y="144">
)</text>
</g>
<path d=" M 397 139 h 10"/>
<path d=" M 435 139 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="491" y="128"/>
<text x="505" y="144">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="529" y="128"/>
<text x="543" y="144">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="567" y="128"/>
<text x="581" y="144">
o</text>
</g>
<path d=" M 481 139 h 10"/>
<path d=" M 519 139 h 10"/>
<path d=" M 557 139 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="128"/>
<text x="643" y="144">
,</text>
</g>
<g class="optional">
<path d=" M 667 139 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="691" y="128"/>
<text x="713" y="144">
mut</text>
</g>
</g>
<path d=" M 619 139 h 10"/>
<path d=" M 657 139 h 10"/>
</g>
<path d=" M 327 139 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 189 42 h 10"/>
<path d=" M 227 42 h 10"/>
<path d=" M 265 42 h 10"/>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="825" y="31"/>
<text x="855" y="47">
self_</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="895" y="31"/>
<text x="909" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="933" y="31"/>
<text x="967" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1011" y="31"/>
<text x="1025" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1049" y="10"/>
<path d=" M 1049 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1057" y="31"/>
<text x="1071" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 1095 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1119 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1131" y="31"/>
<text x="1157" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1229" y="31"/>
<text x="1243" y="47">
)</text>
</g>
<path d=" M 1085 42 h 10"/>
<path d=" M 1219 42 h 10"/>
</g>
</g>
<path d=" M 815 42 h 10"/>
<path d=" M 885 42 h 10"/>
<path d=" M 923 42 h 10"/>
<path d=" M 1001 42 h 10"/>
<path d=" M 1039 42 h 10"/>
</g>
<path d=" M 1275 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1265 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="350" x="10" y="170"/>
<g class="verticalgrid">
<text class="comment" x="164" y="191">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="208"/>
<text x="42" y="224">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="60" x="80" y="208"/>
<text x="110" y="224">
self_</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="152" y="208"/>
<text x="186" y="224">
submac</text>
</g>
<text class="comment" x="293" y="223">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="242"/>
<text x="30" y="258">
a</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="242"/>
<text x="70" y="258">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="242"/>
<text x="110" y="258">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="136" y="242"/>
<text x="150" y="258">
o</text>
</g>
<text class="comment" x="216" y="257">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="276"/>
<text x="42" y="292">
args</text>
</g>
<text class="comment" x="141" y="291">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="named"><a href="#named"><h3>Macro <i>`named`</i></h3></a><pre class="rust">macro_rules! named {
    (#$($args:tt)*) =&gt; { ... };
    ($name:ident( $i:ty ) -&gt; $o:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$i:ty,$o:ty,$e:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$i:ty,$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident&lt;$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($name:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident( $i:ty ) -&gt; $o:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$i:ty,$o:ty,$e:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$i:ty,$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident&lt;$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    (pub $name:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 870; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 870 954" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 34 h 24 m 162 0 h 614 m -304 0 l -5 -5 m 0 10 l 5 -5 m 304 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="23"/>
<text x="73" y="39">
#</text>
</g>
<g class="optional">
<path d=" M 97 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="133" y="23"/>
<text x="159" y="39">
args</text>
</g>
</g>
</g>
<path d=" M 87 34 h 10"/>
</g>
<path d=" M 35 34 a 12 12 0 0 1 12 12 v 22 m 776 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 88 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 162 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 236 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 310 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 384 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 458 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 532 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 606 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 680 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 776 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 68 v 20 a 12 12 0 0 0 12 12 m 676 0 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="89"/>
<text x="85" y="105">
name</text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="121" y="81"/>
<path d=" M 121 100 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="89"/>
<text x="143" y="105">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="167" y="89"/>
<text x="181" y="105">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="89"/>
<text x="219" y="105">
)</text>
</g>
<path d=" M 157 100 h 10"/>
<path d=" M 195 100 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="89"/>
<text x="265" y="105">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="89"/>
<text x="303" y="105">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="327" y="89"/>
<text x="341" y="105">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="89"/>
<text x="379" y="105">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="403" y="89"/>
<text x="437" y="105">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="481" y="89"/>
<text x="495" y="105">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="519" y="68"/>
<path d=" M 519 100 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="527" y="89"/>
<text x="541" y="105">
(</text>
</g>
<g class="optional">
<path d=" M 565 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 589 100 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="601" y="89"/>
<text x="627" y="105">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="699" y="89"/>
<text x="713" y="105">
)</text>
</g>
<path d=" M 555 100 h 10"/>
<path d=" M 689 100 h 10"/>
</g>
</g>
<path d=" M 111 100 h 10"/>
<path d=" M 241 100 h 10"/>
<path d=" M 279 100 h 10"/>
<path d=" M 317 100 h 10"/>
<path d=" M 355 100 h 10"/>
<path d=" M 393 100 h 10"/>
<path d=" M 471 100 h 10"/>
<path d=" M 509 100 h 10"/>
</g>
<path d=" M 47 142 v 20 a 12 12 0 0 0 12 12 m 698 0 h 54 m -24 0 l -5 -5 m 0 10 l 5 -5 m 24 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="163"/>
<text x="85" y="179">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="163"/>
<text x="135" y="179">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="163"/>
<text x="173" y="179">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="163"/>
<text x="211" y="179">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="163"/>
<text x="249" y="179">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="163"/>
<text x="287" y="179">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="311" y="163"/>
<text x="325" y="179">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="349" y="163"/>
<text x="363" y="179">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="387" y="163"/>
<text x="401" y="179">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="425" y="163"/>
<text x="459" y="179">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="503" y="163"/>
<text x="517" y="179">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="541" y="142"/>
<path d=" M 541 174 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="549" y="163"/>
<text x="563" y="179">
(</text>
</g>
<g class="optional">
<path d=" M 587 174 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 611 174 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="623" y="163"/>
<text x="649" y="179">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="721" y="163"/>
<text x="735" y="179">
)</text>
</g>
<path d=" M 577 174 h 10"/>
<path d=" M 711 174 h 10"/>
</g>
</g>
<path d=" M 111 174 h 10"/>
<path d=" M 149 174 h 10"/>
<path d=" M 187 174 h 10"/>
<path d=" M 225 174 h 10"/>
<path d=" M 263 174 h 10"/>
<path d=" M 301 174 h 10"/>
<path d=" M 339 174 h 10"/>
<path d=" M 377 174 h 10"/>
<path d=" M 415 174 h 10"/>
<path d=" M 493 174 h 10"/>
<path d=" M 531 174 h 10"/>
</g>
<path d=" M 47 216 v 20 a 12 12 0 0 0 12 12 m 622 0 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="237"/>
<text x="85" y="253">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="237"/>
<text x="135" y="253">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="237"/>
<text x="173" y="253">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="237"/>
<text x="211" y="253">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="235" y="237"/>
<text x="249" y="253">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="237"/>
<text x="287" y="253">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="311" y="237"/>
<text x="325" y="253">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="349" y="237"/>
<text x="383" y="253">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="427" y="237"/>
<text x="441" y="253">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="465" y="216"/>
<path d=" M 465 248 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="473" y="237"/>
<text x="487" y="253">
(</text>
</g>
<g class="optional">
<path d=" M 511 248 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 535 248 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="547" y="237"/>
<text x="573" y="253">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="645" y="237"/>
<text x="659" y="253">
)</text>
</g>
<path d=" M 501 248 h 10"/>
<path d=" M 635 248 h 10"/>
</g>
</g>
<path d=" M 111 248 h 10"/>
<path d=" M 149 248 h 10"/>
<path d=" M 187 248 h 10"/>
<path d=" M 225 248 h 10"/>
<path d=" M 263 248 h 10"/>
<path d=" M 301 248 h 10"/>
<path d=" M 339 248 h 10"/>
<path d=" M 417 248 h 10"/>
<path d=" M 455 248 h 10"/>
</g>
<path d=" M 47 290 v 20 a 12 12 0 0 0 12 12 m 546 0 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="311"/>
<text x="85" y="327">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="311"/>
<text x="135" y="327">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="159" y="311"/>
<text x="173" y="327">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="311"/>
<text x="211" y="327">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="311"/>
<text x="249" y="327">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="273" y="311"/>
<text x="307" y="327">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="311"/>
<text x="365" y="327">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="389" y="290"/>
<path d=" M 389 322 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="311"/>
<text x="411" y="327">
(</text>
</g>
<g class="optional">
<path d=" M 435 322 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 459 322 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="471" y="311"/>
<text x="497" y="327">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="311"/>
<text x="583" y="327">
)</text>
</g>
<path d=" M 425 322 h 10"/>
<path d=" M 559 322 h 10"/>
</g>
</g>
<path d=" M 111 322 h 10"/>
<path d=" M 149 322 h 10"/>
<path d=" M 187 322 h 10"/>
<path d=" M 225 322 h 10"/>
<path d=" M 263 322 h 10"/>
<path d=" M 341 322 h 10"/>
<path d=" M 379 322 h 10"/>
</g>
<path d=" M 47 364 v 20 a 12 12 0 0 0 12 12 m 432 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="59" y="385"/>
<text x="85" y="401">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="385"/>
<text x="135" y="401">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="385"/>
<text x="193" y="401">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="385"/>
<text x="251" y="401">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="364"/>
<path d=" M 275 396 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="385"/>
<text x="297" y="401">
(</text>
</g>
<g class="optional">
<path d=" M 321 396 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 396 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="385"/>
<text x="383" y="401">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="385"/>
<text x="469" y="401">
)</text>
</g>
<path d=" M 311 396 h 10"/>
<path d=" M 445 396 h 10"/>
</g>
</g>
<path d=" M 111 396 h 10"/>
<path d=" M 149 396 h 10"/>
<path d=" M 227 396 h 10"/>
<path d=" M 265 396 h 10"/>
</g>
<path d=" M 47 438 v 20 a 12 12 0 0 0 12 12 m 730 0 h 22 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="459"/>
<text x="81" y="475">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="459"/>
<text x="139" y="475">
name</text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="175" y="451"/>
<path d=" M 175 470 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="183" y="459"/>
<text x="197" y="475">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="221" y="459"/>
<text x="235" y="475">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="459"/>
<text x="273" y="475">
)</text>
</g>
<path d=" M 211 470 h 10"/>
<path d=" M 249 470 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="459"/>
<text x="319" y="475">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="343" y="459"/>
<text x="357" y="475">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="381" y="459"/>
<text x="395" y="475">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="419" y="459"/>
<text x="433" y="475">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="457" y="459"/>
<text x="491" y="475">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="535" y="459"/>
<text x="549" y="475">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="573" y="438"/>
<path d=" M 573 470 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="581" y="459"/>
<text x="595" y="475">
(</text>
</g>
<g class="optional">
<path d=" M 619 470 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 643 470 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="655" y="459"/>
<text x="681" y="475">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="753" y="459"/>
<text x="767" y="475">
)</text>
</g>
<path d=" M 609 470 h 10"/>
<path d=" M 743 470 h 10"/>
</g>
</g>
<path d=" M 103 470 h 10"/>
<path d=" M 165 470 h 10"/>
<path d=" M 295 470 h 10"/>
<path d=" M 333 470 h 10"/>
<path d=" M 371 470 h 10"/>
<path d=" M 409 470 h 10"/>
<path d=" M 447 470 h 10"/>
<path d=" M 525 470 h 10"/>
<path d=" M 563 470 h 10"/>
</g>
<path d=" M 47 512 v 20 a 12 12 0 0 0 12 12 m 752 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="533"/>
<text x="81" y="549">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="533"/>
<text x="139" y="549">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="533"/>
<text x="189" y="549">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="533"/>
<text x="227" y="549">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="533"/>
<text x="265" y="549">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="533"/>
<text x="303" y="549">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="533"/>
<text x="341" y="549">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="365" y="533"/>
<text x="379" y="549">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="403" y="533"/>
<text x="417" y="549">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="441" y="533"/>
<text x="455" y="549">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="479" y="533"/>
<text x="513" y="549">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="557" y="533"/>
<text x="571" y="549">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="595" y="512"/>
<path d=" M 595 544 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="603" y="533"/>
<text x="617" y="549">
(</text>
</g>
<g class="optional">
<path d=" M 641 544 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 665 544 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="677" y="533"/>
<text x="703" y="549">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="775" y="533"/>
<text x="789" y="549">
)</text>
</g>
<path d=" M 631 544 h 10"/>
<path d=" M 765 544 h 10"/>
</g>
</g>
<path d=" M 103 544 h 10"/>
<path d=" M 165 544 h 10"/>
<path d=" M 203 544 h 10"/>
<path d=" M 241 544 h 10"/>
<path d=" M 279 544 h 10"/>
<path d=" M 317 544 h 10"/>
<path d=" M 355 544 h 10"/>
<path d=" M 393 544 h 10"/>
<path d=" M 431 544 h 10"/>
<path d=" M 469 544 h 10"/>
<path d=" M 547 544 h 10"/>
<path d=" M 585 544 h 10"/>
</g>
<path d=" M 47 586 v 20 a 12 12 0 0 0 12 12 m 676 0 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="607"/>
<text x="81" y="623">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="607"/>
<text x="139" y="623">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="607"/>
<text x="189" y="623">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="607"/>
<text x="227" y="623">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="607"/>
<text x="265" y="623">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="289" y="607"/>
<text x="303" y="623">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="327" y="607"/>
<text x="341" y="623">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="607"/>
<text x="379" y="623">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="403" y="607"/>
<text x="437" y="623">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="481" y="607"/>
<text x="495" y="623">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="519" y="586"/>
<path d=" M 519 618 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="527" y="607"/>
<text x="541" y="623">
(</text>
</g>
<g class="optional">
<path d=" M 565 618 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 589 618 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="601" y="607"/>
<text x="627" y="623">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="699" y="607"/>
<text x="713" y="623">
)</text>
</g>
<path d=" M 555 618 h 10"/>
<path d=" M 689 618 h 10"/>
</g>
</g>
<path d=" M 103 618 h 10"/>
<path d=" M 165 618 h 10"/>
<path d=" M 203 618 h 10"/>
<path d=" M 241 618 h 10"/>
<path d=" M 279 618 h 10"/>
<path d=" M 317 618 h 10"/>
<path d=" M 355 618 h 10"/>
<path d=" M 393 618 h 10"/>
<path d=" M 471 618 h 10"/>
<path d=" M 509 618 h 10"/>
</g>
<path d=" M 47 660 v 20 a 12 12 0 0 0 12 12 m 600 0 h 152 m -73 0 l -5 -5 m 0 10 l 5 -5 m 73 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="681"/>
<text x="81" y="697">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="681"/>
<text x="139" y="697">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="681"/>
<text x="189" y="697">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="213" y="681"/>
<text x="227" y="697">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="251" y="681"/>
<text x="265" y="697">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="681"/>
<text x="303" y="697">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="327" y="681"/>
<text x="361" y="697">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="405" y="681"/>
<text x="419" y="697">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="443" y="660"/>
<path d=" M 443 692 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="451" y="681"/>
<text x="465" y="697">
(</text>
</g>
<g class="optional">
<path d=" M 489 692 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 513 692 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="525" y="681"/>
<text x="551" y="697">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="623" y="681"/>
<text x="637" y="697">
)</text>
</g>
<path d=" M 479 692 h 10"/>
<path d=" M 613 692 h 10"/>
</g>
</g>
<path d=" M 103 692 h 10"/>
<path d=" M 165 692 h 10"/>
<path d=" M 203 692 h 10"/>
<path d=" M 241 692 h 10"/>
<path d=" M 279 692 h 10"/>
<path d=" M 317 692 h 10"/>
<path d=" M 395 692 h 10"/>
<path d=" M 433 692 h 10"/>
</g>
<path d=" M 47 734 v 20 a 12 12 0 0 0 12 12 m 486 0 h 266 m -130 0 l -5 -5 m 0 10 l 5 -5 m 130 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="755"/>
<text x="81" y="771">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="113" y="755"/>
<text x="139" y="771">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="755"/>
<text x="189" y="771">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="755"/>
<text x="247" y="771">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="755"/>
<text x="305" y="771">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="734"/>
<path d=" M 329 766 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="755"/>
<text x="351" y="771">
(</text>
</g>
<g class="optional">
<path d=" M 375 766 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 766 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="755"/>
<text x="437" y="771">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="755"/>
<text x="523" y="771">
)</text>
</g>
<path d=" M 365 766 h 10"/>
<path d=" M 499 766 h 10"/>
</g>
</g>
<path d=" M 103 766 h 10"/>
<path d=" M 165 766 h 10"/>
<path d=" M 203 766 h 10"/>
<path d=" M 281 766 h 10"/>
<path d=" M 319 766 h 10"/>
</g>
</g>
<path d=" M 845 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 835 34 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="810"/>
<g class="verticalgrid">
<text class="comment" x="164" y="831">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="848"/>
<text x="42" y="864">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="848"/>
<text x="114" y="864">
submac</text>
</g>
<text class="comment" x="221" y="863">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="882"/>
<text x="30" y="898">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="882"/>
<text x="70" y="898">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="882"/>
<text x="110" y="898">
o</text>
</g>
<text class="comment" x="176" y="897">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="916"/>
<text x="42" y="932">
args</text>
</g>
<text class="comment" x="141" y="931">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1014; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1014 372" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 34 h 24 m 162 0 h 758 m -376 0 l -5 -5 m 0 10 l 5 -5 m 376 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="59" y="23"/>
<text x="73" y="39">
#</text>
</g>
<g class="optional">
<path d=" M 97 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 121 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="133" y="23"/>
<text x="159" y="39">
args</text>
</g>
</g>
</g>
<path d=" M 87 34 h 10"/>
</g>
<path d=" M 35 34 a 12 12 0 0 1 12 12 v 22 m 920 0 v -22 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 68 v 20 a 12 12 0 0 0 12 12 m 896 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="choice">
<path d=" M 59 100 h 24 m 468 0 h 24"/>
<g class="sequence">
<g class="choice">
<path d=" M 83 100 h 24 m 354 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"/>
<g class="sequence">
<g class="sequence">
<g class="optional">
<path d=" M 107 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="131" y="89"/>
<text x="153" y="105">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="209" y="89"/>
<text x="235" y="105">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="89"/>
<text x="285" y="105">
<</text>
</g>
<g class="optional">
<path d=" M 309 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 66 m -30 0 l -5 -5 m 0 10 l 5 -5 m 30 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="333" y="89"/>
<text x="347" y="105">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="371" y="89"/>
<text x="385" y="105">
,</text>
</g>
<path d=" M 361 100 h 10"/>
</g>
</g>
<path d=" M 199 100 h 10"/>
<path d=" M 261 100 h 10"/>
<path d=" M 299 100 h 10"/>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="433" y="89"/>
<text x="447" y="105">
o</text>
</g>
<path d=" M 423 100 h 10"/>
</g>
<path d=" M 83 100 a 12 12 0 0 1 12 12 v 9 m 406 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 95 121 v 12 a 12 12 0 0 0 12 12 m 382 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="optional">
<path d=" M 107 145 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="131" y="134"/>
<text x="153" y="150">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="209" y="134"/>
<text x="235" y="150">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="271" y="134"/>
<text x="285" y="150">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="309" y="134"/>
<text x="323" y="150">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="347" y="134"/>
<text x="361" y="150">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="385" y="134"/>
<text x="399" y="150">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="134"/>
<text x="437" y="150">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="461" y="134"/>
<text x="475" y="150">
e</text>
</g>
<path d=" M 199 145 h 10"/>
<path d=" M 261 145 h 10"/>
<path d=" M 299 145 h 10"/>
<path d=" M 337 145 h 10"/>
<path d=" M 375 145 h 10"/>
<path d=" M 413 145 h 10"/>
<path d=" M 451 145 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="89"/>
<text x="537" y="105">
></text>
</g>
<path d=" M 513 100 h 10"/>
</g>
<path d=" M 59 100 a 12 12 0 0 1 12 12 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 492 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 71 166 v 19 a 12 12 0 0 0 12 12 m 446 0 h 22 a 12 12 0 0 0 12 -12 v -19"/>
<g class="sequence">
<g class="optional">
<path d=" M 83 197 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="107" y="186"/>
<text x="129" y="202">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="185" y="186"/>
<text x="211" y="202">
name</text>
</g>
<g class="optional">
<path d=" M 247 197 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 234 m -114 0 l -5 -5 m 0 10 l 5 -5 m 114 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="labeledbox">
<rect height="38" width="120" x="271" y="178"/>
<path d=" M 271 197 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="279" y="186"/>
<text x="293" y="202">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="317" y="186"/>
<text x="331" y="202">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="355" y="186"/>
<text x="369" y="202">
)</text>
</g>
<path d=" M 307 197 h 10"/>
<path d=" M 345 197 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="401" y="186"/>
<text x="415" y="202">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="186"/>
<text x="453" y="202">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="477" y="186"/>
<text x="491" y="202">
o</text>
</g>
<path d=" M 391 197 h 10"/>
<path d=" M 429 197 h 10"/>
<path d=" M 467 197 h 10"/>
</g>
</g>
<path d=" M 175 197 h 10"/>
<path d=" M 237 197 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="585" y="89"/>
<text x="599" y="105">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="623" y="89"/>
<text x="657" y="105">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="701" y="89"/>
<text x="715" y="105">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="739" y="68"/>
<path d=" M 739 100 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="747" y="89"/>
<text x="761" y="105">
(</text>
</g>
<g class="optional">
<path d=" M 785 100 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 809 100 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="821" y="89"/>
<text x="847" y="105">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="919" y="89"/>
<text x="933" y="105">
)</text>
</g>
<path d=" M 775 100 h 10"/>
<path d=" M 909 100 h 10"/>
</g>
</g>
<path d=" M 575 100 h 10"/>
<path d=" M 613 100 h 10"/>
<path d=" M 691 100 h 10"/>
<path d=" M 729 100 h 10"/>
</g>
</g>
<path d=" M 989 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 979 34 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="228"/>
<g class="verticalgrid">
<text class="comment" x="164" y="249">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="266"/>
<text x="42" y="282">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="266"/>
<text x="114" y="282">
submac</text>
</g>
<text class="comment" x="221" y="281">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="300"/>
<text x="30" y="316">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="300"/>
<text x="70" y="316">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="300"/>
<text x="110" y="316">
o</text>
</g>
<text class="comment" x="176" y="315">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="334"/>
<text x="42" y="350">
args</text>
</g>
<text class="comment" x="141" y="349">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="named&#x5F;args"><a href="#named&#x5F;args"><h3>Macro <i>`named_args`</i></h3></a><pre class="rust">macro_rules! named_args {
    (pub $func_name:ident ( $( $arg:ident : $typ:ty ),* ) &lt; $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    (pub $func_name:ident &lt; &#x27;a &gt; ( $( $arg:ident : $typ:ty ),* ) &lt; $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    ($func_name:ident ( $( $arg:ident : $typ:ty ),* ) &lt; $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    ($func_name:ident &lt; &#x27;a &gt; ( $( $arg:ident : $typ:ty ),* ) &lt; $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    (pub $func_name:ident ( $( $arg:ident : $typ:ty ),* ) &lt; $input_type:ty, $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    ($func_name:ident ( $( $arg:ident : $typ:ty ),* ) &lt; $input_type:ty, $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    (pub $func_name:ident &lt; &#x27;a &gt; ( $( $arg:ident : $typ:ty ),* ) &lt; $input_type:ty, $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
    ($func_name:ident &lt; &#x27;a &gt; ( $( $arg:ident : $typ:ty ),* ) &lt; $input_type:ty, $return_type:ty &gt; , $submac:ident!( $($args:tt)* ) ) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1448; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1448 900" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 1030 0 h 324 m -159 0 l -5 -5 m 0 10 l 5 -5 m 159 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="31"/>
<text x="81" y="47">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="113" y="31"/>
<text x="159" y="47">
func_name</text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="215" y="10"/>
<path d=" M 215 42 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="223" y="31"/>
<text x="237" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 261 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 285 42 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="405" y="63"/>
<text x="419" y="79">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="297" y="31"/>
<text x="319" y="47">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="31"/>
<text x="365" y="47">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="389" y="31"/>
<text x="411" y="47">
typ</text>
</g>
<path d=" M 341 42 h 10"/>
<path d=" M 379 42 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="31"/>
<text x="493" y="47">
)</text>
</g>
<path d=" M 251 42 h 10"/>
<path d=" M 469 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="31"/>
<text x="539" y="47">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="563" y="31"/>
<text x="617" y="47">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="681" y="31"/>
<text x="695" y="47">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="719" y="31"/>
<text x="733" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="757" y="31"/>
<text x="791" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="835" y="31"/>
<text x="849" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="873" y="10"/>
<path d=" M 873 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="881" y="31"/>
<text x="895" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 919 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 943 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="955" y="31"/>
<text x="981" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1053" y="31"/>
<text x="1067" y="47">
)</text>
</g>
<path d=" M 909 42 h 10"/>
<path d=" M 1043 42 h 10"/>
</g>
</g>
<path d=" M 103 42 h 10"/>
<path d=" M 205 42 h 10"/>
<path d=" M 515 42 h 10"/>
<path d=" M 553 42 h 10"/>
<path d=" M 671 42 h 10"/>
<path d=" M 709 42 h 10"/>
<path d=" M 747 42 h 10"/>
<path d=" M 825 42 h 10"/>
<path d=" M 863 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 49 m 1354 0 v -49 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 123 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 216 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 309 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 402 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 495 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 588 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1354 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39"/>
<path d=" M 47 103 v 20 a 12 12 0 0 0 12 12 m 1182 0 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="124"/>
<text x="81" y="140">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="113" y="124"/>
<text x="159" y="140">
func_name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="215" y="124"/>
<text x="229" y="140">
<</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="253" y="124"/>
<text x="267" y="140">
'</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="124"/>
<text x="305" y="140">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="329" y="124"/>
<text x="343" y="140">
></text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="367" y="103"/>
<path d=" M 367 135 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="375" y="124"/>
<text x="389" y="140">
(</text>
</g>
<g class="optional">
<path d=" M 413 135 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 437 135 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="557" y="156"/>
<text x="571" y="172">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="449" y="124"/>
<text x="471" y="140">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="503" y="124"/>
<text x="517" y="140">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="541" y="124"/>
<text x="563" y="140">
typ</text>
</g>
<path d=" M 493 135 h 10"/>
<path d=" M 531 135 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="631" y="124"/>
<text x="645" y="140">
)</text>
</g>
<path d=" M 403 135 h 10"/>
<path d=" M 621 135 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="677" y="124"/>
<text x="691" y="140">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="715" y="124"/>
<text x="769" y="140">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="833" y="124"/>
<text x="847" y="140">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="871" y="124"/>
<text x="885" y="140">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="909" y="124"/>
<text x="943" y="140">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="987" y="124"/>
<text x="1001" y="140">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1025" y="103"/>
<path d=" M 1025 135 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1033" y="124"/>
<text x="1047" y="140">
(</text>
</g>
<g class="optional">
<path d=" M 1071 135 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1095 135 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1107" y="124"/>
<text x="1133" y="140">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1205" y="124"/>
<text x="1219" y="140">
)</text>
</g>
<path d=" M 1061 135 h 10"/>
<path d=" M 1195 135 h 10"/>
</g>
</g>
<path d=" M 103 135 h 10"/>
<path d=" M 205 135 h 10"/>
<path d=" M 243 135 h 10"/>
<path d=" M 281 135 h 10"/>
<path d=" M 319 135 h 10"/>
<path d=" M 357 135 h 10"/>
<path d=" M 667 135 h 10"/>
<path d=" M 705 135 h 10"/>
<path d=" M 823 135 h 10"/>
<path d=" M 861 135 h 10"/>
<path d=" M 899 135 h 10"/>
<path d=" M 977 135 h 10"/>
<path d=" M 1015 135 h 10"/>
</g>
<path d=" M 47 196 v 20 a 12 12 0 0 0 12 12 m 976 0 h 354 m -174 0 l -5 -5 m 0 10 l 5 -5 m 174 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="59" y="217"/>
<text x="105" y="233">
func_name</text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="161" y="196"/>
<path d=" M 161 228 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="217"/>
<text x="183" y="233">
(</text>
</g>
<g class="optional">
<path d=" M 207 228 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 231 228 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="249"/>
<text x="365" y="265">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="243" y="217"/>
<text x="265" y="233">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="217"/>
<text x="311" y="233">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="335" y="217"/>
<text x="357" y="233">
typ</text>
</g>
<path d=" M 287 228 h 10"/>
<path d=" M 325 228 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="217"/>
<text x="439" y="233">
)</text>
</g>
<path d=" M 197 228 h 10"/>
<path d=" M 415 228 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="471" y="217"/>
<text x="485" y="233">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="509" y="217"/>
<text x="563" y="233">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="627" y="217"/>
<text x="641" y="233">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="665" y="217"/>
<text x="679" y="233">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="703" y="217"/>
<text x="737" y="233">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="781" y="217"/>
<text x="795" y="233">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="819" y="196"/>
<path d=" M 819 228 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="217"/>
<text x="841" y="233">
(</text>
</g>
<g class="optional">
<path d=" M 865 228 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 889 228 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="901" y="217"/>
<text x="927" y="233">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="999" y="217"/>
<text x="1013" y="233">
)</text>
</g>
<path d=" M 855 228 h 10"/>
<path d=" M 989 228 h 10"/>
</g>
</g>
<path d=" M 151 228 h 10"/>
<path d=" M 461 228 h 10"/>
<path d=" M 499 228 h 10"/>
<path d=" M 617 228 h 10"/>
<path d=" M 655 228 h 10"/>
<path d=" M 693 228 h 10"/>
<path d=" M 771 228 h 10"/>
<path d=" M 809 228 h 10"/>
</g>
<path d=" M 47 289 v 20 a 12 12 0 0 0 12 12 m 1128 0 h 202 m -98 0 l -5 -5 m 0 10 l 5 -5 m 98 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="59" y="310"/>
<text x="105" y="326">
func_name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="310"/>
<text x="175" y="326">
<</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="199" y="310"/>
<text x="213" y="326">
'</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="310"/>
<text x="251" y="326">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="275" y="310"/>
<text x="289" y="326">
></text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="313" y="289"/>
<path d=" M 313 321 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="321" y="310"/>
<text x="335" y="326">
(</text>
</g>
<g class="optional">
<path d=" M 359 321 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 383 321 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="503" y="342"/>
<text x="517" y="358">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="395" y="310"/>
<text x="417" y="326">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="449" y="310"/>
<text x="463" y="326">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="487" y="310"/>
<text x="509" y="326">
typ</text>
</g>
<path d=" M 439 321 h 10"/>
<path d=" M 477 321 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="310"/>
<text x="591" y="326">
)</text>
</g>
<path d=" M 349 321 h 10"/>
<path d=" M 567 321 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="623" y="310"/>
<text x="637" y="326">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="661" y="310"/>
<text x="715" y="326">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="779" y="310"/>
<text x="793" y="326">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="817" y="310"/>
<text x="831" y="326">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="855" y="310"/>
<text x="889" y="326">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="933" y="310"/>
<text x="947" y="326">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="971" y="289"/>
<path d=" M 971 321 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="979" y="310"/>
<text x="993" y="326">
(</text>
</g>
<g class="optional">
<path d=" M 1017 321 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1041 321 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1053" y="310"/>
<text x="1079" y="326">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1151" y="310"/>
<text x="1165" y="326">
)</text>
</g>
<path d=" M 1007 321 h 10"/>
<path d=" M 1141 321 h 10"/>
</g>
</g>
<path d=" M 151 321 h 10"/>
<path d=" M 189 321 h 10"/>
<path d=" M 227 321 h 10"/>
<path d=" M 265 321 h 10"/>
<path d=" M 303 321 h 10"/>
<path d=" M 613 321 h 10"/>
<path d=" M 651 321 h 10"/>
<path d=" M 769 321 h 10"/>
<path d=" M 807 321 h 10"/>
<path d=" M 845 321 h 10"/>
<path d=" M 923 321 h 10"/>
<path d=" M 961 321 h 10"/>
</g>
<path d=" M 47 382 v 20 a 12 12 0 0 0 12 12 m 1178 0 h 152 m -73 0 l -5 -5 m 0 10 l 5 -5 m 73 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="403"/>
<text x="81" y="419">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="113" y="403"/>
<text x="159" y="419">
func_name</text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="215" y="382"/>
<path d=" M 215 414 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="223" y="403"/>
<text x="237" y="419">
(</text>
</g>
<g class="optional">
<path d=" M 261 414 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 285 414 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="405" y="435"/>
<text x="419" y="451">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="297" y="403"/>
<text x="319" y="419">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="403"/>
<text x="365" y="419">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="389" y="403"/>
<text x="411" y="419">
typ</text>
</g>
<path d=" M 341 414 h 10"/>
<path d=" M 379 414 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="479" y="403"/>
<text x="493" y="419">
)</text>
</g>
<path d=" M 251 414 h 10"/>
<path d=" M 469 414 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="403"/>
<text x="539" y="419">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="563" y="403"/>
<text x="613" y="419">
input_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="673" y="403"/>
<text x="687" y="419">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="711" y="403"/>
<text x="765" y="419">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="829" y="403"/>
<text x="843" y="419">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="867" y="403"/>
<text x="881" y="419">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="905" y="403"/>
<text x="939" y="419">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="983" y="403"/>
<text x="997" y="419">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1021" y="382"/>
<path d=" M 1021 414 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1029" y="403"/>
<text x="1043" y="419">
(</text>
</g>
<g class="optional">
<path d=" M 1067 414 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1091 414 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1103" y="403"/>
<text x="1129" y="419">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1201" y="403"/>
<text x="1215" y="419">
)</text>
</g>
<path d=" M 1057 414 h 10"/>
<path d=" M 1191 414 h 10"/>
</g>
</g>
<path d=" M 103 414 h 10"/>
<path d=" M 205 414 h 10"/>
<path d=" M 515 414 h 10"/>
<path d=" M 553 414 h 10"/>
<path d=" M 663 414 h 10"/>
<path d=" M 701 414 h 10"/>
<path d=" M 819 414 h 10"/>
<path d=" M 857 414 h 10"/>
<path d=" M 895 414 h 10"/>
<path d=" M 973 414 h 10"/>
<path d=" M 1011 414 h 10"/>
</g>
<path d=" M 47 475 v 20 a 12 12 0 0 0 12 12 m 1124 0 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="59" y="496"/>
<text x="105" y="512">
func_name</text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="161" y="475"/>
<path d=" M 161 507 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="169" y="496"/>
<text x="183" y="512">
(</text>
</g>
<g class="optional">
<path d=" M 207 507 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 231 507 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="528"/>
<text x="365" y="544">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="243" y="496"/>
<text x="265" y="512">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="297" y="496"/>
<text x="311" y="512">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="335" y="496"/>
<text x="357" y="512">
typ</text>
</g>
<path d=" M 287 507 h 10"/>
<path d=" M 325 507 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="425" y="496"/>
<text x="439" y="512">
)</text>
</g>
<path d=" M 197 507 h 10"/>
<path d=" M 415 507 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="471" y="496"/>
<text x="485" y="512">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="509" y="496"/>
<text x="559" y="512">
input_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="619" y="496"/>
<text x="633" y="512">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="657" y="496"/>
<text x="711" y="512">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="775" y="496"/>
<text x="789" y="512">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="813" y="496"/>
<text x="827" y="512">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="851" y="496"/>
<text x="885" y="512">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="929" y="496"/>
<text x="943" y="512">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="967" y="475"/>
<path d=" M 967 507 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="975" y="496"/>
<text x="989" y="512">
(</text>
</g>
<g class="optional">
<path d=" M 1013 507 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1037 507 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1049" y="496"/>
<text x="1075" y="512">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1147" y="496"/>
<text x="1161" y="512">
)</text>
</g>
<path d=" M 1003 507 h 10"/>
<path d=" M 1137 507 h 10"/>
</g>
</g>
<path d=" M 151 507 h 10"/>
<path d=" M 461 507 h 10"/>
<path d=" M 499 507 h 10"/>
<path d=" M 609 507 h 10"/>
<path d=" M 647 507 h 10"/>
<path d=" M 765 507 h 10"/>
<path d=" M 803 507 h 10"/>
<path d=" M 841 507 h 10"/>
<path d=" M 919 507 h 10"/>
<path d=" M 957 507 h 10"/>
</g>
<path d=" M 47 568 v 20 a 12 12 0 0 0 12 12 m 1330 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="589"/>
<text x="81" y="605">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="113" y="589"/>
<text x="159" y="605">
func_name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="215" y="589"/>
<text x="229" y="605">
<</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="253" y="589"/>
<text x="267" y="605">
'</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="589"/>
<text x="305" y="605">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="329" y="589"/>
<text x="343" y="605">
></text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="367" y="568"/>
<path d=" M 367 600 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="375" y="589"/>
<text x="389" y="605">
(</text>
</g>
<g class="optional">
<path d=" M 413 600 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 437 600 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="557" y="621"/>
<text x="571" y="637">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="449" y="589"/>
<text x="471" y="605">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="503" y="589"/>
<text x="517" y="605">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="541" y="589"/>
<text x="563" y="605">
typ</text>
</g>
<path d=" M 493 600 h 10"/>
<path d=" M 531 600 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="631" y="589"/>
<text x="645" y="605">
)</text>
</g>
<path d=" M 403 600 h 10"/>
<path d=" M 621 600 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="677" y="589"/>
<text x="691" y="605">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="715" y="589"/>
<text x="765" y="605">
input_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="825" y="589"/>
<text x="839" y="605">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="863" y="589"/>
<text x="917" y="605">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="981" y="589"/>
<text x="995" y="605">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1019" y="589"/>
<text x="1033" y="605">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="1057" y="589"/>
<text x="1091" y="605">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1135" y="589"/>
<text x="1149" y="605">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1173" y="568"/>
<path d=" M 1173 600 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1181" y="589"/>
<text x="1195" y="605">
(</text>
</g>
<g class="optional">
<path d=" M 1219 600 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1243 600 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1255" y="589"/>
<text x="1281" y="605">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1353" y="589"/>
<text x="1367" y="605">
)</text>
</g>
<path d=" M 1209 600 h 10"/>
<path d=" M 1343 600 h 10"/>
</g>
</g>
<path d=" M 103 600 h 10"/>
<path d=" M 205 600 h 10"/>
<path d=" M 243 600 h 10"/>
<path d=" M 281 600 h 10"/>
<path d=" M 319 600 h 10"/>
<path d=" M 357 600 h 10"/>
<path d=" M 667 600 h 10"/>
<path d=" M 705 600 h 10"/>
<path d=" M 815 600 h 10"/>
<path d=" M 853 600 h 10"/>
<path d=" M 971 600 h 10"/>
<path d=" M 1009 600 h 10"/>
<path d=" M 1047 600 h 10"/>
<path d=" M 1125 600 h 10"/>
<path d=" M 1163 600 h 10"/>
</g>
<path d=" M 47 661 v 20 a 12 12 0 0 0 12 12 m 1276 0 h 54 m -24 0 l -5 -5 m 0 10 l 5 -5 m 24 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="59" y="682"/>
<text x="105" y="698">
func_name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="682"/>
<text x="175" y="698">
<</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="199" y="682"/>
<text x="213" y="698">
'</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="682"/>
<text x="251" y="698">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="275" y="682"/>
<text x="289" y="698">
></text>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="313" y="661"/>
<path d=" M 313 693 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="321" y="682"/>
<text x="335" y="698">
(</text>
</g>
<g class="optional">
<path d=" M 359 693 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 383 693 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="503" y="714"/>
<text x="517" y="730">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="395" y="682"/>
<text x="417" y="698">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="449" y="682"/>
<text x="463" y="698">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="487" y="682"/>
<text x="509" y="698">
typ</text>
</g>
<path d=" M 439 693 h 10"/>
<path d=" M 477 693 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="682"/>
<text x="591" y="698">
)</text>
</g>
<path d=" M 349 693 h 10"/>
<path d=" M 567 693 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="623" y="682"/>
<text x="637" y="698">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="661" y="682"/>
<text x="711" y="698">
input_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="771" y="682"/>
<text x="785" y="698">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="809" y="682"/>
<text x="863" y="698">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="927" y="682"/>
<text x="941" y="698">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="965" y="682"/>
<text x="979" y="698">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="1003" y="682"/>
<text x="1037" y="698">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1081" y="682"/>
<text x="1095" y="698">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1119" y="661"/>
<path d=" M 1119 693 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1127" y="682"/>
<text x="1141" y="698">
(</text>
</g>
<g class="optional">
<path d=" M 1165 693 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1189 693 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1201" y="682"/>
<text x="1227" y="698">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1299" y="682"/>
<text x="1313" y="698">
)</text>
</g>
<path d=" M 1155 693 h 10"/>
<path d=" M 1289 693 h 10"/>
</g>
</g>
<path d=" M 151 693 h 10"/>
<path d=" M 189 693 h 10"/>
<path d=" M 227 693 h 10"/>
<path d=" M 265 693 h 10"/>
<path d=" M 303 693 h 10"/>
<path d=" M 613 693 h 10"/>
<path d=" M 651 693 h 10"/>
<path d=" M 761 693 h 10"/>
<path d=" M 799 693 h 10"/>
<path d=" M 917 693 h 10"/>
<path d=" M 955 693 h 10"/>
<path d=" M 993 693 h 10"/>
<path d=" M 1071 693 h 10"/>
<path d=" M 1109 693 h 10"/>
</g>
</g>
<path d=" M 1423 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1413 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="380" x="10" y="756"/>
<g class="verticalgrid">
<text class="comment" x="164" y="777">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="794"/>
<text x="38" y="810">
arg</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="72" y="794"/>
<text x="118" y="810">
func_name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="176" y="794"/>
<text x="210" y="810">
submac</text>
</g>
<text class="comment" x="317" y="809">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="16" y="828"/>
<text x="66" y="844">
input_type</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="128" y="828"/>
<text x="182" y="844">
return_type</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="248" y="828"/>
<text x="270" y="844">
typ</text>
</g>
<text class="comment" x="344" y="843">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="862"/>
<text x="42" y="878">
args</text>
</g>
<text class="comment" x="141" y="877">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1544; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1544 249" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="sequence">
<g class="optional">
<path d=" M 35 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="31"/>
<text x="81" y="47">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="137" y="31"/>
<text x="183" y="47">
func_name</text>
</g>
<g class="sequence">
<g class="optional">
<path d=" M 239 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 142 m -68 0 l -5 -5 m 0 10 l 5 -5 m 68 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="263" y="31"/>
<text x="277" y="47">
<</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="301" y="31"/>
<text x="315" y="47">
'</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="339" y="31"/>
<text x="353" y="47">
a</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="377" y="31"/>
<text x="391" y="47">
></text>
</g>
<path d=" M 291 42 h 10"/>
<path d=" M 329 42 h 10"/>
<path d=" M 367 42 h 10"/>
</g>
</g>
<g class="labeledbox">
<rect height="83" width="300" x="439" y="10"/>
<path d=" M 439 42 h 8 m 284 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="447" y="31"/>
<text x="461" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 485 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 160 m -77 0 l -5 -5 m 0 10 l 5 -5 m 77 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 509 42 h 12 m 136 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h -108 m 57 0 l 5 -5 m 0 10 l -5 -5 m -57 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="63"/>
<text x="643" y="79">
,</text>
</g>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="521" y="31"/>
<text x="543" y="47">
arg</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="575" y="31"/>
<text x="589" y="47">
:</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="613" y="31"/>
<text x="635" y="47">
typ</text>
</g>
<path d=" M 565 42 h 10"/>
<path d=" M 603 42 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="703" y="31"/>
<text x="717" y="47">
)</text>
</g>
<path d=" M 475 42 h 10"/>
<path d=" M 693 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="749" y="31"/>
<text x="763" y="47">
<</text>
</g>
<g class="optional">
<path d=" M 787 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 138 m -66 0 l -5 -5 m 0 10 l 5 -5 m 66 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="811" y="31"/>
<text x="861" y="47">
input_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="921" y="31"/>
<text x="935" y="47">
,</text>
</g>
<path d=" M 911 42 h 10"/>
</g>
</g>
<path d=" M 429 42 h 10"/>
<path d=" M 739 42 h 10"/>
<path d=" M 777 42 h 10"/>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 229 42 h 10"/>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="983" y="31"/>
<text x="1037" y="47">
return_type</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1101" y="31"/>
<text x="1115" y="47">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1139" y="31"/>
<text x="1153" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="1177" y="31"/>
<text x="1211" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1255" y="31"/>
<text x="1269" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1293" y="10"/>
<path d=" M 1293 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1301" y="31"/>
<text x="1315" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 1339 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1363 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1375" y="31"/>
<text x="1401" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1473" y="31"/>
<text x="1487" y="47">
)</text>
</g>
<path d=" M 1329 42 h 10"/>
<path d=" M 1463 42 h 10"/>
</g>
</g>
<path d=" M 973 42 h 10"/>
<path d=" M 1091 42 h 10"/>
<path d=" M 1129 42 h 10"/>
<path d=" M 1167 42 h 10"/>
<path d=" M 1245 42 h 10"/>
<path d=" M 1283 42 h 10"/>
</g>
<path d=" M 1519 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1509 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="380" x="10" y="105"/>
<g class="verticalgrid">
<text class="comment" x="164" y="126">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="143"/>
<text x="38" y="159">
arg</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="92" x="72" y="143"/>
<text x="118" y="159">
func_name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="176" y="143"/>
<text x="210" y="159">
submac</text>
</g>
<text class="comment" x="317" y="158">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="100" x="16" y="177"/>
<text x="66" y="193">
input_type</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="108" x="128" y="177"/>
<text x="182" y="193">
return_type</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="44" x="248" y="177"/>
<text x="270" y="193">
typ</text>
</g>
<text class="comment" x="344" y="192">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="211"/>
<text x="42" y="227">
args</text>
</g>
<text class="comment" x="141" y="226">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="named&#x5F;attr"><a href="#named&#x5F;attr"><h3>Macro <i>`named_attr`</i></h3></a><pre class="rust">macro_rules! named_attr {
    ($(#[$attr:meta])*, $name:ident( $i:ty ) -&gt; $o:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, $name:ident&lt;$i:ty,$o:ty,$e:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, $name:ident&lt;$i:ty,$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, $name:ident&lt;$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, $name:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, pub $name:ident( $i:ty ) -&gt; $o:ty, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, pub $name:ident&lt;$i:ty,$o:ty,$e:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, pub $name:ident&lt;$i:ty,$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, pub $name:ident&lt;$o:ty&gt;, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($(#[$attr:meta])*, pub $name:ident, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1172; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1172 930" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 978 0 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 42 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="31"/>
<text x="109" y="47">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="23"/>
<path d=" M 133 42 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="31"/>
<text x="155" y="47">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="31"/>
<text x="205" y="47">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="31"/>
<text x="255" y="47">
]</text>
</g>
<path d=" M 169 42 h 10"/>
<path d=" M 231 42 h 10"/>
</g>
</g>
<path d=" M 123 42 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="31"/>
<text x="337" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="361" y="31"/>
<text x="387" y="47">
name</text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="423" y="23"/>
<path d=" M 423 42 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="469" y="31"/>
<text x="483" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="31"/>
<text x="521" y="47">
)</text>
</g>
<path d=" M 459 42 h 10"/>
<path d=" M 497 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="553" y="31"/>
<text x="567" y="47">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="591" y="31"/>
<text x="605" y="47">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="629" y="31"/>
<text x="643" y="47">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="667" y="31"/>
<text x="681" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="705" y="31"/>
<text x="739" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="783" y="31"/>
<text x="797" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="821" y="10"/>
<path d=" M 821 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="829" y="31"/>
<text x="843" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 867 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 891 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="903" y="31"/>
<text x="929" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1001" y="31"/>
<text x="1015" y="47">
)</text>
</g>
<path d=" M 857 42 h 10"/>
<path d=" M 991 42 h 10"/>
</g>
</g>
<path d=" M 313 42 h 10"/>
<path d=" M 351 42 h 10"/>
<path d=" M 413 42 h 10"/>
<path d=" M 543 42 h 10"/>
<path d=" M 581 42 h 10"/>
<path d=" M 619 42 h 10"/>
<path d=" M 657 42 h 10"/>
<path d=" M 695 42 h 10"/>
<path d=" M 773 42 h 10"/>
<path d=" M 811 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 1078 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 326 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 400 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 474 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 548 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 622 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1078 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 1000 0 h 54 m -24 0 l -5 -5 m 0 10 l 5 -5 m 24 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 116 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="105"/>
<text x="109" y="121">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="97"/>
<path d=" M 133 116 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="105"/>
<text x="155" y="121">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="105"/>
<text x="205" y="121">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="105"/>
<text x="255" y="121">
]</text>
</g>
<path d=" M 169 116 h 10"/>
<path d=" M 231 116 h 10"/>
</g>
</g>
<path d=" M 123 116 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="105"/>
<text x="337" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="361" y="105"/>
<text x="387" y="121">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="105"/>
<text x="437" y="121">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="461" y="105"/>
<text x="475" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="499" y="105"/>
<text x="513" y="121">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="537" y="105"/>
<text x="551" y="121">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="575" y="105"/>
<text x="589" y="121">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="613" y="105"/>
<text x="627" y="121">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="651" y="105"/>
<text x="665" y="121">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="689" y="105"/>
<text x="703" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="727" y="105"/>
<text x="761" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="805" y="105"/>
<text x="819" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="843" y="84"/>
<path d=" M 843 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="105"/>
<text x="865" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 889 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 913 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="925" y="105"/>
<text x="951" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1023" y="105"/>
<text x="1037" y="121">
)</text>
</g>
<path d=" M 879 116 h 10"/>
<path d=" M 1013 116 h 10"/>
</g>
</g>
<path d=" M 313 116 h 10"/>
<path d=" M 351 116 h 10"/>
<path d=" M 413 116 h 10"/>
<path d=" M 451 116 h 10"/>
<path d=" M 489 116 h 10"/>
<path d=" M 527 116 h 10"/>
<path d=" M 565 116 h 10"/>
<path d=" M 603 116 h 10"/>
<path d=" M 641 116 h 10"/>
<path d=" M 679 116 h 10"/>
<path d=" M 717 116 h 10"/>
<path d=" M 795 116 h 10"/>
<path d=" M 833 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 924 0 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 190 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="179"/>
<text x="109" y="195">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="171"/>
<path d=" M 133 190 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="179"/>
<text x="155" y="195">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="179"/>
<text x="205" y="195">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="179"/>
<text x="255" y="195">
]</text>
</g>
<path d=" M 169 190 h 10"/>
<path d=" M 231 190 h 10"/>
</g>
</g>
<path d=" M 123 190 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="179"/>
<text x="337" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="361" y="179"/>
<text x="387" y="195">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="179"/>
<text x="437" y="195">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="461" y="179"/>
<text x="475" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="499" y="179"/>
<text x="513" y="195">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="537" y="179"/>
<text x="551" y="195">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="575" y="179"/>
<text x="589" y="195">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="613" y="179"/>
<text x="627" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="651" y="179"/>
<text x="685" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="729" y="179"/>
<text x="743" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="767" y="158"/>
<path d=" M 767 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="775" y="179"/>
<text x="789" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 813 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 837 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="849" y="179"/>
<text x="875" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="947" y="179"/>
<text x="961" y="195">
)</text>
</g>
<path d=" M 803 190 h 10"/>
<path d=" M 937 190 h 10"/>
</g>
</g>
<path d=" M 313 190 h 10"/>
<path d=" M 351 190 h 10"/>
<path d=" M 413 190 h 10"/>
<path d=" M 451 190 h 10"/>
<path d=" M 489 190 h 10"/>
<path d=" M 527 190 h 10"/>
<path d=" M 565 190 h 10"/>
<path d=" M 603 190 h 10"/>
<path d=" M 641 190 h 10"/>
<path d=" M 719 190 h 10"/>
<path d=" M 757 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 848 0 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 264 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="253"/>
<text x="109" y="269">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="245"/>
<path d=" M 133 264 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="253"/>
<text x="155" y="269">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="253"/>
<text x="205" y="269">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="253"/>
<text x="255" y="269">
]</text>
</g>
<path d=" M 169 264 h 10"/>
<path d=" M 231 264 h 10"/>
</g>
</g>
<path d=" M 123 264 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="253"/>
<text x="337" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="361" y="253"/>
<text x="387" y="269">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="253"/>
<text x="437" y="269">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="461" y="253"/>
<text x="475" y="269">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="499" y="253"/>
<text x="513" y="269">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="537" y="253"/>
<text x="551" y="269">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="575" y="253"/>
<text x="609" y="269">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="653" y="253"/>
<text x="667" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="691" y="232"/>
<path d=" M 691 264 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="699" y="253"/>
<text x="713" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 737 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 761 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="773" y="253"/>
<text x="799" y="269">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="871" y="253"/>
<text x="885" y="269">
)</text>
</g>
<path d=" M 727 264 h 10"/>
<path d=" M 861 264 h 10"/>
</g>
</g>
<path d=" M 313 264 h 10"/>
<path d=" M 351 264 h 10"/>
<path d=" M 413 264 h 10"/>
<path d=" M 451 264 h 10"/>
<path d=" M 489 264 h 10"/>
<path d=" M 527 264 h 10"/>
<path d=" M 565 264 h 10"/>
<path d=" M 643 264 h 10"/>
<path d=" M 681 264 h 10"/>
</g>
<path d=" M 47 306 v 20 a 12 12 0 0 0 12 12 m 734 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 338 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 338 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="327"/>
<text x="109" y="343">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="319"/>
<path d=" M 133 338 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="327"/>
<text x="155" y="343">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="327"/>
<text x="205" y="343">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="327"/>
<text x="255" y="343">
]</text>
</g>
<path d=" M 169 338 h 10"/>
<path d=" M 231 338 h 10"/>
</g>
</g>
<path d=" M 123 338 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="327"/>
<text x="337" y="343">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="361" y="327"/>
<text x="387" y="343">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="327"/>
<text x="437" y="343">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="461" y="327"/>
<text x="495" y="343">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="539" y="327"/>
<text x="553" y="343">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="577" y="306"/>
<path d=" M 577 338 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="585" y="327"/>
<text x="599" y="343">
(</text>
</g>
<g class="optional">
<path d=" M 623 338 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 647 338 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="659" y="327"/>
<text x="685" y="343">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="757" y="327"/>
<text x="771" y="343">
)</text>
</g>
<path d=" M 613 338 h 10"/>
<path d=" M 747 338 h 10"/>
</g>
</g>
<path d=" M 313 338 h 10"/>
<path d=" M 351 338 h 10"/>
<path d=" M 413 338 h 10"/>
<path d=" M 451 338 h 10"/>
<path d=" M 529 338 h 10"/>
<path d=" M 567 338 h 10"/>
</g>
<path d=" M 47 380 v 20 a 12 12 0 0 0 12 12 m 1032 0 h 22 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 412 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 412 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="401"/>
<text x="109" y="417">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="393"/>
<path d=" M 133 412 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="401"/>
<text x="155" y="417">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="401"/>
<text x="205" y="417">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="401"/>
<text x="255" y="417">
]</text>
</g>
<path d=" M 169 412 h 10"/>
<path d=" M 231 412 h 10"/>
</g>
</g>
<path d=" M 123 412 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="401"/>
<text x="337" y="417">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="361" y="401"/>
<text x="383" y="417">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="415" y="401"/>
<text x="441" y="417">
name</text>
</g>
<g class="labeledbox">
<rect height="38" width="120" x="477" y="393"/>
<path d=" M 477 412 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="485" y="401"/>
<text x="499" y="417">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="523" y="401"/>
<text x="537" y="417">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="561" y="401"/>
<text x="575" y="417">
)</text>
</g>
<path d=" M 513 412 h 10"/>
<path d=" M 551 412 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="607" y="401"/>
<text x="621" y="417">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="645" y="401"/>
<text x="659" y="417">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="683" y="401"/>
<text x="697" y="417">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="721" y="401"/>
<text x="735" y="417">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="759" y="401"/>
<text x="793" y="417">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="837" y="401"/>
<text x="851" y="417">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="875" y="380"/>
<path d=" M 875 412 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="883" y="401"/>
<text x="897" y="417">
(</text>
</g>
<g class="optional">
<path d=" M 921 412 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 945 412 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="957" y="401"/>
<text x="983" y="417">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1055" y="401"/>
<text x="1069" y="417">
)</text>
</g>
<path d=" M 911 412 h 10"/>
<path d=" M 1045 412 h 10"/>
</g>
</g>
<path d=" M 313 412 h 10"/>
<path d=" M 351 412 h 10"/>
<path d=" M 405 412 h 10"/>
<path d=" M 467 412 h 10"/>
<path d=" M 597 412 h 10"/>
<path d=" M 635 412 h 10"/>
<path d=" M 673 412 h 10"/>
<path d=" M 711 412 h 10"/>
<path d=" M 749 412 h 10"/>
<path d=" M 827 412 h 10"/>
<path d=" M 865 412 h 10"/>
</g>
<path d=" M 47 454 v 20 a 12 12 0 0 0 12 12 m 1054 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 486 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 486 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="475"/>
<text x="109" y="491">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="467"/>
<path d=" M 133 486 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="475"/>
<text x="155" y="491">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="475"/>
<text x="205" y="491">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="475"/>
<text x="255" y="491">
]</text>
</g>
<path d=" M 169 486 h 10"/>
<path d=" M 231 486 h 10"/>
</g>
</g>
<path d=" M 123 486 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="475"/>
<text x="337" y="491">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="361" y="475"/>
<text x="383" y="491">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="415" y="475"/>
<text x="441" y="491">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="475"/>
<text x="491" y="491">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="515" y="475"/>
<text x="529" y="491">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="553" y="475"/>
<text x="567" y="491">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="591" y="475"/>
<text x="605" y="491">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="475"/>
<text x="643" y="491">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="667" y="475"/>
<text x="681" y="491">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="705" y="475"/>
<text x="719" y="491">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="743" y="475"/>
<text x="757" y="491">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="781" y="475"/>
<text x="815" y="491">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="859" y="475"/>
<text x="873" y="491">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="897" y="454"/>
<path d=" M 897 486 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="475"/>
<text x="919" y="491">
(</text>
</g>
<g class="optional">
<path d=" M 943 486 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 967 486 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="979" y="475"/>
<text x="1005" y="491">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1077" y="475"/>
<text x="1091" y="491">
)</text>
</g>
<path d=" M 933 486 h 10"/>
<path d=" M 1067 486 h 10"/>
</g>
</g>
<path d=" M 313 486 h 10"/>
<path d=" M 351 486 h 10"/>
<path d=" M 405 486 h 10"/>
<path d=" M 467 486 h 10"/>
<path d=" M 505 486 h 10"/>
<path d=" M 543 486 h 10"/>
<path d=" M 581 486 h 10"/>
<path d=" M 619 486 h 10"/>
<path d=" M 657 486 h 10"/>
<path d=" M 695 486 h 10"/>
<path d=" M 733 486 h 10"/>
<path d=" M 771 486 h 10"/>
<path d=" M 849 486 h 10"/>
<path d=" M 887 486 h 10"/>
</g>
<path d=" M 47 528 v 20 a 12 12 0 0 0 12 12 m 978 0 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 560 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 560 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="549"/>
<text x="109" y="565">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="541"/>
<path d=" M 133 560 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="549"/>
<text x="155" y="565">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="549"/>
<text x="205" y="565">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="549"/>
<text x="255" y="565">
]</text>
</g>
<path d=" M 169 560 h 10"/>
<path d=" M 231 560 h 10"/>
</g>
</g>
<path d=" M 123 560 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="549"/>
<text x="337" y="565">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="361" y="549"/>
<text x="383" y="565">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="415" y="549"/>
<text x="441" y="565">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="549"/>
<text x="491" y="565">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="515" y="549"/>
<text x="529" y="565">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="553" y="549"/>
<text x="567" y="565">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="591" y="549"/>
<text x="605" y="565">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="629" y="549"/>
<text x="643" y="565">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="667" y="549"/>
<text x="681" y="565">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="705" y="549"/>
<text x="739" y="565">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="783" y="549"/>
<text x="797" y="565">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="821" y="528"/>
<path d=" M 821 560 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="829" y="549"/>
<text x="843" y="565">
(</text>
</g>
<g class="optional">
<path d=" M 867 560 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 891 560 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="903" y="549"/>
<text x="929" y="565">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1001" y="549"/>
<text x="1015" y="565">
)</text>
</g>
<path d=" M 857 560 h 10"/>
<path d=" M 991 560 h 10"/>
</g>
</g>
<path d=" M 313 560 h 10"/>
<path d=" M 351 560 h 10"/>
<path d=" M 405 560 h 10"/>
<path d=" M 467 560 h 10"/>
<path d=" M 505 560 h 10"/>
<path d=" M 543 560 h 10"/>
<path d=" M 581 560 h 10"/>
<path d=" M 619 560 h 10"/>
<path d=" M 657 560 h 10"/>
<path d=" M 695 560 h 10"/>
<path d=" M 773 560 h 10"/>
<path d=" M 811 560 h 10"/>
</g>
<path d=" M 47 602 v 20 a 12 12 0 0 0 12 12 m 902 0 h 152 m -73 0 l -5 -5 m 0 10 l 5 -5 m 73 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 634 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 634 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="623"/>
<text x="109" y="639">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="615"/>
<path d=" M 133 634 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="623"/>
<text x="155" y="639">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="623"/>
<text x="205" y="639">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="623"/>
<text x="255" y="639">
]</text>
</g>
<path d=" M 169 634 h 10"/>
<path d=" M 231 634 h 10"/>
</g>
</g>
<path d=" M 123 634 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="623"/>
<text x="337" y="639">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="361" y="623"/>
<text x="383" y="639">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="415" y="623"/>
<text x="441" y="639">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="623"/>
<text x="491" y="639">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="515" y="623"/>
<text x="529" y="639">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="553" y="623"/>
<text x="567" y="639">
></text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="591" y="623"/>
<text x="605" y="639">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="629" y="623"/>
<text x="663" y="639">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="707" y="623"/>
<text x="721" y="639">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="745" y="602"/>
<path d=" M 745 634 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="753" y="623"/>
<text x="767" y="639">
(</text>
</g>
<g class="optional">
<path d=" M 791 634 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 815 634 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="827" y="623"/>
<text x="853" y="639">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="925" y="623"/>
<text x="939" y="639">
)</text>
</g>
<path d=" M 781 634 h 10"/>
<path d=" M 915 634 h 10"/>
</g>
</g>
<path d=" M 313 634 h 10"/>
<path d=" M 351 634 h 10"/>
<path d=" M 405 634 h 10"/>
<path d=" M 467 634 h 10"/>
<path d=" M 505 634 h 10"/>
<path d=" M 543 634 h 10"/>
<path d=" M 581 634 h 10"/>
<path d=" M 619 634 h 10"/>
<path d=" M 697 634 h 10"/>
<path d=" M 735 634 h 10"/>
</g>
<path d=" M 47 676 v 20 a 12 12 0 0 0 12 12 m 788 0 h 266 m -130 0 l -5 -5 m 0 10 l 5 -5 m 130 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 708 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 83 708 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="95" y="697"/>
<text x="109" y="713">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="133" y="689"/>
<path d=" M 133 708 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="141" y="697"/>
<text x="155" y="713">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="179" y="697"/>
<text x="205" y="713">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="241" y="697"/>
<text x="255" y="713">
]</text>
</g>
<path d=" M 169 708 h 10"/>
<path d=" M 231 708 h 10"/>
</g>
</g>
<path d=" M 123 708 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="323" y="697"/>
<text x="337" y="713">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="361" y="697"/>
<text x="383" y="713">
pub</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="415" y="697"/>
<text x="441" y="713">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="697"/>
<text x="491" y="713">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="515" y="697"/>
<text x="549" y="713">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="593" y="697"/>
<text x="607" y="713">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="631" y="676"/>
<path d=" M 631 708 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="639" y="697"/>
<text x="653" y="713">
(</text>
</g>
<g class="optional">
<path d=" M 677 708 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 701 708 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="713" y="697"/>
<text x="739" y="713">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="811" y="697"/>
<text x="825" y="713">
)</text>
</g>
<path d=" M 667 708 h 10"/>
<path d=" M 801 708 h 10"/>
</g>
</g>
<path d=" M 313 708 h 10"/>
<path d=" M 351 708 h 10"/>
<path d=" M 405 708 h 10"/>
<path d=" M 467 708 h 10"/>
<path d=" M 505 708 h 10"/>
<path d=" M 583 708 h 10"/>
<path d=" M 621 708 h 10"/>
</g>
</g>
<path d=" M 1147 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1137 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="752"/>
<g class="verticalgrid">
<text class="comment" x="164" y="773">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="790"/>
<text x="42" y="806">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="790"/>
<text x="114" y="806">
submac</text>
</g>
<text class="comment" x="221" y="805">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="824"/>
<text x="30" y="840">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="824"/>
<text x="70" y="840">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="824"/>
<text x="110" y="840">
o</text>
</g>
<text class="comment" x="176" y="839">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="16" y="858"/>
<text x="42" y="874">
attr</text>
</g>
<text class="comment" x="137" y="873">
is a meta-item.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="892"/>
<text x="42" y="908">
args</text>
</g>
<text class="comment" x="141" y="907">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1268; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1268 348" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 206 m -100 0 l -5 -5 m 0 10 l 5 -5 m 100 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 59 42 h 12 m 182 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 5 a 12 12 0 0 1 -12 12 m 0 0 h -182 m 94 0 l 5 -5 m 0 10 l -5 -5 m -94 0 a 12 12 0 0 1 -12 -12 v -5 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="71" y="31"/>
<text x="85" y="47">
#</text>
</g>
<g class="labeledbox">
<rect height="38" width="144" x="109" y="23"/>
<path d=" M 109 42 h 8 m 128 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="117" y="31"/>
<text x="131" y="47">
[</text>
</g>
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="155" y="31"/>
<text x="181" y="47">
attr</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="217" y="31"/>
<text x="231" y="47">
]</text>
</g>
<path d=" M 145 42 h 10"/>
<path d=" M 207 42 h 10"/>
</g>
</g>
<path d=" M 99 42 h 10"/>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="299" y="31"/>
<text x="313" y="47">
,</text>
</g>
<g class="choice">
<path d=" M 337 42 h 24 m 468 0 h 24"/>
<g class="sequence">
<g class="choice">
<path d=" M 361 42 h 24 m 354 0 h 52 m -23 0 l -5 -5 m 0 10 l 5 -5 m 23 0"/>
<g class="sequence">
<g class="sequence">
<g class="optional">
<path d=" M 385 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="409" y="31"/>
<text x="431" y="47">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="487" y="31"/>
<text x="513" y="47">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="549" y="31"/>
<text x="563" y="47">
<</text>
</g>
<g class="optional">
<path d=" M 587 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 66 m -30 0 l -5 -5 m 0 10 l 5 -5 m 30 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="611" y="31"/>
<text x="625" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="31"/>
<text x="663" y="47">
,</text>
</g>
<path d=" M 639 42 h 10"/>
</g>
</g>
<path d=" M 477 42 h 10"/>
<path d=" M 539 42 h 10"/>
<path d=" M 577 42 h 10"/>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="711" y="31"/>
<text x="725" y="47">
o</text>
</g>
<path d=" M 701 42 h 10"/>
</g>
<path d=" M 361 42 a 12 12 0 0 1 12 12 v 9 m 406 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 373 63 v 12 a 12 12 0 0 0 12 12 m 382 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="optional">
<path d=" M 385 87 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="409" y="76"/>
<text x="431" y="92">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="487" y="76"/>
<text x="513" y="92">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="549" y="76"/>
<text x="563" y="92">
<</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="587" y="76"/>
<text x="601" y="92">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="76"/>
<text x="639" y="92">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="663" y="76"/>
<text x="677" y="92">
o</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="701" y="76"/>
<text x="715" y="92">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="739" y="76"/>
<text x="753" y="92">
e</text>
</g>
<path d=" M 477 87 h 10"/>
<path d=" M 539 87 h 10"/>
<path d=" M 577 87 h 10"/>
<path d=" M 615 87 h 10"/>
<path d=" M 653 87 h 10"/>
<path d=" M 691 87 h 10"/>
<path d=" M 729 87 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="801" y="31"/>
<text x="815" y="47">
></text>
</g>
<path d=" M 791 42 h 10"/>
</g>
<path d=" M 337 42 a 12 12 0 0 1 12 12 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 492 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 349 108 v 19 a 12 12 0 0 0 12 12 m 446 0 h 22 a 12 12 0 0 0 12 -12 v -19"/>
<g class="sequence">
<g class="optional">
<path d=" M 361 139 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="385" y="128"/>
<text x="407" y="144">
pub</text>
</g>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="463" y="128"/>
<text x="489" y="144">
name</text>
</g>
<g class="optional">
<path d=" M 525 139 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -7 a 12 12 0 0 1 12 -12 h 234 m -114 0 l -5 -5 m 0 10 l 5 -5 m 114 0 a 12 12 0 0 1 12 12 v 7 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="labeledbox">
<rect height="38" width="120" x="549" y="120"/>
<path d=" M 549 139 h 8 m 104 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="557" y="128"/>
<text x="571" y="144">
(</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="595" y="128"/>
<text x="609" y="144">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="633" y="128"/>
<text x="647" y="144">
)</text>
</g>
<path d=" M 585 139 h 10"/>
<path d=" M 623 139 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="128"/>
<text x="693" y="144">
-</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="717" y="128"/>
<text x="731" y="144">
></text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="755" y="128"/>
<text x="769" y="144">
o</text>
</g>
<path d=" M 669 139 h 10"/>
<path d=" M 707 139 h 10"/>
<path d=" M 745 139 h 10"/>
</g>
</g>
<path d=" M 453 139 h 10"/>
<path d=" M 515 139 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="863" y="31"/>
<text x="877" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="901" y="31"/>
<text x="935" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="979" y="31"/>
<text x="993" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="1017" y="10"/>
<path d=" M 1017 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1025" y="31"/>
<text x="1039" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 1063 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 1087 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="1099" y="31"/>
<text x="1125" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1197" y="31"/>
<text x="1211" y="47">
)</text>
</g>
<path d=" M 1053 42 h 10"/>
<path d=" M 1187 42 h 10"/>
</g>
</g>
<path d=" M 289 42 h 10"/>
<path d=" M 327 42 h 10"/>
<path d=" M 853 42 h 10"/>
<path d=" M 891 42 h 10"/>
<path d=" M 969 42 h 10"/>
<path d=" M 1007 42 h 10"/>
</g>
<path d=" M 1243 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 1233 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="170"/>
<g class="verticalgrid">
<text class="comment" x="164" y="191">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="208"/>
<text x="42" y="224">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="208"/>
<text x="114" y="224">
submac</text>
</g>
<text class="comment" x="221" y="223">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="242"/>
<text x="30" y="258">
e</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="56" y="242"/>
<text x="70" y="258">
i</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="96" y="242"/>
<text x="110" y="258">
o</text>
</g>
<text class="comment" x="176" y="257">
are types.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_meta">
<rect height="22" width="52" x="16" y="276"/>
<text x="42" y="292">
attr</text>
</g>
<text class="comment" x="137" y="291">
is a meta-item.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="310"/>
<text x="42" y="326">
args</text>
</g>
<text class="comment" x="141" y="325">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="none&#x5F;of"><a href="#none&#x5F;of"><h3>Macro <i>`none_of`</i></h3></a><pre class="rust">macro_rules! none_of {
    ($i:expr, $inp: expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
inp</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 165 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 155 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="56" y="82"/>
<text x="78" y="98">
inp</text>
</g>
<text class="comment" x="173" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="not"><a href="#not"><h3>Macro <i>`not`</i></h3></a><pre class="rust">macro_rules! not {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="one&#x5F;of"><a href="#one&#x5F;of"><h3>Macro <i>`one_of`</i></h3></a><pre class="rust">macro_rules! one_of {
    ($i:expr, $inp: expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
inp</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 165 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 155 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="56" y="82"/>
<text x="78" y="98">
inp</text>
</g>
<text class="comment" x="173" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="opt"><a href="#opt"><h3>Macro <i>`opt`</i></h3></a><pre class="rust">macro_rules! opt {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="opt&#x5F;res"><a href="#opt&#x5F;res"><h3>Macro <i>`opt_res`</i></h3></a><pre class="rust">macro_rules! opt_res {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="pair"><a href="#pair"><h3>Macro <i>`pair`</i></h3></a><pre class="rust">macro_rules! pair {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 922; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 922 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 828 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 624 m -309 0 l -5 -5 m 0 10 l 5 -5 m 309 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 897 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="305"/>
<text x="50" y="321">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="305"/>
<text x="134" y="321">
submac2</text>
</g>
<text class="comment" x="245" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 970; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 970 389" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="137"/>
<text x="169" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="137"/>
<text x="227" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="116"/>
<path d=" M 251 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="137"/>
<text x="273" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 297 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="137"/>
<text x="359" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="137"/>
<text x="445" y="153">
)</text>
</g>
<path d=" M 287 148 h 10"/>
<path d=" M 421 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="137"/>
<text x="491" y="153">
,</text>
</g>
<g class="choice">
<path d=" M 515 148 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="539" y="137"/>
<text x="553" y="153">
g</text>
</g>
<path d=" M 515 148 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 527 169 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="539" y="190"/>
<text x="577" y="206">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="190"/>
<text x="639" y="206">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="663" y="169"/>
<path d=" M 663 201 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="671" y="190"/>
<text x="685" y="206">
(</text>
</g>
<g class="optional">
<path d=" M 709 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 733 201 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="745" y="190"/>
<text x="775" y="206">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="190"/>
<text x="865" y="206">
)</text>
</g>
<path d=" M 699 201 h 10"/>
<path d=" M 841 201 h 10"/>
</g>
</g>
<path d=" M 615 201 h 10"/>
<path d=" M 653 201 h 10"/>
</g>
</g>
<path d=" M 203 148 h 10"/>
<path d=" M 241 148 h 10"/>
<path d=" M 467 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 945 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 935 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="245"/>
<g class="verticalgrid">
<text class="comment" x="164" y="266">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="283"/>
<text x="50" y="299">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="283"/>
<text x="134" y="299">
submac2</text>
</g>
<text class="comment" x="245" y="298">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="317"/>
<text x="30" y="333">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="317"/>
<text x="70" y="333">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="317"/>
<text x="110" y="333">
i</text>
</g>
<text class="comment" x="197" y="332">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="351"/>
<text x="42" y="367">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="351"/>
<text x="110" y="367">
args2</text>
</g>
<text class="comment" x="213" y="366">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="parse&#x5F;to"><a href="#parse&#x5F;to"><h3>Macro <i>`parse_to`</i></h3></a><pre class="rust">macro_rules! parse_to {
    ($i:expr, $t:ty ) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 154" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
t</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<text class="comment" x="124" y="97">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="116"/>
<text x="30" y="132">
t</text>
</g>
<text class="comment" x="96" y="131">
is a type.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="peek"><a href="#peek"><h3>Macro <i>`peek`</i></h3></a><pre class="rust">macro_rules! peek {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="permutation"><a href="#permutation"><h3>Macro <i>`permutation`</i></h3></a><pre class="rust">macro_rules! permutation {
    ($i:expr, $($rest:tt)*) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 180" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 111 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 135 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="147" y="23"/>
<text x="173" y="39">
rest</text>
</g>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
</g>
<path d=" M 245 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 235 34 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="70"/>
<g class="verticalgrid">
<text class="comment" x="164" y="91">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="108"/>
<text x="30" y="124">
i</text>
</g>
<text class="comment" x="124" y="123">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="142"/>
<text x="42" y="158">
rest</text>
</g>
<text class="comment" x="141" y="157">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="preceded"><a href="#preceded"><h3>Macro <i>`preceded`</i></h3></a><pre class="rust">macro_rules! preceded {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 922; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 922 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 828 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 624 m -309 0 l -5 -5 m 0 10 l 5 -5 m 309 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 897 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="305"/>
<text x="50" y="321">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="305"/>
<text x="134" y="321">
submac2</text>
</g>
<text class="comment" x="245" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 970; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 970 389" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="137"/>
<text x="169" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="137"/>
<text x="227" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="116"/>
<path d=" M 251 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="137"/>
<text x="273" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 297 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="137"/>
<text x="359" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="137"/>
<text x="445" y="153">
)</text>
</g>
<path d=" M 287 148 h 10"/>
<path d=" M 421 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="137"/>
<text x="491" y="153">
,</text>
</g>
<g class="choice">
<path d=" M 515 148 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="539" y="137"/>
<text x="553" y="153">
g</text>
</g>
<path d=" M 515 148 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 527 169 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="539" y="190"/>
<text x="577" y="206">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="190"/>
<text x="639" y="206">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="663" y="169"/>
<path d=" M 663 201 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="671" y="190"/>
<text x="685" y="206">
(</text>
</g>
<g class="optional">
<path d=" M 709 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 733 201 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="745" y="190"/>
<text x="775" y="206">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="190"/>
<text x="865" y="206">
)</text>
</g>
<path d=" M 699 201 h 10"/>
<path d=" M 841 201 h 10"/>
</g>
</g>
<path d=" M 615 201 h 10"/>
<path d=" M 653 201 h 10"/>
</g>
</g>
<path d=" M 203 148 h 10"/>
<path d=" M 241 148 h 10"/>
<path d=" M 467 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 945 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 935 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="245"/>
<g class="verticalgrid">
<text class="comment" x="164" y="266">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="283"/>
<text x="50" y="299">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="283"/>
<text x="134" y="299">
submac2</text>
</g>
<text class="comment" x="245" y="298">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="317"/>
<text x="30" y="333">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="317"/>
<text x="70" y="333">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="317"/>
<text x="110" y="333">
i</text>
</g>
<text class="comment" x="197" y="332">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="351"/>
<text x="42" y="367">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="351"/>
<text x="110" y="367">
args2</text>
</g>
<text class="comment" x="213" y="366">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="recognize"><a href="#recognize"><h3>Macro <i>`recognize`</i></h3></a><pre class="rust">macro_rules! recognize {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="return&#x5F;error"><a href="#return&#x5F;error"><h3>Macro <i>`return_error`</i></h3></a><pre class="rust">macro_rules! return_error {
    ($i:expr, $code:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $code:expr, $f:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 626; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 626 370" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 508 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 532 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 33 m 532 0 v -33"/>
<path d=" M 47 137 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 532 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 204 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
</g>
<path d=" M 47 117 v 20 a 12 12 0 0 0 12 12 m 408 0 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="138"/>
<text x="73" y="154">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="138"/>
<text x="111" y="154">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="138"/>
<text x="169" y="154">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="138"/>
<text x="227" y="154">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="117"/>
<path d=" M 251 149 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="138"/>
<text x="273" y="154">
(</text>
</g>
<g class="optional">
<path d=" M 297 149 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 149 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="138"/>
<text x="359" y="154">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="138"/>
<text x="445" y="154">
)</text>
</g>
<path d=" M 287 149 h 10"/>
<path d=" M 421 149 h 10"/>
</g>
</g>
<path d=" M 87 149 h 10"/>
<path d=" M 125 149 h 10"/>
<path d=" M 203 149 h 10"/>
<path d=" M 241 149 h 10"/>
</g>
<path d=" M 47 191 v 0 a 12 12 0 0 0 12 12 m 104 0 h 404 m -199 0 l -5 -5 m 0 10 l 5 -5 m 199 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="192"/>
<text x="73" y="208">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="192"/>
<text x="111" y="208">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="192"/>
<text x="149" y="208">
f</text>
</g>
<path d=" M 87 203 h 10"/>
<path d=" M 125 203 h 10"/>
</g>
</g>
<path d=" M 601 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 591 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="226"/>
<g class="verticalgrid">
<text class="comment" x="164" y="247">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="264"/>
<text x="50" y="280">
submac</text>
</g>
<text class="comment" x="160" y="279">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="298"/>
<text x="42" y="314">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="298"/>
<text x="94" y="314">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="298"/>
<text x="134" y="314">
i</text>
</g>
<text class="comment" x="221" y="313">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="332"/>
<text x="42" y="348">
args</text>
</g>
<text class="comment" x="141" y="347">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 674; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 674 369" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 480 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="135" y="10"/>
<text x="161" y="26">
code</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="10"/>
<text x="211" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 235 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="259" y="10"/>
<text x="273" y="26">
f</text>
</g>
<path d=" M 235 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 247 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="259" y="63"/>
<text x="293" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="63"/>
<text x="351" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="42"/>
<path d=" M 375 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="63"/>
<text x="397" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 421 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="63"/>
<text x="483" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="63"/>
<text x="569" y="79">
)</text>
</g>
<path d=" M 411 74 h 10"/>
<path d=" M 545 74 h 10"/>
</g>
</g>
<path d=" M 327 74 h 10"/>
<path d=" M 365 74 h 10"/>
</g>
</g>
<path d=" M 187 21 h 10"/>
<path d=" M 225 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 504 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 33 m 504 0 v -33"/>
<path d=" M 123 116 v 0 a 12 12 0 0 0 12 12 m 28 0 h 452 m -223 0 l -5 -5 m 0 10 l 5 -5 m 223 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="117"/>
<text x="149" y="133">
f</text>
</g>
<path d=" M 123 149 v 20 a 12 12 0 0 0 12 12 m 332 0 h 148 m -71 0 l -5 -5 m 0 10 l 5 -5 m 71 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="170"/>
<text x="169" y="186">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="170"/>
<text x="227" y="186">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="149"/>
<path d=" M 251 181 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="170"/>
<text x="273" y="186">
(</text>
</g>
<g class="optional">
<path d=" M 297 181 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 181 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="170"/>
<text x="359" y="186">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="170"/>
<text x="445" y="186">
)</text>
</g>
<path d=" M 287 181 h 10"/>
<path d=" M 421 181 h 10"/>
</g>
</g>
<path d=" M 203 181 h 10"/>
<path d=" M 241 181 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 649 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 639 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="225"/>
<g class="verticalgrid">
<text class="comment" x="164" y="246">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="263"/>
<text x="50" y="279">
submac</text>
</g>
<text class="comment" x="160" y="278">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="16" y="297"/>
<text x="42" y="313">
code</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="80" y="297"/>
<text x="94" y="313">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="120" y="297"/>
<text x="134" y="313">
i</text>
</g>
<text class="comment" x="221" y="312">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="331"/>
<text x="42" y="347">
args</text>
</g>
<text class="comment" x="141" y="346">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="sep"><a href="#sep"><h3>Macro <i>`sep`</i></h3></a><pre class="rust">macro_rules! sep {
    ($i:expr,  $separator:path, tuple ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, pair ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, delimited ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, separated_pair ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, preceded ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, terminated ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, do_parse ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, permutation ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, alt ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, alt_complete ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, switch ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, separated_list ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, many0 ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr,  $separator:path, many1 ! ($($rest:tt)*) ) =&gt; { ... };
    ($i:expr, $separator:path, return_error!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $separator:path, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $separator:path, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 730; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 730 1407" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 540 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="31"/>
<text x="181" y="47">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="31"/>
<text x="251" y="47">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="275" y="31"/>
<text x="305" y="47">
tuple</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="31"/>
<text x="359" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="383" y="10"/>
<path d=" M 383 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="391" y="31"/>
<text x="405" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 429 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 453 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="465" y="31"/>
<text x="491" y="47">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="563" y="31"/>
<text x="577" y="47">
)</text>
</g>
<path d=" M 419 42 h 10"/>
<path d=" M 553 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 227 42 h 10"/>
<path d=" M 265 42 h 10"/>
<path d=" M 335 42 h 10"/>
<path d=" M 373 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 636 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 252 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 326 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 400 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 474 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 548 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 622 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 696 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 770 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 844 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 918 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 992 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1066 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 1140 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 636 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 532 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="105"/>
<text x="181" y="121">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="105"/>
<text x="251" y="121">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="275" y="105"/>
<text x="301" y="121">
pair</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="105"/>
<text x="351" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="84"/>
<path d=" M 375 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="105"/>
<text x="397" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 421 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="105"/>
<text x="483" y="121">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="105"/>
<text x="569" y="121">
)</text>
</g>
<path d=" M 411 116 h 10"/>
<path d=" M 545 116 h 10"/>
</g>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 227 116 h 10"/>
<path d=" M 265 116 h 10"/>
<path d=" M 327 116 h 10"/>
<path d=" M 365 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 572 0 h 40 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="179"/>
<text x="181" y="195">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="179"/>
<text x="251" y="195">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="92" x="275" y="179"/>
<text x="321" y="195">
delimited</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="377" y="179"/>
<text x="391" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="415" y="158"/>
<path d=" M 415 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="423" y="179"/>
<text x="437" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 461 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 485 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="497" y="179"/>
<text x="523" y="195">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="595" y="179"/>
<text x="609" y="195">
)</text>
</g>
<path d=" M 451 190 h 10"/>
<path d=" M 585 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 227 190 h 10"/>
<path d=" M 265 190 h 10"/>
<path d=" M 367 190 h 10"/>
<path d=" M 405 190 h 10"/>
</g>
<path d=" M 47 232 v 20 a 12 12 0 0 0 12 12 m 612 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="253"/>
<text x="73" y="269">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="253"/>
<text x="111" y="269">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="253"/>
<text x="181" y="269">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="253"/>
<text x="251" y="269">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="132" x="275" y="253"/>
<text x="341" y="269">
separated_pair</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="417" y="253"/>
<text x="431" y="269">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="455" y="232"/>
<path d=" M 455 264 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="253"/>
<text x="477" y="269">
(</text>
</g>
<g class="optional">
<path d=" M 501 264 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 525 264 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="537" y="253"/>
<text x="563" y="269">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="635" y="253"/>
<text x="649" y="269">
)</text>
</g>
<path d=" M 491 264 h 10"/>
<path d=" M 625 264 h 10"/>
</g>
</g>
<path d=" M 87 264 h 10"/>
<path d=" M 125 264 h 10"/>
<path d=" M 227 264 h 10"/>
<path d=" M 265 264 h 10"/>
<path d=" M 407 264 h 10"/>
<path d=" M 445 264 h 10"/>
</g>
<path d=" M 47 306 v 20 a 12 12 0 0 0 12 12 m 564 0 h 48 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="327"/>
<text x="73" y="343">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="327"/>
<text x="111" y="343">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="327"/>
<text x="181" y="343">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="327"/>
<text x="251" y="343">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="275" y="327"/>
<text x="317" y="343">
preceded</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="369" y="327"/>
<text x="383" y="343">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="407" y="306"/>
<path d=" M 407 338 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="415" y="327"/>
<text x="429" y="343">
(</text>
</g>
<g class="optional">
<path d=" M 453 338 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 477 338 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="489" y="327"/>
<text x="515" y="343">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="587" y="327"/>
<text x="601" y="343">
)</text>
</g>
<path d=" M 443 338 h 10"/>
<path d=" M 577 338 h 10"/>
</g>
</g>
<path d=" M 87 338 h 10"/>
<path d=" M 125 338 h 10"/>
<path d=" M 227 338 h 10"/>
<path d=" M 265 338 h 10"/>
<path d=" M 359 338 h 10"/>
<path d=" M 397 338 h 10"/>
</g>
<path d=" M 47 380 v 20 a 12 12 0 0 0 12 12 m 580 0 h 32 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="401"/>
<text x="73" y="417">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="401"/>
<text x="111" y="417">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="401"/>
<text x="181" y="417">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="401"/>
<text x="251" y="417">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="275" y="401"/>
<text x="325" y="417">
terminated</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="385" y="401"/>
<text x="399" y="417">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="423" y="380"/>
<path d=" M 423 412 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="401"/>
<text x="445" y="417">
(</text>
</g>
<g class="optional">
<path d=" M 469 412 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 493 412 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="505" y="401"/>
<text x="531" y="417">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="603" y="401"/>
<text x="617" y="417">
)</text>
</g>
<path d=" M 459 412 h 10"/>
<path d=" M 593 412 h 10"/>
</g>
</g>
<path d=" M 87 412 h 10"/>
<path d=" M 125 412 h 10"/>
<path d=" M 227 412 h 10"/>
<path d=" M 265 412 h 10"/>
<path d=" M 375 412 h 10"/>
<path d=" M 413 412 h 10"/>
</g>
<path d=" M 47 454 v 20 a 12 12 0 0 0 12 12 m 564 0 h 48 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="475"/>
<text x="73" y="491">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="475"/>
<text x="111" y="491">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="475"/>
<text x="181" y="491">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="475"/>
<text x="251" y="491">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="275" y="475"/>
<text x="317" y="491">
do_parse</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="369" y="475"/>
<text x="383" y="491">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="407" y="454"/>
<path d=" M 407 486 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="415" y="475"/>
<text x="429" y="491">
(</text>
</g>
<g class="optional">
<path d=" M 453 486 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 477 486 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="489" y="475"/>
<text x="515" y="491">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="587" y="475"/>
<text x="601" y="491">
)</text>
</g>
<path d=" M 443 486 h 10"/>
<path d=" M 577 486 h 10"/>
</g>
</g>
<path d=" M 87 486 h 10"/>
<path d=" M 125 486 h 10"/>
<path d=" M 227 486 h 10"/>
<path d=" M 265 486 h 10"/>
<path d=" M 359 486 h 10"/>
<path d=" M 397 486 h 10"/>
</g>
<path d=" M 47 528 v 20 a 12 12 0 0 0 12 12 m 588 0 h 24 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="549"/>
<text x="73" y="565">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="549"/>
<text x="111" y="565">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="549"/>
<text x="181" y="565">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="549"/>
<text x="251" y="565">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="108" x="275" y="549"/>
<text x="329" y="565">
permutation</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="393" y="549"/>
<text x="407" y="565">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="431" y="528"/>
<path d=" M 431 560 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="439" y="549"/>
<text x="453" y="565">
(</text>
</g>
<g class="optional">
<path d=" M 477 560 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 501 560 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="513" y="549"/>
<text x="539" y="565">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="611" y="549"/>
<text x="625" y="565">
)</text>
</g>
<path d=" M 467 560 h 10"/>
<path d=" M 601 560 h 10"/>
</g>
</g>
<path d=" M 87 560 h 10"/>
<path d=" M 125 560 h 10"/>
<path d=" M 227 560 h 10"/>
<path d=" M 265 560 h 10"/>
<path d=" M 383 560 h 10"/>
<path d=" M 421 560 h 10"/>
</g>
<path d=" M 47 602 v 20 a 12 12 0 0 0 12 12 m 524 0 h 88 m -41 0 l -5 -5 m 0 10 l 5 -5 m 41 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="623"/>
<text x="73" y="639">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="623"/>
<text x="111" y="639">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="623"/>
<text x="181" y="639">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="623"/>
<text x="251" y="639">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="275" y="623"/>
<text x="297" y="639">
alt</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="329" y="623"/>
<text x="343" y="639">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="367" y="602"/>
<path d=" M 367 634 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="375" y="623"/>
<text x="389" y="639">
(</text>
</g>
<g class="optional">
<path d=" M 413 634 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 437 634 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="449" y="623"/>
<text x="475" y="639">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="547" y="623"/>
<text x="561" y="639">
)</text>
</g>
<path d=" M 403 634 h 10"/>
<path d=" M 537 634 h 10"/>
</g>
</g>
<path d=" M 87 634 h 10"/>
<path d=" M 125 634 h 10"/>
<path d=" M 227 634 h 10"/>
<path d=" M 265 634 h 10"/>
<path d=" M 319 634 h 10"/>
<path d=" M 357 634 h 10"/>
</g>
<path d=" M 47 676 v 20 a 12 12 0 0 0 12 12 m 596 0 h 16 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="697"/>
<text x="73" y="713">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="697"/>
<text x="111" y="713">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="697"/>
<text x="181" y="713">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="697"/>
<text x="251" y="713">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="116" x="275" y="697"/>
<text x="333" y="713">
alt_complete</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="401" y="697"/>
<text x="415" y="713">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="439" y="676"/>
<path d=" M 439 708 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="447" y="697"/>
<text x="461" y="713">
(</text>
</g>
<g class="optional">
<path d=" M 485 708 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 509 708 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="521" y="697"/>
<text x="547" y="713">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="619" y="697"/>
<text x="633" y="713">
)</text>
</g>
<path d=" M 475 708 h 10"/>
<path d=" M 609 708 h 10"/>
</g>
</g>
<path d=" M 87 708 h 10"/>
<path d=" M 125 708 h 10"/>
<path d=" M 227 708 h 10"/>
<path d=" M 265 708 h 10"/>
<path d=" M 391 708 h 10"/>
<path d=" M 429 708 h 10"/>
</g>
<path d=" M 47 750 v 20 a 12 12 0 0 0 12 12 m 548 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="771"/>
<text x="73" y="787">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="771"/>
<text x="111" y="787">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="771"/>
<text x="181" y="787">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="771"/>
<text x="251" y="787">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="275" y="771"/>
<text x="309" y="787">
switch</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="353" y="771"/>
<text x="367" y="787">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="391" y="750"/>
<path d=" M 391 782 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="771"/>
<text x="413" y="787">
(</text>
</g>
<g class="optional">
<path d=" M 437 782 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 461 782 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="473" y="771"/>
<text x="499" y="787">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="771"/>
<text x="585" y="787">
)</text>
</g>
<path d=" M 427 782 h 10"/>
<path d=" M 561 782 h 10"/>
</g>
</g>
<path d=" M 87 782 h 10"/>
<path d=" M 125 782 h 10"/>
<path d=" M 227 782 h 10"/>
<path d=" M 265 782 h 10"/>
<path d=" M 343 782 h 10"/>
<path d=" M 381 782 h 10"/>
</g>
<path d=" M 47 824 v 20 a 12 12 0 0 0 12 12 m 612 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="845"/>
<text x="73" y="861">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="845"/>
<text x="111" y="861">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="845"/>
<text x="181" y="861">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="845"/>
<text x="251" y="861">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="132" x="275" y="845"/>
<text x="341" y="861">
separated_list</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="417" y="845"/>
<text x="431" y="861">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="455" y="824"/>
<path d=" M 455 856 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="845"/>
<text x="477" y="861">
(</text>
</g>
<g class="optional">
<path d=" M 501 856 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 525 856 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="537" y="845"/>
<text x="563" y="861">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="635" y="845"/>
<text x="649" y="861">
)</text>
</g>
<path d=" M 491 856 h 10"/>
<path d=" M 625 856 h 10"/>
</g>
</g>
<path d=" M 87 856 h 10"/>
<path d=" M 125 856 h 10"/>
<path d=" M 227 856 h 10"/>
<path d=" M 265 856 h 10"/>
<path d=" M 407 856 h 10"/>
<path d=" M 445 856 h 10"/>
</g>
<path d=" M 47 898 v 20 a 12 12 0 0 0 12 12 m 540 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="919"/>
<text x="73" y="935">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="919"/>
<text x="111" y="935">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="919"/>
<text x="181" y="935">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="919"/>
<text x="251" y="935">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="275" y="919"/>
<text x="305" y="935">
many0</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="919"/>
<text x="359" y="935">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="383" y="898"/>
<path d=" M 383 930 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="391" y="919"/>
<text x="405" y="935">
(</text>
</g>
<g class="optional">
<path d=" M 429 930 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 453 930 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="465" y="919"/>
<text x="491" y="935">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="563" y="919"/>
<text x="577" y="935">
)</text>
</g>
<path d=" M 419 930 h 10"/>
<path d=" M 553 930 h 10"/>
</g>
</g>
<path d=" M 87 930 h 10"/>
<path d=" M 125 930 h 10"/>
<path d=" M 227 930 h 10"/>
<path d=" M 265 930 h 10"/>
<path d=" M 335 930 h 10"/>
<path d=" M 373 930 h 10"/>
</g>
<path d=" M 47 972 v 20 a 12 12 0 0 0 12 12 m 540 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="993"/>
<text x="73" y="1009">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="993"/>
<text x="111" y="1009">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="993"/>
<text x="181" y="1009">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="993"/>
<text x="251" y="1009">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="275" y="993"/>
<text x="305" y="1009">
many1</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="345" y="993"/>
<text x="359" y="1009">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="383" y="972"/>
<path d=" M 383 1004 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="391" y="993"/>
<text x="405" y="1009">
(</text>
</g>
<g class="optional">
<path d=" M 429 1004 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 453 1004 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="465" y="993"/>
<text x="491" y="1009">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="563" y="993"/>
<text x="577" y="1009">
)</text>
</g>
<path d=" M 419 1004 h 10"/>
<path d=" M 553 1004 h 10"/>
</g>
</g>
<path d=" M 87 1004 h 10"/>
<path d=" M 125 1004 h 10"/>
<path d=" M 227 1004 h 10"/>
<path d=" M 265 1004 h 10"/>
<path d=" M 335 1004 h 10"/>
<path d=" M 373 1004 h 10"/>
</g>
<path d=" M 47 1046 v 20 a 12 12 0 0 0 12 12 m 596 0 h 16 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="1067"/>
<text x="73" y="1083">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="1067"/>
<text x="111" y="1083">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="1067"/>
<text x="181" y="1083">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="1067"/>
<text x="251" y="1083">
,</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="116" x="275" y="1067"/>
<text x="333" y="1083">
return_error</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="401" y="1067"/>
<text x="415" y="1083">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="439" y="1046"/>
<path d=" M 439 1078 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="447" y="1067"/>
<text x="461" y="1083">
(</text>
</g>
<g class="optional">
<path d=" M 485 1078 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 509 1078 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="521" y="1067"/>
<text x="547" y="1083">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="619" y="1067"/>
<text x="633" y="1083">
)</text>
</g>
<path d=" M 475 1078 h 10"/>
<path d=" M 609 1078 h 10"/>
</g>
</g>
<path d=" M 87 1078 h 10"/>
<path d=" M 125 1078 h 10"/>
<path d=" M 227 1078 h 10"/>
<path d=" M 265 1078 h 10"/>
<path d=" M 391 1078 h 10"/>
<path d=" M 429 1078 h 10"/>
</g>
<path d=" M 47 1120 v 20 a 12 12 0 0 0 12 12 m 548 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="1141"/>
<text x="73" y="1157">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="1141"/>
<text x="111" y="1157">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="1141"/>
<text x="181" y="1157">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="1141"/>
<text x="251" y="1157">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="275" y="1141"/>
<text x="309" y="1157">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="353" y="1141"/>
<text x="367" y="1157">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="391" y="1120"/>
<path d=" M 391 1152 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="1141"/>
<text x="413" y="1157">
(</text>
</g>
<g class="optional">
<path d=" M 437 1152 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 461 1152 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="473" y="1141"/>
<text x="499" y="1157">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="1141"/>
<text x="585" y="1157">
)</text>
</g>
<path d=" M 427 1152 h 10"/>
<path d=" M 561 1152 h 10"/>
</g>
</g>
<path d=" M 87 1152 h 10"/>
<path d=" M 125 1152 h 10"/>
<path d=" M 227 1152 h 10"/>
<path d=" M 265 1152 h 10"/>
<path d=" M 343 1152 h 10"/>
<path d=" M 381 1152 h 10"/>
</g>
<path d=" M 47 1194 v 0 a 12 12 0 0 0 12 12 m 244 0 h 368 m -181 0 l -5 -5 m 0 10 l 5 -5 m 181 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="1195"/>
<text x="73" y="1211">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="1195"/>
<text x="111" y="1211">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="135" y="1195"/>
<text x="181" y="1211">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="1195"/>
<text x="251" y="1211">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="275" y="1195"/>
<text x="289" y="1211">
f</text>
</g>
<path d=" M 87 1206 h 10"/>
<path d=" M 125 1206 h 10"/>
<path d=" M 227 1206 h 10"/>
<path d=" M 265 1206 h 10"/>
</g>
</g>
<path d=" M 705 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 695 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="1229"/>
<g class="verticalgrid">
<text class="comment" x="164" y="1250">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="1267"/>
<text x="50" y="1283">
submac</text>
</g>
<text class="comment" x="160" y="1282">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="16" y="1301"/>
<text x="62" y="1317">
separator</text>
</g>
<text class="comment" x="160" y="1316">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="1335"/>
<text x="30" y="1351">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="1335"/>
<text x="70" y="1351">
i</text>
</g>
<text class="comment" x="157" y="1350">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="1369"/>
<text x="42" y="1385">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="1369"/>
<text x="106" y="1385">
rest</text>
</g>
<text class="comment" x="205" y="1384">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 778; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 778 791" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="31"/>
<text x="49" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="31"/>
<text x="87" y="47">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="111" y="31"/>
<text x="157" y="47">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
,</text>
</g>
<g class="choice">
<path d=" M 251 42 h 24 m 444 0 h 24"/>
<g class="sequence">
<g class="choice">
<path d=" M 275 42 h 24 m 44 0 h 112 m -53 0 l -5 -5 m 0 10 l 5 -5 m 53 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="299" y="31"/>
<text x="321" y="47">
alt</text>
</g>
<path d=" M 275 42 a 12 12 0 0 1 12 12 v 9 m 156 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 287 63 v 33 m 156 0 v -33"/>
<path d=" M 287 96 v 33 m 156 0 v -33"/>
<path d=" M 287 129 v 33 m 156 0 v -33"/>
<path d=" M 287 162 v 33 m 156 0 v -33"/>
<path d=" M 287 195 v 33 m 156 0 v -33"/>
<path d=" M 287 228 v 33 m 156 0 v -33"/>
<path d=" M 287 261 v 33 m 156 0 v -33"/>
<path d=" M 287 294 v 33 m 156 0 v -33"/>
<path d=" M 287 327 v 33 m 156 0 v -33"/>
<path d=" M 287 360 v 33 m 156 0 v -33"/>
<path d=" M 287 393 v 33 m 156 0 v -33"/>
<path d=" M 287 426 v 33 m 156 0 v -33"/>
<path d=" M 287 63 v 0 a 12 12 0 0 0 12 12 m 116 0 h 16 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="116" x="299" y="64"/>
<text x="357" y="80">
alt_complete</text>
</g>
<path d=" M 287 96 v 0 a 12 12 0 0 0 12 12 m 92 0 h 40 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="92" x="299" y="97"/>
<text x="345" y="113">
delimited</text>
</g>
<path d=" M 287 129 v 0 a 12 12 0 0 0 12 12 m 84 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="299" y="130"/>
<text x="341" y="146">
do_parse</text>
</g>
<path d=" M 287 162 v 0 a 12 12 0 0 0 12 12 m 60 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="299" y="163"/>
<text x="329" y="179">
many0</text>
</g>
<path d=" M 287 195 v 0 a 12 12 0 0 0 12 12 m 60 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="299" y="196"/>
<text x="329" y="212">
many1</text>
</g>
<path d=" M 287 228 v 0 a 12 12 0 0 0 12 12 m 52 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="299" y="229"/>
<text x="325" y="245">
pair</text>
</g>
<path d=" M 287 261 v 0 a 12 12 0 0 0 12 12 m 108 0 h 24 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="108" x="299" y="262"/>
<text x="353" y="278">
permutation</text>
</g>
<path d=" M 287 294 v 0 a 12 12 0 0 0 12 12 m 84 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="299" y="295"/>
<text x="341" y="311">
preceded</text>
</g>
<path d=" M 287 327 v 0 a 12 12 0 0 0 12 12 m 132 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="132" x="299" y="328"/>
<text x="365" y="344">
separated_list</text>
</g>
<path d=" M 287 360 v 0 a 12 12 0 0 0 12 12 m 132 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="132" x="299" y="361"/>
<text x="365" y="377">
separated_pair</text>
</g>
<path d=" M 287 393 v 0 a 12 12 0 0 0 12 12 m 68 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="299" y="394"/>
<text x="333" y="410">
switch</text>
</g>
<path d=" M 287 426 v 0 a 12 12 0 0 0 12 12 m 100 0 h 32 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="299" y="427"/>
<text x="349" y="443">
terminated</text>
</g>
<path d=" M 287 459 v 0 a 12 12 0 0 0 12 12 m 60 0 h 72 m -33 0 l -5 -5 m 0 10 l 5 -5 m 33 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="299" y="460"/>
<text x="329" y="476">
tuple</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="465" y="31"/>
<text x="479" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="503" y="10"/>
<path d=" M 503 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="511" y="31"/>
<text x="525" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 549 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 573 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="585" y="31"/>
<text x="611" y="47">
rest</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="683" y="31"/>
<text x="697" y="47">
)</text>
</g>
<path d=" M 539 42 h 10"/>
<path d=" M 673 42 h 10"/>
</g>
</g>
<path d=" M 455 42 h 10"/>
<path d=" M 493 42 h 10"/>
</g>
<path d=" M 251 42 a 12 12 0 0 1 12 12 v 438 m 0 -216 l -5 -5 m 10 0 l -5 5 m 0 216 m 468 0 v -438 m 0 222 l -5 5 m 10 0 l -5 -5 m 0 -222 a 12 12 0 0 1 12 -12"/>
<path d=" M 263 512 v 66 m 0 -30 l -5 -5 m 10 0 l -5 5 m 0 30 m 468 0 v -66 m 0 36 l -5 5 m 10 0 l -5 -5 m 0 -36"/>
<path d=" M 263 492 v 20 a 12 12 0 0 0 12 12 m 428 0 h 16 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="choice">
<path d=" M 275 524 h 24 m 116 0 h 24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="116" x="299" y="513"/>
<text x="357" y="529">
return_error</text>
</g>
<path d=" M 275 524 a 12 12 0 0 1 12 12 v 9 m 140 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 287 545 v 0 a 12 12 0 0 0 12 12 m 68 0 h 48 a 12 12 0 0 0 12 -12 v 0"/>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="299" y="546"/>
<text x="333" y="562">
submac</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="449" y="513"/>
<text x="463" y="529">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="487" y="492"/>
<path d=" M 487 524 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="495" y="513"/>
<text x="509" y="529">
(</text>
</g>
<g class="optional">
<path d=" M 533 524 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 557 524 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="569" y="513"/>
<text x="595" y="529">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="667" y="513"/>
<text x="681" y="529">
)</text>
</g>
<path d=" M 523 524 h 10"/>
<path d=" M 657 524 h 10"/>
</g>
</g>
<path d=" M 439 524 h 10"/>
<path d=" M 477 524 h 10"/>
</g>
<path d=" M 263 578 v 0 a 12 12 0 0 0 12 12 m 28 0 h 416 m -205 0 l -5 -5 m 0 10 l 5 -5 m 205 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="275" y="579"/>
<text x="289" y="595">
f</text>
</g>
</g>
<path d=" M 63 42 h 10"/>
<path d=" M 101 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 753 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 743 42 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="613"/>
<g class="verticalgrid">
<text class="comment" x="164" y="634">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="651"/>
<text x="50" y="667">
submac</text>
</g>
<text class="comment" x="160" y="666">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="92" x="16" y="685"/>
<text x="62" y="701">
separator</text>
</g>
<text class="comment" x="160" y="700">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="719"/>
<text x="30" y="735">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="719"/>
<text x="70" y="735">
i</text>
</g>
<text class="comment" x="157" y="734">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="753"/>
<text x="42" y="769">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="753"/>
<text x="106" y="769">
rest</text>
</g>
<text class="comment" x="205" y="768">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="separated&#x5F;list"><a href="#separated&#x5F;list"><h3>Macro <i>`separated_list`</i></h3></a><pre class="rust">macro_rules! separated_list {
    ($i:expr, $sep:ident!( $($args:tt)* ), $submac:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 890; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 890 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 772 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="10"/>
<path d=" M 227 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="31"/>
<text x="249" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 273 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="31"/>
<text x="335" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="31"/>
<text x="421" y="47">
)</text>
</g>
<path d=" M 263 42 h 10"/>
<path d=" M 397 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="31"/>
<text x="467" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="31"/>
<text x="525" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="31"/>
<text x="583" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="10"/>
<path d=" M 607 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 653 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="31"/>
<text x="719" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="31"/>
<text x="809" y="47">
)</text>
</g>
<path d=" M 643 42 h 10"/>
<path d=" M 785 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 443 42 h 10"/>
<path d=" M 481 42 h 10"/>
<path d=" M 559 42 h 10"/>
<path d=" M 597 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 796 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 592 m -293 0 l -5 -5 m 0 10 l 5 -5 m 293 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 865 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 855 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="305"/>
<text x="38" y="321">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="305"/>
<text x="106" y="321">
submac</text>
</g>
<text class="comment" x="213" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 890; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 890 410" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 720 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 136 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 720 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 696 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="137"/>
<text x="157" y="153">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="137"/>
<text x="203" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="116"/>
<path d=" M 227 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="137"/>
<text x="249" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 273 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="137"/>
<text x="335" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="137"/>
<text x="421" y="153">
)</text>
</g>
<path d=" M 263 148 h 10"/>
<path d=" M 397 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="137"/>
<text x="467" y="153">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="137"/>
<text x="525" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="137"/>
<text x="583" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="116"/>
<path d=" M 607 148 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="137"/>
<text x="629" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 653 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 148 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="137"/>
<text x="719" y="153">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="137"/>
<text x="809" y="153">
)</text>
</g>
<path d=" M 643 148 h 10"/>
<path d=" M 785 148 h 10"/>
</g>
</g>
<path d=" M 179 148 h 10"/>
<path d=" M 217 148 h 10"/>
<path d=" M 443 148 h 10"/>
<path d=" M 481 148 h 10"/>
<path d=" M 559 148 h 10"/>
<path d=" M 597 148 h 10"/>
</g>
<path d=" M 123 190 v 20 a 12 12 0 0 0 12 12 m 408 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="211"/>
<text x="169" y="227">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="211"/>
<text x="227" y="227">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="190"/>
<path d=" M 251 222 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="211"/>
<text x="273" y="227">
(</text>
</g>
<g class="optional">
<path d=" M 297 222 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 222 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="211"/>
<text x="359" y="227">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="211"/>
<text x="445" y="227">
)</text>
</g>
<path d=" M 287 222 h 10"/>
<path d=" M 421 222 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="211"/>
<text x="491" y="227">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="211"/>
<text x="529" y="227">
g</text>
</g>
<path d=" M 203 222 h 10"/>
<path d=" M 241 222 h 10"/>
<path d=" M 467 222 h 10"/>
<path d=" M 505 222 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 865 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 855 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="266"/>
<g class="verticalgrid">
<text class="comment" x="164" y="287">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="304"/>
<text x="38" y="320">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="304"/>
<text x="106" y="320">
submac</text>
</g>
<text class="comment" x="213" y="319">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="338"/>
<text x="30" y="354">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="338"/>
<text x="70" y="354">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="338"/>
<text x="110" y="354">
i</text>
</g>
<text class="comment" x="197" y="353">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="372"/>
<text x="42" y="388">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="372"/>
<text x="110" y="388">
args2</text>
</g>
<text class="comment" x="213" y="387">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="separated&#x5F;list&#x5F;complete"><a href="#separated&#x5F;list&#x5F;complete"><h3>Macro <i>`separated_list_complete`</i></h3></a><pre class="rust">macro_rules! separated_list_complete {
    ($i:expr, $sep:ident!( $($args:tt)* ), $submac:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 890; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 890 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 772 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="10"/>
<path d=" M 227 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="31"/>
<text x="249" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 273 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="31"/>
<text x="335" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="31"/>
<text x="421" y="47">
)</text>
</g>
<path d=" M 263 42 h 10"/>
<path d=" M 397 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="31"/>
<text x="467" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="31"/>
<text x="525" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="31"/>
<text x="583" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="10"/>
<path d=" M 607 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 653 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="31"/>
<text x="719" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="31"/>
<text x="809" y="47">
)</text>
</g>
<path d=" M 643 42 h 10"/>
<path d=" M 785 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 443 42 h 10"/>
<path d=" M 481 42 h 10"/>
<path d=" M 559 42 h 10"/>
<path d=" M 597 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 796 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 592 m -293 0 l -5 -5 m 0 10 l 5 -5 m 293 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 865 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 855 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="305"/>
<text x="38" y="321">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="305"/>
<text x="106" y="321">
submac</text>
</g>
<text class="comment" x="213" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 890; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 890 410" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 720 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 136 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 720 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 696 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="137"/>
<text x="157" y="153">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="137"/>
<text x="203" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="116"/>
<path d=" M 227 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="137"/>
<text x="249" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 273 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="137"/>
<text x="335" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="137"/>
<text x="421" y="153">
)</text>
</g>
<path d=" M 263 148 h 10"/>
<path d=" M 397 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="137"/>
<text x="467" y="153">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="137"/>
<text x="525" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="137"/>
<text x="583" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="116"/>
<path d=" M 607 148 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="137"/>
<text x="629" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 653 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 148 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="137"/>
<text x="719" y="153">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="137"/>
<text x="809" y="153">
)</text>
</g>
<path d=" M 643 148 h 10"/>
<path d=" M 785 148 h 10"/>
</g>
</g>
<path d=" M 179 148 h 10"/>
<path d=" M 217 148 h 10"/>
<path d=" M 443 148 h 10"/>
<path d=" M 481 148 h 10"/>
<path d=" M 559 148 h 10"/>
<path d=" M 597 148 h 10"/>
</g>
<path d=" M 123 190 v 20 a 12 12 0 0 0 12 12 m 408 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="211"/>
<text x="169" y="227">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="211"/>
<text x="227" y="227">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="190"/>
<path d=" M 251 222 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="211"/>
<text x="273" y="227">
(</text>
</g>
<g class="optional">
<path d=" M 297 222 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 222 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="211"/>
<text x="359" y="227">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="211"/>
<text x="445" y="227">
)</text>
</g>
<path d=" M 287 222 h 10"/>
<path d=" M 421 222 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="211"/>
<text x="491" y="227">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="211"/>
<text x="529" y="227">
g</text>
</g>
<path d=" M 203 222 h 10"/>
<path d=" M 241 222 h 10"/>
<path d=" M 467 222 h 10"/>
<path d=" M 505 222 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 865 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 855 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="266"/>
<g class="verticalgrid">
<text class="comment" x="164" y="287">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="304"/>
<text x="38" y="320">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="304"/>
<text x="106" y="320">
submac</text>
</g>
<text class="comment" x="213" y="319">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="338"/>
<text x="30" y="354">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="338"/>
<text x="70" y="354">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="338"/>
<text x="110" y="354">
i</text>
</g>
<text class="comment" x="197" y="353">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="372"/>
<text x="42" y="388">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="372"/>
<text x="110" y="388">
args2</text>
</g>
<text class="comment" x="213" y="387">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="separated&#x5F;nonempty&#x5F;list"><a href="#separated&#x5F;nonempty&#x5F;list"><h3>Macro <i>`separated_nonempty_list`</i></h3></a><pre class="rust">macro_rules! separated_nonempty_list {
    ($i:expr, $sep:ident!( $($args:tt)* ), $submac:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 890; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 890 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 772 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="10"/>
<path d=" M 227 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="31"/>
<text x="249" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 273 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="31"/>
<text x="335" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="31"/>
<text x="421" y="47">
)</text>
</g>
<path d=" M 263 42 h 10"/>
<path d=" M 397 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="31"/>
<text x="467" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="31"/>
<text x="525" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="31"/>
<text x="583" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="10"/>
<path d=" M 607 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 653 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="31"/>
<text x="719" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="31"/>
<text x="809" y="47">
)</text>
</g>
<path d=" M 643 42 h 10"/>
<path d=" M 785 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 443 42 h 10"/>
<path d=" M 481 42 h 10"/>
<path d=" M 559 42 h 10"/>
<path d=" M 597 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 796 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 592 m -293 0 l -5 -5 m 0 10 l 5 -5 m 293 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 865 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 855 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="305"/>
<text x="38" y="321">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="305"/>
<text x="106" y="321">
submac</text>
</g>
<text class="comment" x="213" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 890; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 890 410" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 720 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 136 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 720 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 696 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="137"/>
<text x="157" y="153">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="137"/>
<text x="203" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="116"/>
<path d=" M 227 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="137"/>
<text x="249" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 273 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="137"/>
<text x="335" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="137"/>
<text x="421" y="153">
)</text>
</g>
<path d=" M 263 148 h 10"/>
<path d=" M 397 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="137"/>
<text x="467" y="153">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="137"/>
<text x="525" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="137"/>
<text x="583" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="116"/>
<path d=" M 607 148 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="137"/>
<text x="629" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 653 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 148 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="137"/>
<text x="719" y="153">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="137"/>
<text x="809" y="153">
)</text>
</g>
<path d=" M 643 148 h 10"/>
<path d=" M 785 148 h 10"/>
</g>
</g>
<path d=" M 179 148 h 10"/>
<path d=" M 217 148 h 10"/>
<path d=" M 443 148 h 10"/>
<path d=" M 481 148 h 10"/>
<path d=" M 559 148 h 10"/>
<path d=" M 597 148 h 10"/>
</g>
<path d=" M 123 190 v 20 a 12 12 0 0 0 12 12 m 408 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="211"/>
<text x="169" y="227">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="211"/>
<text x="227" y="227">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="190"/>
<path d=" M 251 222 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="211"/>
<text x="273" y="227">
(</text>
</g>
<g class="optional">
<path d=" M 297 222 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 222 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="211"/>
<text x="359" y="227">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="211"/>
<text x="445" y="227">
)</text>
</g>
<path d=" M 287 222 h 10"/>
<path d=" M 421 222 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="211"/>
<text x="491" y="227">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="211"/>
<text x="529" y="227">
g</text>
</g>
<path d=" M 203 222 h 10"/>
<path d=" M 241 222 h 10"/>
<path d=" M 467 222 h 10"/>
<path d=" M 505 222 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 865 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 855 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="266"/>
<g class="verticalgrid">
<text class="comment" x="164" y="287">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="304"/>
<text x="38" y="320">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="304"/>
<text x="106" y="320">
submac</text>
</g>
<text class="comment" x="213" y="319">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="338"/>
<text x="30" y="354">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="338"/>
<text x="70" y="354">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="338"/>
<text x="110" y="354">
i</text>
</g>
<text class="comment" x="197" y="353">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="372"/>
<text x="42" y="388">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="372"/>
<text x="110" y="388">
args2</text>
</g>
<text class="comment" x="213" y="387">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="separated&#x5F;nonempty&#x5F;list&#x5F;complete"><a href="#separated&#x5F;nonempty&#x5F;list&#x5F;complete"><h3>Macro <i>`separated_nonempty_list_complete`</i></h3></a><pre class="rust">macro_rules! separated_nonempty_list_complete {
    ($i:expr, $sep:ident!( $($args:tt)* ), $submac:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 890; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 890 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 772 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="10"/>
<path d=" M 227 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="31"/>
<text x="249" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 273 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="31"/>
<text x="335" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="31"/>
<text x="421" y="47">
)</text>
</g>
<path d=" M 263 42 h 10"/>
<path d=" M 397 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="31"/>
<text x="467" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="31"/>
<text x="525" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="31"/>
<text x="583" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="10"/>
<path d=" M 607 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 653 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="31"/>
<text x="719" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="31"/>
<text x="809" y="47">
)</text>
</g>
<path d=" M 643 42 h 10"/>
<path d=" M 785 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 443 42 h 10"/>
<path d=" M 481 42 h 10"/>
<path d=" M 559 42 h 10"/>
<path d=" M 597 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 796 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 796 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 592 m -293 0 l -5 -5 m 0 10 l 5 -5 m 293 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 865 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 855 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="305"/>
<text x="38" y="321">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="305"/>
<text x="106" y="321">
submac</text>
</g>
<text class="comment" x="213" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 890; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 890 410" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 264 m -129 0 l -5 -5 m 0 10 l 5 -5 m 129 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 720 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 136 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 720 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 696 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="135" y="137"/>
<text x="157" y="153">
sep</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="137"/>
<text x="203" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="227" y="116"/>
<path d=" M 227 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="235" y="137"/>
<text x="249" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 273 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 297 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="309" y="137"/>
<text x="335" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="407" y="137"/>
<text x="421" y="153">
)</text>
</g>
<path d=" M 263 148 h 10"/>
<path d=" M 397 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="453" y="137"/>
<text x="467" y="153">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="491" y="137"/>
<text x="525" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="569" y="137"/>
<text x="583" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="607" y="116"/>
<path d=" M 607 148 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="137"/>
<text x="629" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 653 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 677 148 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="689" y="137"/>
<text x="719" y="153">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="795" y="137"/>
<text x="809" y="153">
)</text>
</g>
<path d=" M 643 148 h 10"/>
<path d=" M 785 148 h 10"/>
</g>
</g>
<path d=" M 179 148 h 10"/>
<path d=" M 217 148 h 10"/>
<path d=" M 443 148 h 10"/>
<path d=" M 481 148 h 10"/>
<path d=" M 559 148 h 10"/>
<path d=" M 597 148 h 10"/>
</g>
<path d=" M 123 190 v 20 a 12 12 0 0 0 12 12 m 408 0 h 288 m -141 0 l -5 -5 m 0 10 l 5 -5 m 141 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="211"/>
<text x="169" y="227">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="211"/>
<text x="227" y="227">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="190"/>
<path d=" M 251 222 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="211"/>
<text x="273" y="227">
(</text>
</g>
<g class="optional">
<path d=" M 297 222 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 222 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="211"/>
<text x="359" y="227">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="211"/>
<text x="445" y="227">
)</text>
</g>
<path d=" M 287 222 h 10"/>
<path d=" M 421 222 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="211"/>
<text x="491" y="227">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="211"/>
<text x="529" y="227">
g</text>
</g>
<path d=" M 203 222 h 10"/>
<path d=" M 241 222 h 10"/>
<path d=" M 467 222 h 10"/>
<path d=" M 505 222 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 865 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 855 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="266"/>
<g class="verticalgrid">
<text class="comment" x="164" y="287">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="44" x="16" y="304"/>
<text x="38" y="320">
sep</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="72" y="304"/>
<text x="106" y="320">
submac</text>
</g>
<text class="comment" x="213" y="319">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="338"/>
<text x="30" y="354">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="338"/>
<text x="70" y="354">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="338"/>
<text x="110" y="354">
i</text>
</g>
<text class="comment" x="197" y="353">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="372"/>
<text x="42" y="388">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="372"/>
<text x="110" y="388">
args2</text>
</g>
<text class="comment" x="213" y="387">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="separated&#x5F;pair"><a href="#separated&#x5F;pair"><h3>Macro <i>`separated_pair`</i></h3></a><pre class="rust">macro_rules! separated_pair {
    ($i:expr, $submac:ident!( $($args:tt)* ), $($rest:tt)+) =&gt; { ... };
    ($i:expr, $f:expr, $($rest:tt)+) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 650; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 650 276" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 532 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="repeat">
<path d=" M 515 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="527" y="31"/>
<text x="553" y="47">
rest</text>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 556 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 228 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="85"/>
<text x="187" y="101">
,</text>
</g>
<g class="repeat">
<path d=" M 211 96 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="223" y="85"/>
<text x="249" y="101">
rest</text>
</g>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 163 96 h 10"/>
<path d=" M 201 96 h 10"/>
</g>
</g>
<path d=" M 625 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 615 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="132"/>
<g class="verticalgrid">
<text class="comment" x="164" y="153">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="170"/>
<text x="50" y="186">
submac</text>
</g>
<text class="comment" x="160" y="185">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="204"/>
<text x="30" y="220">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="204"/>
<text x="70" y="220">
i</text>
</g>
<text class="comment" x="157" y="219">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="238"/>
<text x="42" y="254">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="238"/>
<text x="106" y="254">
rest</text>
</g>
<text class="comment" x="205" y="253">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 650; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 650 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="10"/>
<text x="515" y="26">
,</text>
</g>
<g class="repeat">
<path d=" M 539 21 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="551" y="10"/>
<text x="577" y="26">
rest</text>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 491 21 h 10"/>
<path d=" M 529 21 h 10"/>
</g>
<path d=" M 625 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 615 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="224"/>
<text x="106" y="240">
rest</text>
</g>
<text class="comment" x="205" y="239">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="switch"><a href="#switch"><h3>Macro <i>`switch`</i></h3></a><pre class="rust">macro_rules! switch {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $( $($p:pat)|+ =&gt; $subrule:ident!( $($args2:tt)* ))|* ) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)*), $($rest:tt)*) =&gt; { ... };
    ($i:expr, $e:path, $($rest:tt)*) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1210; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1210 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 54 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 54 h 24 m 1092 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="43"/>
<text x="93" y="59">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="43"/>
<text x="151" y="59">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="43"/>
<text x="189" y="59">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="43"/>
<text x="247" y="59">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="43"/>
<text x="305" y="59">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="22"/>
<path d=" M 329 54 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="43"/>
<text x="351" y="59">
(</text>
</g>
<g class="optional">
<path d=" M 375 54 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 54 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="43"/>
<text x="437" y="59">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="43"/>
<text x="523" y="59">
)</text>
</g>
<path d=" M 365 54 h 10"/>
<path d=" M 499 54 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="43"/>
<text x="569" y="59">
,</text>
</g>
<g class="optional">
<path d=" M 593 54 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -20 a 12 12 0 0 1 12 -12 h 510 m -252 0 l -5 -5 m 0 10 l 5 -5 m 252 0 a 12 12 0 0 1 12 12 v 20 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 617 54 h 12 m 486 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 40 a 12 12 0 0 1 -12 12 m -28 0 h -458 m 232 0 l 5 -5 m 0 10 l -5 -5 m -232 0 a 12 12 0 0 1 -12 -12 v -40 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1087" y="107"/>
<text x="1101" y="123">
|</text>
</g>
<g class="sequence">
<g class="repeat">
<path d=" M 629 54 h 12 m 28 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 8 a 12 12 0 0 1 -12 12 m -28 0 h 0 a 12 12 0 0 1 -12 -12 v -8 a 12 12 0 0 1 12 -12"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="641" y="75"/>
<text x="655" y="91">
|</text>
</g>
<g class="nonterminal fragment_pat">
<rect height="22" width="28" x="641" y="43"/>
<text x="655" y="59">
p</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="691" y="43"/>
<text x="705" y="59">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="729" y="43"/>
<text x="743" y="59">
></text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="767" y="43"/>
<text x="805" y="59">
subrule</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="853" y="43"/>
<text x="867" y="59">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="891" y="22"/>
<path d=" M 891 54 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="899" y="43"/>
<text x="913" y="59">
(</text>
</g>
<g class="optional">
<path d=" M 937 54 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 961 54 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="973" y="43"/>
<text x="1003" y="59">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="1079" y="43"/>
<text x="1093" y="59">
)</text>
</g>
<path d=" M 927 54 h 10"/>
<path d=" M 1069 54 h 10"/>
</g>
</g>
<path d=" M 681 54 h 10"/>
<path d=" M 719 54 h 10"/>
<path d=" M 757 54 h 10"/>
<path d=" M 843 54 h 10"/>
<path d=" M 881 54 h 10"/>
</g>
</g>
</g>
<path d=" M 127 54 h 10"/>
<path d=" M 165 54 h 10"/>
<path d=" M 203 54 h 10"/>
<path d=" M 281 54 h 10"/>
<path d=" M 319 54 h 10"/>
<path d=" M 545 54 h 10"/>
<path d=" M 583 54 h 10"/>
</g>
<path d=" M 35 54 a 12 12 0 0 1 12 12 v 73 m 0 -33 l -5 -5 m 10 0 l -5 5 m 0 33 m 1116 0 v -73 m 0 39 l -5 5 m 10 0 l -5 -5 m 0 -39 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 159 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 1116 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 139 v 20 a 12 12 0 0 0 12 12 m 580 0 h 512 m -253 0 l -5 -5 m 0 10 l 5 -5 m 253 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="160"/>
<text x="73" y="176">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="160"/>
<text x="111" y="176">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="160"/>
<text x="169" y="176">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="160"/>
<text x="227" y="176">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="139"/>
<path d=" M 251 171 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="160"/>
<text x="273" y="176">
(</text>
</g>
<g class="optional">
<path d=" M 297 171 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 171 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="160"/>
<text x="359" y="176">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="160"/>
<text x="445" y="176">
)</text>
</g>
<path d=" M 287 171 h 10"/>
<path d=" M 421 171 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="160"/>
<text x="491" y="176">
,</text>
</g>
<g class="optional">
<path d=" M 515 171 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 539 171 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="551" y="160"/>
<text x="577" y="176">
rest</text>
</g>
</g>
</g>
<path d=" M 87 171 h 10"/>
<path d=" M 125 171 h 10"/>
<path d=" M 203 171 h 10"/>
<path d=" M 241 171 h 10"/>
<path d=" M 467 171 h 10"/>
<path d=" M 505 171 h 10"/>
</g>
<path d=" M 47 213 v 12 a 12 12 0 0 0 12 12 m 276 0 h 816 m -405 0 l -5 -5 m 0 10 l 5 -5 m 405 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="226"/>
<text x="73" y="242">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="226"/>
<text x="111" y="242">
,</text>
</g>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="135" y="226"/>
<text x="149" y="242">
e</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="226"/>
<text x="187" y="242">
,</text>
</g>
<g class="optional">
<path d=" M 211 237 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 235 237 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="247" y="226"/>
<text x="273" y="242">
rest</text>
</g>
</g>
</g>
<path d=" M 87 237 h 10"/>
<path d=" M 125 237 h 10"/>
<path d=" M 163 237 h 10"/>
<path d=" M 201 237 h 10"/>
</g>
</g>
<path d=" M 1185 54 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 54 h 10"/>
<path d=" M 1175 54 h 10"/>
</g>
<g class=" legend">
<rect height="202" width="334" x="10" y="273"/>
<g class="verticalgrid">
<text class="comment" x="164" y="294">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="311"/>
<text x="50" y="327">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="311"/>
<text x="134" y="327">
subrule</text>
</g>
<text class="comment" x="245" y="326">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="16" y="345"/>
<text x="30" y="361">
e</text>
</g>
<text class="comment" x="96" y="360">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="379"/>
<text x="30" y="395">
i</text>
</g>
<text class="comment" x="124" y="394">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_pat">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
p</text>
</g>
<text class="comment" x="106" y="428">
is a pattern.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="447"/>
<text x="42" y="463">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="447"/>
<text x="110" y="463">
args2</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="152" y="447"/>
<text x="178" y="463">
rest</text>
</g>
<text class="comment" x="277" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 746; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 746 339" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 446 m -220 0 l -5 -5 m 0 10 l 5 -5 m 220 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 652 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 12 a 12 12 0 0 0 12 12 m 628 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="53"/>
<text x="73" y="69">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="53"/>
<text x="111" y="69">
,</text>
</g>
<g class="choice">
<path d=" M 135 64 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="159" y="53"/>
<text x="173" y="69">
e</text>
</g>
<path d=" M 135 64 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 85 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="106"/>
<text x="193" y="122">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="106"/>
<text x="251" y="122">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="85"/>
<path d=" M 275 117 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="106"/>
<text x="297" y="122">
(</text>
</g>
<g class="optional">
<path d=" M 321 117 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 117 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="106"/>
<text x="383" y="122">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="106"/>
<text x="469" y="122">
)</text>
</g>
<path d=" M 311 117 h 10"/>
<path d=" M 445 117 h 10"/>
</g>
</g>
<path d=" M 227 117 h 10"/>
<path d=" M 265 117 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="525" y="53"/>
<text x="539" y="69">
,</text>
</g>
<g class="optional">
<path d=" M 563 64 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 587 64 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="599" y="53"/>
<text x="625" y="69">
rest</text>
</g>
</g>
</g>
<path d=" M 87 64 h 10"/>
<path d=" M 125 64 h 10"/>
<path d=" M 515 64 h 10"/>
<path d=" M 553 64 h 10"/>
</g>
</g>
<path d=" M 721 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 711 20 h 10"/>
</g>
<g class=" legend">
<rect height="168" width="309" x="10" y="161"/>
<g class="verticalgrid">
<text class="comment" x="164" y="182">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="199"/>
<text x="50" y="215">
submac</text>
</g>
<text class="comment" x="160" y="214">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_path">
<rect height="22" width="28" x="16" y="233"/>
<text x="30" y="249">
e</text>
</g>
<text class="comment" x="96" y="248">
is a path.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="267"/>
<text x="30" y="283">
i</text>
</g>
<text class="comment" x="124" y="282">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="301"/>
<text x="42" y="317">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="80" y="301"/>
<text x="106" y="317">
rest</text>
</g>
<text class="comment" x="205" y="316">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="tag"><a href="#tag"><h3>Macro <i>`tag`</i></h3></a><pre class="rust">macro_rules! tag {
    ($i:expr, $tag: expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
tag</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 165 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 155 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="56" y="82"/>
<text x="78" y="98">
tag</text>
</g>
<text class="comment" x="173" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="tag&#x5F;bits"><a href="#tag&#x5F;bits"><h3>Macro <i>`tag_bits`</i></h3></a><pre class="rust">macro_rules! tag_bits {
    ($i:expr, $t:ty, $count:expr, $p: pat) =&gt; { ... };
}</pre><br><div style="width: 358; height: auto" class="dia"><svg class="railroad" viewBox="0 0 358 188" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
t</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="149" y="10"/>
<text x="163" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="187" y="10"/>
<text x="217" y="26">
count</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="257" y="10"/>
<text x="271" y="26">
,</text>
</g>
<g class="nonterminal fragment_pat">
<rect height="22" width="28" x="295" y="10"/>
<text x="309" y="26">
p</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 139 21 h 10"/>
<path d=" M 177 21 h 10"/>
<path d=" M 247 21 h 10"/>
<path d=" M 285 21 h 10"/>
</g>
<path d=" M 333 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 323 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="82"/>
<text x="46" y="98">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="82"/>
<text x="102" y="98">
i</text>
</g>
<text class="comment" x="189" y="97">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="116"/>
<text x="30" y="132">
t</text>
</g>
<text class="comment" x="96" y="131">
is a type.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_pat">
<rect height="22" width="28" x="16" y="150"/>
<text x="30" y="166">
p</text>
</g>
<text class="comment" x="106" y="165">
is a pattern.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="tag&#x5F;no&#x5F;case"><a href="#tag&#x5F;no&#x5F;case"><h3>Macro <i>`tag_no_case`</i></h3></a><pre class="rust">macro_rules! tag_no_case {
    ($i:expr, $tag: expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="10"/>
<text x="133" y="26">
tag</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 165 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 155 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="56" y="82"/>
<text x="78" y="98">
tag</text>
</g>
<text class="comment" x="173" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take"><a href="#take"><h3>Macro <i>`take`</i></h3></a><pre class="rust">macro_rules! take {
    ($i:expr, $count:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="111" y="10"/>
<text x="141" y="26">
count</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 181 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 171 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="82"/>
<text x="46" y="98">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="82"/>
<text x="102" y="98">
i</text>
</g>
<text class="comment" x="189" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;bits"><a href="#take&#x5F;bits"><h3>Macro <i>`take_bits`</i></h3></a><pre class="rust">macro_rules! take_bits {
    ($i:expr, $t:ty, $count:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 154" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
t</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="149" y="10"/>
<text x="163" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="187" y="10"/>
<text x="217" y="26">
count</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 139 21 h 10"/>
<path d=" M 177 21 h 10"/>
</g>
<path d=" M 257 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 247 21 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="16" y="82"/>
<text x="46" y="98">
count</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="88" y="82"/>
<text x="102" y="98">
i</text>
</g>
<text class="comment" x="189" y="97">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_ty">
<rect height="22" width="28" x="16" y="116"/>
<text x="30" y="132">
t</text>
</g>
<text class="comment" x="96" y="131">
is a type.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;str"><a href="#take&#x5F;str"><h3>Macro <i>`take_str`</i></h3></a><pre class="rust">macro_rules! take_str {
    ( $i:expr, $size:expr ) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
size</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 173 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 163 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="52" x="56" y="82"/>
<text x="82" y="98">
size</text>
</g>
<text class="comment" x="181" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;till"><a href="#take&#x5F;till"><h3>Macro <i>`take_till`</i></h3></a><pre class="rust">macro_rules! take_till {
    ($input:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($input:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 558; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 558 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 440 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="31"/>
<text x="89" y="47">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="31"/>
<text x="143" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="31"/>
<text x="201" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="31"/>
<text x="259" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="10"/>
<path d=" M 283 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 329 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="31"/>
<text x="391" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="31"/>
<text x="477" y="47">
)</text>
</g>
<path d=" M 319 42 h 10"/>
<path d=" M 453 42 h 10"/>
</g>
</g>
<path d=" M 119 42 h 10"/>
<path d=" M 157 42 h 10"/>
<path d=" M 235 42 h 10"/>
<path d=" M 273 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 464 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 136 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="85"/>
<text x="89" y="101">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="85"/>
<text x="143" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="85"/>
<text x="181" y="101">
f</text>
</g>
<path d=" M 119 96 h 10"/>
<path d=" M 157 96 h 10"/>
</g>
</g>
<path d=" M 533 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 523 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="191"/>
<text x="86" y="207">
input</text>
</g>
<text class="comment" x="189" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 558; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 558 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 143 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="10"/>
<text x="181" y="26">
f</text>
</g>
<path d=" M 143 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 155 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="63"/>
<text x="201" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="63"/>
<text x="259" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="42"/>
<path d=" M 283 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="63"/>
<text x="305" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 329 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="63"/>
<text x="391" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="63"/>
<text x="477" y="79">
)</text>
</g>
<path d=" M 319 74 h 10"/>
<path d=" M 453 74 h 10"/>
</g>
</g>
<path d=" M 235 74 h 10"/>
<path d=" M 273 74 h 10"/>
</g>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 533 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 523 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="190"/>
<text x="86" y="206">
input</text>
</g>
<text class="comment" x="189" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;till1"><a href="#take&#x5F;till1"><h3>Macro <i>`take_till1`</i></h3></a><pre class="rust">macro_rules! take_till1 {
    ($input:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($input:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 558; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 558 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 440 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="31"/>
<text x="89" y="47">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="31"/>
<text x="143" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="31"/>
<text x="201" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="31"/>
<text x="259" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="10"/>
<path d=" M 283 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 329 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="31"/>
<text x="391" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="31"/>
<text x="477" y="47">
)</text>
</g>
<path d=" M 319 42 h 10"/>
<path d=" M 453 42 h 10"/>
</g>
</g>
<path d=" M 119 42 h 10"/>
<path d=" M 157 42 h 10"/>
<path d=" M 235 42 h 10"/>
<path d=" M 273 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 464 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 136 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="85"/>
<text x="89" y="101">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="85"/>
<text x="143" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="85"/>
<text x="181" y="101">
f</text>
</g>
<path d=" M 119 96 h 10"/>
<path d=" M 157 96 h 10"/>
</g>
</g>
<path d=" M 533 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 523 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="191"/>
<text x="86" y="207">
input</text>
</g>
<text class="comment" x="189" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 558; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 558 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 143 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="10"/>
<text x="181" y="26">
f</text>
</g>
<path d=" M 143 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 155 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="63"/>
<text x="201" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="63"/>
<text x="259" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="42"/>
<path d=" M 283 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="63"/>
<text x="305" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 329 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="63"/>
<text x="391" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="63"/>
<text x="477" y="79">
)</text>
</g>
<path d=" M 319 74 h 10"/>
<path d=" M 453 74 h 10"/>
</g>
</g>
<path d=" M 235 74 h 10"/>
<path d=" M 273 74 h 10"/>
</g>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 533 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 523 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="190"/>
<text x="86" y="206">
input</text>
</g>
<text class="comment" x="189" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until"><a href="#take&#x5F;until"><h3>Macro <i>`take_until`</i></h3></a><pre class="rust">macro_rules! take_until {
    ($i:expr, $substr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="111" y="10"/>
<text x="145" y="26">
substr</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 189 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 179 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="82"/>
<text x="90" y="98">
substr</text>
</g>
<text class="comment" x="197" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until1"><a href="#take&#x5F;until1"><h3>Macro <i>`take_until1`</i></h3></a><pre class="rust">macro_rules! take_until1 {
    ($i:expr, $substr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="111" y="10"/>
<text x="145" y="26">
substr</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 189 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 179 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="82"/>
<text x="90" y="98">
substr</text>
</g>
<text class="comment" x="197" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;and&#x5F;consume"><a href="#take&#x5F;until&#x5F;and&#x5F;consume"><h3>Macro <i>`take_until_and_consume`</i></h3></a><pre class="rust">macro_rules! take_until_and_consume {
    ($i:expr, $substr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="111" y="10"/>
<text x="145" y="26">
substr</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 189 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 179 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="82"/>
<text x="90" y="98">
substr</text>
</g>
<text class="comment" x="197" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;and&#x5F;consume1"><a href="#take&#x5F;until&#x5F;and&#x5F;consume1"><h3>Macro <i>`take_until_and_consume1`</i></h3></a><pre class="rust">macro_rules! take_until_and_consume1 {
    ($i:expr, $substr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="111" y="10"/>
<text x="145" y="26">
substr</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 189 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 179 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="68" x="56" y="82"/>
<text x="90" y="98">
substr</text>
</g>
<text class="comment" x="197" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;either"><a href="#take&#x5F;until&#x5F;either"><h3>Macro <i>`take_until_either`</i></h3></a><pre class="rust">macro_rules! take_until_either {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;either1"><a href="#take&#x5F;until&#x5F;either1"><h3>Macro <i>`take_until_either1`</i></h3></a><pre class="rust">macro_rules! take_until_either1 {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;either&#x5F;and&#x5F;consume"><a href="#take&#x5F;until&#x5F;either&#x5F;and&#x5F;consume"><h3>Macro <i>`take_until_either_and_consume`</i></h3></a><pre class="rust">macro_rules! take_until_either_and_consume {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;until&#x5F;either&#x5F;and&#x5F;consume1"><a href="#take&#x5F;until&#x5F;either&#x5F;and&#x5F;consume1"><h3>Macro <i>`take_until_either_and_consume1`</i></h3></a><pre class="rust">macro_rules! take_until_either_and_consume1 {
    ($input:expr, $arr:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="143" y="10"/>
<text x="165" y="26">
arr</text>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 197 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 187 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="16" y="82"/>
<text x="38" y="98">
arr</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="72" y="82"/>
<text x="102" y="98">
input</text>
</g>
<text class="comment" x="205" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;while"><a href="#take&#x5F;while"><h3>Macro <i>`take_while`</i></h3></a><pre class="rust">macro_rules! take_while {
    ($input:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($input:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 558; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 558 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 440 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="31"/>
<text x="89" y="47">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="31"/>
<text x="143" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="31"/>
<text x="201" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="31"/>
<text x="259" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="10"/>
<path d=" M 283 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 329 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="31"/>
<text x="391" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="31"/>
<text x="477" y="47">
)</text>
</g>
<path d=" M 319 42 h 10"/>
<path d=" M 453 42 h 10"/>
</g>
</g>
<path d=" M 119 42 h 10"/>
<path d=" M 157 42 h 10"/>
<path d=" M 235 42 h 10"/>
<path d=" M 273 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 464 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 136 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="85"/>
<text x="89" y="101">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="85"/>
<text x="143" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="85"/>
<text x="181" y="101">
f</text>
</g>
<path d=" M 119 96 h 10"/>
<path d=" M 157 96 h 10"/>
</g>
</g>
<path d=" M 533 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 523 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="191"/>
<text x="86" y="207">
input</text>
</g>
<text class="comment" x="189" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 558; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 558 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 143 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="10"/>
<text x="181" y="26">
f</text>
</g>
<path d=" M 143 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 155 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="63"/>
<text x="201" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="63"/>
<text x="259" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="42"/>
<path d=" M 283 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="63"/>
<text x="305" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 329 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="63"/>
<text x="391" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="63"/>
<text x="477" y="79">
)</text>
</g>
<path d=" M 319 74 h 10"/>
<path d=" M 453 74 h 10"/>
</g>
</g>
<path d=" M 235 74 h 10"/>
<path d=" M 273 74 h 10"/>
</g>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 533 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 523 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="190"/>
<text x="86" y="206">
input</text>
</g>
<text class="comment" x="189" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;while1"><a href="#take&#x5F;while1"><h3>Macro <i>`take_while1`</i></h3></a><pre class="rust">macro_rules! take_while1 {
    ($input:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($input:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 558; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 558 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 440 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="31"/>
<text x="89" y="47">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="31"/>
<text x="143" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="31"/>
<text x="201" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="31"/>
<text x="259" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="10"/>
<path d=" M 283 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 329 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="31"/>
<text x="391" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="31"/>
<text x="477" y="47">
)</text>
</g>
<path d=" M 319 42 h 10"/>
<path d=" M 453 42 h 10"/>
</g>
</g>
<path d=" M 119 42 h 10"/>
<path d=" M 157 42 h 10"/>
<path d=" M 235 42 h 10"/>
<path d=" M 273 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 464 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 136 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="85"/>
<text x="89" y="101">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="85"/>
<text x="143" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="85"/>
<text x="181" y="101">
f</text>
</g>
<path d=" M 119 96 h 10"/>
<path d=" M 157 96 h 10"/>
</g>
</g>
<path d=" M 533 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 523 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="191"/>
<text x="86" y="207">
input</text>
</g>
<text class="comment" x="189" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 558; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 558 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 143 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="10"/>
<text x="181" y="26">
f</text>
</g>
<path d=" M 143 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 155 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="167" y="63"/>
<text x="201" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="245" y="63"/>
<text x="259" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="283" y="42"/>
<path d=" M 283 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="63"/>
<text x="305" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 329 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 353 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="365" y="63"/>
<text x="391" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="463" y="63"/>
<text x="477" y="79">
)</text>
</g>
<path d=" M 319 74 h 10"/>
<path d=" M 453 74 h 10"/>
</g>
</g>
<path d=" M 235 74 h 10"/>
<path d=" M 273 74 h 10"/>
</g>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
</g>
<path d=" M 533 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 523 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="190"/>
<text x="86" y="206">
input</text>
</g>
<text class="comment" x="189" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="take&#x5F;while&#x5F;m&#x5F;n"><a href="#take&#x5F;while&#x5F;m&#x5F;n"><h3>Macro <i>`take_while_m_n`</i></h3></a><pre class="rust">macro_rules! take_while_m_n {
    ($input:expr, $m:expr, $n:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($input:expr, $m:expr, $n: expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 710; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 710 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 592 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="31"/>
<text x="89" y="47">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="31"/>
<text x="143" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="31"/>
<text x="181" y="47">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="31"/>
<text x="219" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="243" y="31"/>
<text x="257" y="47">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="281" y="31"/>
<text x="295" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="319" y="31"/>
<text x="353" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="31"/>
<text x="411" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="435" y="10"/>
<path d=" M 435 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="443" y="31"/>
<text x="457" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 481 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 505 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="517" y="31"/>
<text x="543" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
)</text>
</g>
<path d=" M 471 42 h 10"/>
<path d=" M 605 42 h 10"/>
</g>
</g>
<path d=" M 119 42 h 10"/>
<path d=" M 157 42 h 10"/>
<path d=" M 195 42 h 10"/>
<path d=" M 233 42 h 10"/>
<path d=" M 271 42 h 10"/>
<path d=" M 309 42 h 10"/>
<path d=" M 387 42 h 10"/>
<path d=" M 425 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 616 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 288 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="59" y="85"/>
<text x="89" y="101">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="129" y="85"/>
<text x="143" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="167" y="85"/>
<text x="181" y="101">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="205" y="85"/>
<text x="219" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="243" y="85"/>
<text x="257" y="101">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="281" y="85"/>
<text x="295" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="319" y="85"/>
<text x="333" y="101">
f</text>
</g>
<path d=" M 119 96 h 10"/>
<path d=" M 157 96 h 10"/>
<path d=" M 195 96 h 10"/>
<path d=" M 233 96 h 10"/>
<path d=" M 271 96 h 10"/>
<path d=" M 309 96 h 10"/>
</g>
</g>
<path d=" M 685 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 675 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="326" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="191"/>
<text x="86" y="207">
input</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="191"/>
<text x="142" y="207">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="168" y="191"/>
<text x="182" y="207">
n</text>
</g>
<text class="comment" x="269" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 710; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 710 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="35" y="10"/>
<text x="65" y="26">
input</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="105" y="10"/>
<text x="119" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="143" y="10"/>
<text x="157" y="26">
m</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="181" y="10"/>
<text x="195" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="219" y="10"/>
<text x="233" y="26">
n</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="257" y="10"/>
<text x="271" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 295 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="319" y="10"/>
<text x="333" y="26">
f</text>
</g>
<path d=" M 295 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 307 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="319" y="63"/>
<text x="353" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="397" y="63"/>
<text x="411" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="435" y="42"/>
<path d=" M 435 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="443" y="63"/>
<text x="457" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 481 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 505 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="517" y="63"/>
<text x="543" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="63"/>
<text x="629" y="79">
)</text>
</g>
<path d=" M 471 74 h 10"/>
<path d=" M 605 74 h 10"/>
</g>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 425 74 h 10"/>
</g>
</g>
<path d=" M 95 21 h 10"/>
<path d=" M 133 21 h 10"/>
<path d=" M 171 21 h 10"/>
<path d=" M 209 21 h 10"/>
<path d=" M 247 21 h 10"/>
<path d=" M 285 21 h 10"/>
</g>
<path d=" M 685 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 675 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="326" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="60" x="56" y="190"/>
<text x="86" y="206">
input</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="128" y="190"/>
<text x="142" y="206">
m</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="168" y="190"/>
<text x="182" y="206">
n</text>
</g>
<text class="comment" x="269" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="tap"><a href="#tap"><h3>Macro <i>`tap`</i></h3></a><pre class="rust">macro_rules! tap {
    ($i:expr, $name:ident : $submac:ident!( $($args:tt)* ) =&gt; $e:expr) =&gt; { ... };
    ($i:expr, $name: ident: $f:expr =&gt; $e:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 740; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 740 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 622 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="135" y="31"/>
<text x="161" y="47">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="31"/>
<text x="211" y="47">
:</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="31"/>
<text x="269" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="31"/>
<text x="327" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="10"/>
<path d=" M 351 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="31"/>
<text x="373" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 397 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="31"/>
<text x="459" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="31"/>
<text x="545" y="47">
)</text>
</g>
<path d=" M 387 42 h 10"/>
<path d=" M 521 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="577" y="31"/>
<text x="591" y="47">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="615" y="31"/>
<text x="629" y="47">
></text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="653" y="31"/>
<text x="667" y="47">
e</text>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 187 42 h 10"/>
<path d=" M 225 42 h 10"/>
<path d=" M 303 42 h 10"/>
<path d=" M 341 42 h 10"/>
<path d=" M 567 42 h 10"/>
<path d=" M 605 42 h 10"/>
<path d=" M 643 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 646 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 318 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="135" y="85"/>
<text x="161" y="101">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="85"/>
<text x="211" y="101">
:</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="85"/>
<text x="249" y="101">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="273" y="85"/>
<text x="287" y="101">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="311" y="85"/>
<text x="325" y="101">
></text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="349" y="85"/>
<text x="363" y="101">
e</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 187 96 h 10"/>
<path d=" M 225 96 h 10"/>
<path d=" M 263 96 h 10"/>
<path d=" M 301 96 h 10"/>
<path d=" M 339 96 h 10"/>
</g>
</g>
<path d=" M 715 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 705 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="157"/>
<text x="42" y="173">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="157"/>
<text x="114" y="173">
submac</text>
</g>
<text class="comment" x="221" y="172">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="191"/>
<text x="110" y="207">
i</text>
</g>
<text class="comment" x="197" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 740; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 740 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="111" y="10"/>
<text x="137" y="26">
name</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
:</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
f</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="10"/>
<text x="615" y="26">
=</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="639" y="10"/>
<text x="653" y="26">
></text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="677" y="10"/>
<text x="691" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
<path d=" M 591 21 h 10"/>
<path d=" M 629 21 h 10"/>
<path d=" M 667 21 h 10"/>
</g>
<path d=" M 715 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 705 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="52" x="16" y="156"/>
<text x="42" y="172">
name</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="80" y="156"/>
<text x="114" y="172">
submac</text>
</g>
<text class="comment" x="221" y="171">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="190"/>
<text x="110" y="206">
i</text>
</g>
<text class="comment" x="197" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="terminated"><a href="#terminated"><h3>Macro <i>`terminated`</i></h3></a><pre class="rust">macro_rules! terminated {
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 922; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 922 411" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 804 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="31"/>
<text x="491" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="31"/>
<text x="553" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="31"/>
<text x="615" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="10"/>
<path d=" M 639 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="31"/>
<text x="661" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 685 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="31"/>
<text x="751" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="31"/>
<text x="841" y="47">
)</text>
</g>
<path d=" M 675 42 h 10"/>
<path d=" M 817 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
<path d=" M 467 42 h 10"/>
<path d=" M 505 42 h 10"/>
<path d=" M 591 42 h 10"/>
<path d=" M 629 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 828 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 828 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 484 0 h 320 m -157 0 l -5 -5 m 0 10 l 5 -5 m 157 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="179"/>
<text x="149" y="195">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="179"/>
<text x="187" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="179"/>
<text x="245" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="179"/>
<text x="303" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="158"/>
<path d=" M 327 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="179"/>
<text x="349" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 373 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="179"/>
<text x="435" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="179"/>
<text x="521" y="195">
)</text>
</g>
<path d=" M 363 190 h 10"/>
<path d=" M 497 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 163 190 h 10"/>
<path d=" M 201 190 h 10"/>
<path d=" M 279 190 h 10"/>
<path d=" M 317 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 624 m -309 0 l -5 -5 m 0 10 l 5 -5 m 309 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
</g>
<path d=" M 897 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 887 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="267"/>
<g class="verticalgrid">
<text class="comment" x="164" y="288">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="305"/>
<text x="50" y="321">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="305"/>
<text x="134" y="321">
submac2</text>
</g>
<text class="comment" x="245" y="320">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="339"/>
<text x="30" y="355">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="339"/>
<text x="70" y="355">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="339"/>
<text x="110" y="355">
i</text>
</g>
<text class="comment" x="197" y="354">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="373"/>
<text x="42" y="389">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="373"/>
<text x="110" y="389">
args2</text>
</g>
<text class="comment" x="213" y="388">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 970; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 970 389" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="10"/>
<text x="187" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 211 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="235" y="10"/>
<text x="249" y="26">
g</text>
</g>
<path d=" M 211 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 223 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="235" y="63"/>
<text x="269" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="313" y="63"/>
<text x="327" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="351" y="42"/>
<path d=" M 351 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="359" y="63"/>
<text x="373" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 397 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 421 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="433" y="63"/>
<text x="459" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="531" y="63"/>
<text x="545" y="79">
)</text>
</g>
<path d=" M 387 74 h 10"/>
<path d=" M 521 74 h 10"/>
</g>
</g>
<path d=" M 303 74 h 10"/>
<path d=" M 341 74 h 10"/>
</g>
</g>
<path d=" M 163 21 h 10"/>
<path d=" M 201 21 h 10"/>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 116 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="137"/>
<text x="169" y="153">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="137"/>
<text x="227" y="153">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="116"/>
<path d=" M 251 148 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="137"/>
<text x="273" y="153">
(</text>
</g>
<g class="optional">
<path d=" M 297 148 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 148 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="137"/>
<text x="359" y="153">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="137"/>
<text x="445" y="153">
)</text>
</g>
<path d=" M 287 148 h 10"/>
<path d=" M 421 148 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="137"/>
<text x="491" y="153">
,</text>
</g>
<g class="choice">
<path d=" M 515 148 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="539" y="137"/>
<text x="553" y="153">
g</text>
</g>
<path d=" M 515 148 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 527 169 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="539" y="190"/>
<text x="577" y="206">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="625" y="190"/>
<text x="639" y="206">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="663" y="169"/>
<path d=" M 663 201 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="671" y="190"/>
<text x="685" y="206">
(</text>
</g>
<g class="optional">
<path d=" M 709 201 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 733 201 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="745" y="190"/>
<text x="775" y="206">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="851" y="190"/>
<text x="865" y="206">
)</text>
</g>
<path d=" M 699 201 h 10"/>
<path d=" M 841 201 h 10"/>
</g>
</g>
<path d=" M 615 201 h 10"/>
<path d=" M 653 201 h 10"/>
</g>
</g>
<path d=" M 203 148 h 10"/>
<path d=" M 241 148 h 10"/>
<path d=" M 467 148 h 10"/>
<path d=" M 505 148 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 945 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 935 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="245"/>
<g class="verticalgrid">
<text class="comment" x="164" y="266">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="283"/>
<text x="50" y="299">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="283"/>
<text x="134" y="299">
submac2</text>
</g>
<text class="comment" x="245" y="298">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="317"/>
<text x="30" y="333">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="317"/>
<text x="70" y="333">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="317"/>
<text x="110" y="333">
i</text>
</g>
<text class="comment" x="197" y="332">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="351"/>
<text x="42" y="367">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="351"/>
<text x="110" y="367">
args2</text>
</g>
<text class="comment" x="213" y="366">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="try&#x5F;parse"><a href="#try&#x5F;parse"><h3>Macro <i>`try_parse`</i></h3></a><pre class="rust">macro_rules! try_parse {
    ($i:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 526; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 526 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 408 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="31"/>
<text x="169" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="31"/>
<text x="227" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="10"/>
<path d=" M 251 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="31"/>
<text x="273" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 297 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="31"/>
<text x="359" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="31"/>
<text x="445" y="47">
)</text>
</g>
<path d=" M 287 42 h 10"/>
<path d=" M 421 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 241 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 432 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 104 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="85"/>
<text x="149" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
</g>
</g>
<path d=" M 501 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 491 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<text class="comment" x="157" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 526; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 526 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 111 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="10"/>
<text x="149" y="26">
f</text>
</g>
<path d=" M 111 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 123 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="63"/>
<text x="169" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="63"/>
<text x="227" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="42"/>
<path d=" M 251 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="63"/>
<text x="273" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 297 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="63"/>
<text x="359" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="63"/>
<text x="445" y="79">
)</text>
</g>
<path d=" M 287 74 h 10"/>
<path d=" M 421 74 h 10"/>
</g>
</g>
<path d=" M 203 74 h 10"/>
<path d=" M 241 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 501 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 491 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<text class="comment" x="157" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="tuple"><a href="#tuple"><h3>Macro <i>`tuple`</i></h3></a><pre class="rust">macro_rules! tuple {
    ($i:expr, $($rest:tt)*) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 180" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 111 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 135 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="147" y="23"/>
<text x="173" y="39">
rest</text>
</g>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
</g>
<path d=" M 245 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 235 34 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="70"/>
<g class="verticalgrid">
<text class="comment" x="164" y="91">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="108"/>
<text x="30" y="124">
i</text>
</g>
<text class="comment" x="124" y="123">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="142"/>
<text x="42" y="158">
rest</text>
</g>
<text class="comment" x="141" y="157">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="u16"><a href="#u16"><h3>Macro <i>`u16`</i></h3></a><pre class="rust">macro_rules! u16 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="u32"><a href="#u32"><h3>Macro <i>`u32`</i></h3></a><pre class="rust">macro_rules! u32 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="u64"><a href="#u64"><h3>Macro <i>`u64`</i></h3></a><pre class="rust">macro_rules! u64 {
    ($i:expr, $e:expr) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 120" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="111" y="10"/>
<text x="125" y="26">
e</text>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
</g>
<path d=" M 149 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 139 21 h 10"/>
</g>
<g class=" legend">
<rect height="66" width="309" x="10" y="44"/>
<g class="verticalgrid">
<text class="comment" x="164" y="65">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="82"/>
<text x="30" y="98">
e</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="82"/>
<text x="70" y="98">
i</text>
</g>
<text class="comment" x="157" y="97">
are expressions.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="value"><a href="#value"><h3>Macro <i>`value`</i></h3></a><pre class="rust">macro_rules! value {
    ($i:expr, $res:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $res:expr, $f:expr) =&gt; { ... };
    ($i:expr, $res:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 618; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 618 296" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 500 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="135" y="31"/>
<text x="157" y="47">
res</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="31"/>
<text x="203" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="227" y="31"/>
<text x="261" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="305" y="31"/>
<text x="319" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="343" y="10"/>
<path d=" M 343 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="351" y="31"/>
<text x="365" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 389 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 413 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="425" y="31"/>
<text x="451" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="523" y="31"/>
<text x="537" y="47">
)</text>
</g>
<path d=" M 379 42 h 10"/>
<path d=" M 513 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 179 42 h 10"/>
<path d=" M 217 42 h 10"/>
<path d=" M 295 42 h 10"/>
<path d=" M 333 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 524 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 33 m 524 0 v -33"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 196 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="135" y="85"/>
<text x="157" y="101">
res</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="85"/>
<text x="203" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="227" y="85"/>
<text x="241" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 179 96 h 10"/>
<path d=" M 217 96 h 10"/>
</g>
<path d=" M 47 117 v 0 a 12 12 0 0 0 12 12 m 120 0 h 380 m -187 0 l -5 -5 m 0 10 l 5 -5 m 187 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="118"/>
<text x="73" y="134">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="118"/>
<text x="111" y="134">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="135" y="118"/>
<text x="157" y="134">
res</text>
</g>
<path d=" M 87 129 h 10"/>
<path d=" M 125 129 h 10"/>
</g>
</g>
<path d=" M 593 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 583 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="152"/>
<g class="verticalgrid">
<text class="comment" x="164" y="173">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="190"/>
<text x="50" y="206">
submac</text>
</g>
<text class="comment" x="160" y="205">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="224"/>
<text x="30" y="240">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="224"/>
<text x="70" y="240">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="96" y="224"/>
<text x="118" y="240">
res</text>
</g>
<text class="comment" x="213" y="239">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="258"/>
<text x="42" y="274">
args</text>
</g>
<text class="comment" x="141" y="273">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 666; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 666 275" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="111" y="23"/>
<text x="133" y="39">
res</text>
</g>
<g class="optional">
<path d=" M 165 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 418 m -206 0 l -5 -5 m 0 10 l 5 -5 m 206 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="189" y="23"/>
<text x="203" y="39">
,</text>
</g>
<g class="choice">
<path d=" M 227 34 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="251" y="23"/>
<text x="265" y="39">
f</text>
</g>
<path d=" M 227 34 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 239 55 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="251" y="76"/>
<text x="285" y="92">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="329" y="76"/>
<text x="343" y="92">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="367" y="55"/>
<path d=" M 367 87 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="375" y="76"/>
<text x="389" y="92">
(</text>
</g>
<g class="optional">
<path d=" M 413 87 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 437 87 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="449" y="76"/>
<text x="475" y="92">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="547" y="76"/>
<text x="561" y="92">
)</text>
</g>
<path d=" M 403 87 h 10"/>
<path d=" M 537 87 h 10"/>
</g>
</g>
<path d=" M 319 87 h 10"/>
<path d=" M 357 87 h 10"/>
</g>
</g>
<path d=" M 217 34 h 10"/>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
<path d=" M 155 34 h 10"/>
</g>
<path d=" M 641 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 631 34 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="131"/>
<g class="verticalgrid">
<text class="comment" x="164" y="152">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="169"/>
<text x="50" y="185">
submac</text>
</g>
<text class="comment" x="160" y="184">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="203"/>
<text x="30" y="219">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="203"/>
<text x="70" y="219">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="44" x="96" y="203"/>
<text x="118" y="219">
res</text>
</g>
<text class="comment" x="213" y="218">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="237"/>
<text x="42" y="253">
args</text>
</g>
<text class="comment" x="141" y="252">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="verify"><a href="#verify"><h3>Macro <i>`verify`</i></h3></a><pre class="rust">macro_rules! verify {
    (__impl $i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $g:expr) =&gt; { ... };
    ($i:expr, $submac:ident!( $($args:tt)* ), $submac2:ident!( $($args2:tt)* )) =&gt; { ... };
    ($i:expr, $f:expr, $g:expr) =&gt; { ... };
    ($i:expr, $f:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 1000; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 1000 485" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 882 0 h 24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="31"/>
<text x="93" y="47">
__impl</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="137" y="31"/>
<text x="151" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="175" y="31"/>
<text x="189" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="213" y="31"/>
<text x="247" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="291" y="31"/>
<text x="305" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="329" y="10"/>
<path d=" M 329 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="31"/>
<text x="351" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 375 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 399 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="411" y="31"/>
<text x="437" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="509" y="31"/>
<text x="523" y="47">
)</text>
</g>
<path d=" M 365 42 h 10"/>
<path d=" M 499 42 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="31"/>
<text x="569" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="593" y="31"/>
<text x="631" y="47">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="679" y="31"/>
<text x="693" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="717" y="10"/>
<path d=" M 717 42 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="725" y="31"/>
<text x="739" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 763 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 787 42 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="799" y="31"/>
<text x="829" y="47">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="905" y="31"/>
<text x="919" y="47">
)</text>
</g>
<path d=" M 753 42 h 10"/>
<path d=" M 895 42 h 10"/>
</g>
</g>
<path d=" M 127 42 h 10"/>
<path d=" M 165 42 h 10"/>
<path d=" M 203 42 h 10"/>
<path d=" M 281 42 h 10"/>
<path d=" M 319 42 h 10"/>
<path d=" M 545 42 h 10"/>
<path d=" M 583 42 h 10"/>
<path d=" M 669 42 h 10"/>
<path d=" M 707 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 906 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 104 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 178 v 54 m 0 -24 l -5 -5 m 10 0 l -5 5 m 0 24 m 906 0 v -54 m 0 30 l -5 5 m 10 0 l -5 -5 m 0 -30"/>
<path d=" M 47 232 v 33 m 906 0 v -33"/>
<path d=" M 47 84 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="105"/>
<text x="73" y="121">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="105"/>
<text x="111" y="121">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="105"/>
<text x="169" y="121">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="105"/>
<text x="227" y="121">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="84"/>
<path d=" M 251 116 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="105"/>
<text x="273" y="121">
(</text>
</g>
<g class="optional">
<path d=" M 297 116 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 116 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="105"/>
<text x="359" y="121">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="105"/>
<text x="445" y="121">
)</text>
</g>
<path d=" M 287 116 h 10"/>
<path d=" M 421 116 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="105"/>
<text x="491" y="121">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="515" y="105"/>
<text x="529" y="121">
g</text>
</g>
<path d=" M 87 116 h 10"/>
<path d=" M 125 116 h 10"/>
<path d=" M 203 116 h 10"/>
<path d=" M 241 116 h 10"/>
<path d=" M 467 116 h 10"/>
<path d=" M 505 116 h 10"/>
</g>
<path d=" M 47 158 v 20 a 12 12 0 0 0 12 12 m 804 0 h 78 m -36 0 l -5 -5 m 0 10 l 5 -5 m 36 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="179"/>
<text x="73" y="195">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="179"/>
<text x="111" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="135" y="179"/>
<text x="169" y="195">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="179"/>
<text x="227" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="251" y="158"/>
<path d=" M 251 190 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="259" y="179"/>
<text x="273" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 297 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 321 190 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="333" y="179"/>
<text x="359" y="195">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="431" y="179"/>
<text x="445" y="195">
)</text>
</g>
<path d=" M 287 190 h 10"/>
<path d=" M 421 190 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="477" y="179"/>
<text x="491" y="195">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="515" y="179"/>
<text x="553" y="195">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="601" y="179"/>
<text x="615" y="195">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="639" y="158"/>
<path d=" M 639 190 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="647" y="179"/>
<text x="661" y="195">
(</text>
</g>
<g class="optional">
<path d=" M 685 190 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 709 190 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="721" y="179"/>
<text x="751" y="195">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="827" y="179"/>
<text x="841" y="195">
)</text>
</g>
<path d=" M 675 190 h 10"/>
<path d=" M 817 190 h 10"/>
</g>
</g>
<path d=" M 87 190 h 10"/>
<path d=" M 125 190 h 10"/>
<path d=" M 203 190 h 10"/>
<path d=" M 241 190 h 10"/>
<path d=" M 467 190 h 10"/>
<path d=" M 505 190 h 10"/>
<path d=" M 591 190 h 10"/>
<path d=" M 629 190 h 10"/>
</g>
<path d=" M 47 232 v 0 a 12 12 0 0 0 12 12 m 180 0 h 702 m -348 0 l -5 -5 m 0 10 l 5 -5 m 348 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="233"/>
<text x="73" y="249">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="233"/>
<text x="111" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="233"/>
<text x="149" y="249">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="233"/>
<text x="187" y="249">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="211" y="233"/>
<text x="225" y="249">
g</text>
</g>
<path d=" M 87 244 h 10"/>
<path d=" M 125 244 h 10"/>
<path d=" M 163 244 h 10"/>
<path d=" M 201 244 h 10"/>
</g>
<path d=" M 47 265 v 20 a 12 12 0 0 0 12 12 m 484 0 h 398 m -196 0 l -5 -5 m 0 10 l 5 -5 m 196 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="286"/>
<text x="73" y="302">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="286"/>
<text x="111" y="302">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="135" y="286"/>
<text x="149" y="302">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="173" y="286"/>
<text x="187" y="302">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="211" y="286"/>
<text x="245" y="302">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="289" y="286"/>
<text x="303" y="302">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="327" y="265"/>
<path d=" M 327 297 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="335" y="286"/>
<text x="349" y="302">
(</text>
</g>
<g class="optional">
<path d=" M 373 297 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 397 297 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="409" y="286"/>
<text x="435" y="302">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="507" y="286"/>
<text x="521" y="302">
)</text>
</g>
<path d=" M 363 297 h 10"/>
<path d=" M 497 297 h 10"/>
</g>
</g>
<path d=" M 87 297 h 10"/>
<path d=" M 125 297 h 10"/>
<path d=" M 163 297 h 10"/>
<path d=" M 201 297 h 10"/>
<path d=" M 279 297 h 10"/>
<path d=" M 317 297 h 10"/>
</g>
</g>
<path d=" M 975 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 965 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="341"/>
<g class="verticalgrid">
<text class="comment" x="164" y="362">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="379"/>
<text x="50" y="395">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="379"/>
<text x="134" y="395">
submac2</text>
</g>
<text class="comment" x="245" y="394">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="413"/>
<text x="30" y="429">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="413"/>
<text x="70" y="429">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="413"/>
<text x="110" y="429">
i</text>
</g>
<text class="comment" x="197" y="428">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="447"/>
<text x="42" y="463">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="447"/>
<text x="110" y="463">
args2</text>
</g>
<text class="comment" x="213" y="462">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 1018; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 1018 420" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 20 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 20 h 24 m 206 0 h 718 m -356 0 l -5 -5 m 0 10 l 5 -5 m 356 0"/>
<text class="comment" x="162" y="25">
Macro-internal rules omitted</text>
<path d=" M 35 20 a 12 12 0 0 1 12 12 v 8 m 924 0 v -8 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 40 v 0 a 12 12 0 0 0 12 12 m 900 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="41"/>
<text x="73" y="57">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="41"/>
<text x="111" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 135 52 h 24 m 456 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="159" y="41"/>
<text x="173" y="57">
f</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="197" y="41"/>
<text x="211" y="57">
,</text>
</g>
<g class="choice">
<path d=" M 235 52 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="259" y="41"/>
<text x="273" y="57">
g</text>
</g>
<path d=" M 235 52 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 247 73 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="259" y="94"/>
<text x="293" y="110">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="337" y="94"/>
<text x="351" y="110">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="375" y="73"/>
<path d=" M 375 105 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="383" y="94"/>
<text x="397" y="110">
(</text>
</g>
<g class="optional">
<path d=" M 421 105 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 445 105 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="457" y="94"/>
<text x="483" y="110">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="555" y="94"/>
<text x="569" y="110">
)</text>
</g>
<path d=" M 411 105 h 10"/>
<path d=" M 545 105 h 10"/>
</g>
</g>
<path d=" M 327 105 h 10"/>
<path d=" M 365 105 h 10"/>
</g>
</g>
<path d=" M 187 52 h 10"/>
<path d=" M 225 52 h 10"/>
</g>
<path d=" M 135 52 a 12 12 0 0 1 12 12 v 83 m 0 -38 l -5 -5 m 10 0 l -5 5 m 0 38 m 800 0 v -83 m 0 44 l -5 5 m 10 0 l -5 -5 m 0 -44 a 12 12 0 0 1 12 -12"/>
<path d=" M 147 147 v 20 a 12 12 0 0 0 12 12 m 776 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="159" y="168"/>
<text x="193" y="184">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="168"/>
<text x="251" y="184">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="275" y="147"/>
<path d=" M 275 179 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="283" y="168"/>
<text x="297" y="184">
(</text>
</g>
<g class="optional">
<path d=" M 321 179 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 345 179 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="357" y="168"/>
<text x="383" y="184">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="455" y="168"/>
<text x="469" y="184">
)</text>
</g>
<path d=" M 311 179 h 10"/>
<path d=" M 445 179 h 10"/>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="501" y="168"/>
<text x="515" y="184">
,</text>
</g>
<g class="choice">
<path d=" M 539 179 h 24 m 28 0 h 344 m -169 0 l -5 -5 m 0 10 l 5 -5 m 169 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="563" y="168"/>
<text x="577" y="184">
g</text>
</g>
<path d=" M 539 179 a 12 12 0 0 1 12 12 v 9 m 372 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 551 200 v 20 a 12 12 0 0 0 12 12 m 348 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="563" y="221"/>
<text x="601" y="237">
submac2</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="221"/>
<text x="663" y="237">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="224" x="687" y="200"/>
<path d=" M 687 232 h 8 m 208 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="695" y="221"/>
<text x="709" y="237">
(</text>
</g>
<g class="optional">
<path d=" M 733 232 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 84 m -39 0 l -5 -5 m 0 10 l 5 -5 m 39 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 757 232 h 12 m 60 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -60 m 33 0 l 5 -5 m 0 10 l -5 -5 m -33 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="769" y="221"/>
<text x="799" y="237">
args2</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="875" y="221"/>
<text x="889" y="237">
)</text>
</g>
<path d=" M 723 232 h 10"/>
<path d=" M 865 232 h 10"/>
</g>
</g>
<path d=" M 639 232 h 10"/>
<path d=" M 677 232 h 10"/>
</g>
</g>
<path d=" M 227 179 h 10"/>
<path d=" M 265 179 h 10"/>
<path d=" M 491 179 h 10"/>
<path d=" M 529 179 h 10"/>
</g>
</g>
<path d=" M 87 52 h 10"/>
<path d=" M 125 52 h 10"/>
</g>
</g>
<path d=" M 993 20 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 20 h 10"/>
<path d=" M 983 20 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="309" x="10" y="276"/>
<g class="verticalgrid">
<text class="comment" x="164" y="297">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="314"/>
<text x="50" y="330">
submac</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="76" x="96" y="314"/>
<text x="134" y="330">
submac2</text>
</g>
<text class="comment" x="245" y="329">
are identifiers.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="348"/>
<text x="30" y="364">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="348"/>
<text x="70" y="364">
g</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="96" y="348"/>
<text x="110" y="364">
i</text>
</g>
<text class="comment" x="197" y="363">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="382"/>
<text x="42" y="398">
args</text>
</g>
<g class="nonterminal fragment_tt">
<rect height="22" width="60" x="80" y="382"/>
<text x="110" y="398">
args2</text>
</g>
<text class="comment" x="213" y="397">
are token trees.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="wrap&#x5F;sep"><a href="#wrap&#x5F;sep"><h3>Macro <i>`wrap_sep`</i></h3></a><pre class="rust">macro_rules! wrap_sep {
    ($i:expr, $separator:expr, $submac:ident!( $($args:tt)* )) =&gt; { ... };
    ($i:expr, $separator:expr, $f:expr) =&gt; { ... };
}</pre><br><input class="opt_ckbox" type="checkbox" checked><label>Optimized layout</label><div style="width: 666; height:auto" class="dia unoptimized"><svg class="railroad" viewBox="0 0 666 263" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 42 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 42 h 24 m 548 0 h 24"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="31"/>
<text x="73" y="47">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="31"/>
<text x="111" y="47">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="92" x="135" y="31"/>
<text x="181" y="47">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="31"/>
<text x="251" y="47">
,</text>
</g>
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="275" y="31"/>
<text x="309" y="47">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="353" y="31"/>
<text x="367" y="47">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="391" y="10"/>
<path d=" M 391 42 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="31"/>
<text x="413" y="47">
(</text>
</g>
<g class="optional">
<path d=" M 437 42 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 461 42 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="473" y="31"/>
<text x="499" y="47">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="31"/>
<text x="585" y="47">
)</text>
</g>
<path d=" M 427 42 h 10"/>
<path d=" M 561 42 h 10"/>
</g>
</g>
<path d=" M 87 42 h 10"/>
<path d=" M 125 42 h 10"/>
<path d=" M 227 42 h 10"/>
<path d=" M 265 42 h 10"/>
<path d=" M 343 42 h 10"/>
<path d=" M 381 42 h 10"/>
</g>
<path d=" M 35 42 a 12 12 0 0 1 12 12 v 30 m 572 0 v -30 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 84 v 0 a 12 12 0 0 0 12 12 m 244 0 h 304 m -149 0 l -5 -5 m 0 10 l 5 -5 m 149 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="59" y="85"/>
<text x="73" y="101">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="97" y="85"/>
<text x="111" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="92" x="135" y="85"/>
<text x="181" y="101">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="237" y="85"/>
<text x="251" y="101">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="275" y="85"/>
<text x="289" y="101">
f</text>
</g>
<path d=" M 87 96 h 10"/>
<path d=" M 125 96 h 10"/>
<path d=" M 227 96 h 10"/>
<path d=" M 265 96 h 10"/>
</g>
</g>
<path d=" M 641 42 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 42 h 10"/>
<path d=" M 631 42 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="318" x="10" y="119"/>
<g class="verticalgrid">
<text class="comment" x="164" y="140">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="157"/>
<text x="50" y="173">
submac</text>
</g>
<text class="comment" x="160" y="172">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="191"/>
<text x="30" y="207">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="191"/>
<text x="70" y="207">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="92" x="96" y="191"/>
<text x="142" y="207">
separator</text>
</g>
<text class="comment" x="261" y="206">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="225"/>
<text x="42" y="241">
args</text>
</g>
<text class="comment" x="141" y="240">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div><div style="width: 666; height: auto" class="dia optimized"><svg class="railroad" viewBox="0 0 666 262" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 21 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="10"/>
<text x="49" y="26">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="10"/>
<text x="87" y="26">
,</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="92" x="111" y="10"/>
<text x="157" y="26">
separator</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="213" y="10"/>
<text x="227" y="26">
,</text>
</g>
<g class="choice">
<path d=" M 251 21 h 24 m 28 0 h 328 m -161 0 l -5 -5 m 0 10 l 5 -5 m 161 0"/>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="275" y="10"/>
<text x="289" y="26">
f</text>
</g>
<path d=" M 251 21 a 12 12 0 0 1 12 12 v 9 m 356 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 263 42 v 20 a 12 12 0 0 0 12 12 m 332 0 h 0 a 12 12 0 0 0 12 -12 v -20"/>
<g class="sequence">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="275" y="63"/>
<text x="309" y="79">
submac</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="353" y="63"/>
<text x="367" y="79">
!</text>
</g>
<g class="labeledbox">
<rect height="64" width="216" x="391" y="42"/>
<path d=" M 391 74 h 8 m 200 0 h 8"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="399" y="63"/>
<text x="413" y="79">
(</text>
</g>
<g class="optional">
<path d=" M 437 74 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 461 74 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="473" y="63"/>
<text x="499" y="79">
args</text>
</g>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="571" y="63"/>
<text x="585" y="79">
)</text>
</g>
<path d=" M 427 74 h 10"/>
<path d=" M 561 74 h 10"/>
</g>
</g>
<path d=" M 343 74 h 10"/>
<path d=" M 381 74 h 10"/>
</g>
</g>
<path d=" M 63 21 h 10"/>
<path d=" M 101 21 h 10"/>
<path d=" M 203 21 h 10"/>
<path d=" M 241 21 h 10"/>
</g>
<path d=" M 641 21 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 21 h 10"/>
<path d=" M 631 21 h 10"/>
</g>
<g class=" legend">
<rect height="134" width="318" x="10" y="118"/>
<g class="verticalgrid">
<text class="comment" x="164" y="139">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_ident">
<rect height="22" width="68" x="16" y="156"/>
<text x="50" y="172">
submac</text>
</g>
<text class="comment" x="160" y="171">
is an identifier.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="190"/>
<text x="30" y="206">
f</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="56" y="190"/>
<text x="70" y="206">
i</text>
</g>
<g class="nonterminal fragment_expr">
<rect height="22" width="92" x="96" y="190"/>
<text x="142" y="206">
separator</text>
</g>
<text class="comment" x="261" y="205">
are expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="224"/>
<text x="42" y="240">
args</text>
</g>
<text class="comment" x="141" y="239">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div><div class="example" id="ws"><a href="#ws"><h3>Macro <i>`ws`</i></h3></a><pre class="rust">macro_rules! ws {
    ($i:expr, $($args:tt)*) =&gt; { ... };
}</pre><br><div style="width: 329; height: auto" class="dia"><svg class="railroad" viewBox="0 0 329 180" xmlns="http://www.w3.org/2000/svg">
<g class="verticalgrid">
<g class="sequence">
<path d=" M 10 34 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="35" y="23"/>
<text x="49" y="39">
i</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="73" y="23"/>
<text x="87" y="39">
,</text>
</g>
<g class="optional">
<path d=" M 111 34 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 76 m -35 0 l -5 -5 m 0 10 l 5 -5 m 35 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 135 34 h 12 m 52 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -52 m 29 0 l 5 -5 m 0 10 l -5 -5 m -29 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="147" y="23"/>
<text x="173" y="39">
args</text>
</g>
</g>
</g>
<path d=" M 63 34 h 10"/>
<path d=" M 101 34 h 10"/>
</g>
<path d=" M 245 34 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 34 h 10"/>
<path d=" M 235 34 h 10"/>
</g>
<g class=" legend">
<rect height="100" width="309" x="10" y="70"/>
<g class="verticalgrid">
<text class="comment" x="164" y="91">
Non-terminal patterns used by this macro:</text>
<g class="horizontalgrid">
<g class="nonterminal fragment_expr">
<rect height="22" width="28" x="16" y="108"/>
<text x="30" y="124">
i</text>
</g>
<text class="comment" x="124" y="123">
is an expressions.</text>
</g>
<g class="horizontalgrid">
<g class="nonterminal fragment_tt">
<rect height="22" width="52" x="16" y="142"/>
<text x="42" y="158">
args</text>
</g>
<text class="comment" x="141" y="157">
is a token tree.</text>
</g>
</g>
</g>
</g>
</svg>
</div></div></div></body></html>